<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>è¿°è¯´Vulkançš„å†å²åŠç‰¹ç‚¹</title>
      <link href="/2022/10/14/ji-suan-ji-tu-xing-xue/vulkan/vulkan-de-li-shi-ji-te-dian/vulkan-de-li-shi-ji-te-dian/"/>
      <url>/2022/10/14/ji-suan-ji-tu-xing-xue/vulkan/vulkan-de-li-shi-ji-te-dian/vulkan-de-li-shi-ji-te-dian/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ğŸ“Œ ç”±äºå·¥ä½œçš„åŸå› ï¼Œå¼€å§‹è¿›å…¥è®¡ç®—æœºå›¾å½¢å­¦çš„é¢†åŸŸï¼Œå¼€å§‹ç ”ç©¶Vulkanï¼Œåé¢ä¼šæœ‰ä¸€ç³»åˆ—çš„å­¦ä¹ æ€»ç»“æ–‡ç« ï¼Œåœ¨æ­¤æŒ–å‘ä¸ºè¯ã€‚</p></blockquote><h1 id="Vulkançš„æ¥æº"><a href="#Vulkançš„æ¥æº" class="headerlink" title="Vulkançš„æ¥æº"></a>Vulkançš„æ¥æº</h1><p>ä¸ç®¡ä»€ä¹ˆä¸œè¥¿ï¼Œæˆ‘éƒ½å–œæ¬¢äº†è§£ä¸€ä¸‹å†å²ï¼Œè¿™æ ·æ‰ä¼šæ¿€èµ·å…´è¶£ï¼Œäº†è§£å®ƒä¸ºä»€ä¹ˆå‡ºç°ã€å‘å±•ï¼Œä¹ƒè‡³æˆ‘ä¸ºä»€ä¹ˆå­¦ä¹ å®ƒã€‚</p><p>åœ¨æˆ‘æœ€å¼€å§‹äº†è§£å›¾å½¢å­¦æ—¶ï¼Œè¿˜æ˜¯æœ¬ç§‘çš„æ—¶å€™ï¼Œé‚£æ—¶å€™è¿˜æ˜¯OpenGLçš„å¤©ä¸‹ï¼Œå› ä¸ºåé¢ä¹Ÿæ²¡æœ‰æ·±å…¥å›¾å½¢å­¦é¢†åŸŸï¼Œä¹Ÿå°±æ²¡æœ‰æ·±ç©¶ï¼Œç°åœ¨å¼€å§‹å·¥ä½œäº†ï¼Œå‘ç°è™½ç„¶è¿˜æ˜¯OpenGLå æ®ä¸»æµï¼Œä½†æ˜¯Vulkanã€DirectXç­‰APIä¹Ÿåœ¨ä¸æ–­å‘å±•ã€‚</p><p>Vulkanæœ€å¼€å§‹èµ·æºäºAMDçš„Mantleï¼Œä¹‹åå¤§å®¶å‘ç°è¿™ä¸ªä¸œè¥¿å¾ˆä¸é”™ï¼Œshowcased cutting-edge capabilitiesï¼Œäºæ˜¯AMDå°±å°†å®ƒå¼€æºäº†ï¼Œå¹¶æç»™äº†Khronosï¼Œæ²¡é”™ï¼Œå°±æ˜¯é‚£ä¸ªæŒæ¡OpenGLçš„ç»„ç»‡ï¼Œè¿™ä¸ªKhronosæ˜¯ä¸€ä¸ªäº§ä¸šè”ç›Ÿï¼Œé‡Œé¢æœ‰å¾ˆå¤šçš„è½¯ç¡¬ä»¶å‚å•†ï¼Œä¸åŒ…æ‹¬å·¨ç¡¬ã€‚</p><blockquote><p>æˆ‘å‘ç°ï¼Œå›½å¤–çš„ä¼ä¸šå¾ˆæ„¿æ„æŠŠå¥½ä¸œè¥¿æç»™ç¤¾åŒºï¼Œä¸€æ–¹é¢ï¼Œå»ºç«‹äº†æŠ€æœ¯ç”Ÿæ€ï¼Œä¸ºè‡ªå·±èµšå–åå£°ï¼Œå¦ä¸€æ–¹é¢ï¼Œç”±äºæ˜¯è‡ªå·±è®¾è®¡å¼€å‘çš„ï¼Œç»å¸¸è¿˜å¯ä»¥å æ®ä¸»å¯¼åœ°ä½ï¼Œä»è€Œåšå¤§åšå¼ºã€‚</p></blockquote><p>ä»2016å¹´å¼€å§‹ï¼Œå‘å¸ƒç‰ˆæœ¬ï¼ˆæˆ‘çš„macæ˜¯2015æ¬¾çš„ï¼Œä¸è¿‡åæ¥å‘ç°å³ä¾¿æ˜¯æ–°æ¬¾ä¹Ÿéœ€è¦<a href="https://github.com/KhronosGroup/MoltenVK">MoltenVK</a>, ç»è¿‡ä¸€ä¸ªä¸­ä»‹æ‰å¯ä»¥ï¼‰ã€‚</p><h1 id="Vulkanåˆ°åº•æ˜¯å•¥"><a href="#Vulkanåˆ°åº•æ˜¯å•¥" class="headerlink" title="Vulkanåˆ°åº•æ˜¯å•¥"></a>Vulkanåˆ°åº•æ˜¯å•¥</h1><blockquote><p>Vulkan is a <strong>software interface</strong> that is capable of controlling GPU hardware settings to <strong>harness the power of paralleling computing.</strong></p></blockquote><ul><li>æ˜¯ä¸€ä¸ªinterfaceï¼Œå«æ ‡å‡†ã€åè®®ä¹Ÿç½¢ï¼Œå°±æ˜¯å¤§å®¶çº¦å®šä¸€ä¸‹ï¼Œå¹²åŒæ ·çš„æ´»éµå¾ªåŒæ ·çš„æ­¥éª¤ï¼Œåˆ«çå¹²ï¼Œå½¢æˆäº†ç»Ÿä¸€çš„è§„èŒƒåï¼Œæœ‰åˆ©äºæé«˜ç”Ÿäº§ç‡ï¼Œå¯¹äºè§„èŒƒçš„å®ç°ï¼Œå„å®¶GPUå‚å•†è‡ªå·±å†³å®šï¼Œè¿™æ˜¯ç«äº‰åŠ›çš„ä½“ç°ï¼›</li><li>ç›®çš„æ˜¯å•¥ï¼Ÿåˆ©ç”¨GPUå¹¶è¡Œè®¡ç®—çš„èƒ½åŠ›ï¼Œè¯´ç™½äº†ï¼Œè®©GPUå¥½å¥½å¹²æ´»ï¼Œéšå«åœ°æš—ç¤ºï¼Œä¹‹å‰çš„APIåœ¨è¿™ä»¶äº‹ä¸Šåšçš„ä¸å¥½ï¼›</li><li>æ€ä¹ˆå¹²ï¼Ÿé€šè¿‡æ§åˆ¶GPUçš„ç¡¬ä»¶è®¾ç½®ï¼ŒGPUå¯å¤æ‚äº†ï¼Œå¦‚æœè¦å®Œå…¨æ§åˆ¶ï¼Œé‚£å·¥ä½œå¯ç¹çäº†ï¼Œè¿™ä¹Ÿæ˜¯vulkançš„ä¼˜ç‚¹ï¼Œä¹Ÿæ˜¯å®ƒçš„ç¼ºç‚¹ã€‚</li></ul><h1 id="Vulkanä¹‹å‰çš„APIæœ‰å•¥é—®é¢˜"><a href="#Vulkanä¹‹å‰çš„APIæœ‰å•¥é—®é¢˜" class="headerlink" title="Vulkanä¹‹å‰çš„APIæœ‰å•¥é—®é¢˜"></a>Vulkanä¹‹å‰çš„APIæœ‰å•¥é—®é¢˜</h1><p>ä¹‹å‰æœ€ä¸»è¦çš„æ˜¯OpenGLï¼ŒOpenGLæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªstate machineï¼Œé€šè¿‡æ§åˆ¶å„ç§çŠ¶æ€ï¼Œå½¢æˆä¸åŒçš„ç»„åˆï¼Œä»è€Œä»¥æœ€ä¼˜çš„æ–¹å¼ï¼Œè¾¾åˆ°æœ€é«˜çš„æ€§èƒ½ã€‚ä½†æ˜¯ï¼Œå…³é”®æ˜¯ä½†æ˜¯ï¼Œå®ƒçš„æ“ä½œæ˜¯implicitçš„ï¼Œå¼€å‘è€…æœ‰æ—¶å€™å¹¶ä¸çŸ¥é“ï¼Œè€Œä¸”OpenGLå¤ªæƒ³å¸®å¼€å‘è€…åšå¥½å„ç§å·¥ä½œäº†ï¼Œä½†æ˜¯éšç€å„ç§å¤æ‚åœºæ™¯çš„å‡ºç°ï¼ŒåŠ›æœ‰ä¸é€®ï¼Œé¢‘é¢‘å‡ºé”™ï¼Œå¯¼è‡´å„ç§é—®é¢˜ã€‚</p><p>æ ¸å¿ƒæ˜¯ï¼ŒOpenGLåœ¨ä¹‹å‰çš„åœºæ™¯ä¸­ï¼Œå¸®å¤§å®¶å¹²å¾—ä¸é”™ï¼Œç®¡ç†çš„å¾ˆé«˜ï¼Œä½†æ˜¯ç°åœ¨äººä»¬ç¾¤ä¼—çš„ç”Ÿæ´»æ°´å¹³æé«˜äº†ï¼Œå¤§å®¶æƒ³è¦æ›´å¥½çš„æ¸¸æˆä½“éªŒï¼Œä½†æ˜¯OpenGLæ— æ³•å®Œå…¨æ»¡è¶³è¿™ç§åœºæ™¯ï¼Œæˆ–è€…è¯´å¦‚æœè¦æ»¡è¶³ï¼Œéœ€è¦ä»˜å‡ºå¾ˆå¤§çš„ä»£ä»·ã€‚</p><p>ç›¸æ¯”äºOpenGLè¿™ç§ï¼Œå¸Œæœ›å¸®å¼€å‘è€…å¤šåšäº‹çš„è®¾è®¡æ€æƒ³ï¼Œvulkanå°±å¾ˆæµæ°“äº†ï¼Œè€å­ä¸ç®¡äº†ï¼Œå‡ºäº†é—®é¢˜æ˜¯ä½ ä»¬è‡ªå·±çš„äº‹æƒ…ï¼Œç¾å…¶åæ›°å¼€å‘è€…æœ€äº†è§£è‡ªå·±çš„éœ€æ±‚ï¼ˆå½“ç„¶è¿™ä¹Ÿæ²¡é”™å•¦ï¼‰ï¼Œå°†æ‰€æœ‰çš„æ“ä½œå…¨éƒ¨æ”¾åˆ°å°é¢ä¸Šï¼Œè¦å¹²ä»€ä¹ˆï¼Œè®©å¼€å‘è€…è‡ªå·±å†³å®šï¼Œå‡ºäº†é”™ä¹Ÿè‡ªå·±æ‰¿æ‹…ï¼Œè¿™å°±æ˜¯vulkanæœ€æ ¸å¿ƒçš„æ€æƒ³ã€‚</p><blockquote><p>è¿™ç§æ€æƒ³æˆ‘ä¸æ­¢ä¸€æ¬¡çœ‹åˆ°ï¼Œä¹‹å‰åœ¨è¯»ä¹¦çš„æ—¶å€™ï¼Œçœ‹åˆ°å¾ˆå¤šçš„è®¾è®¡æ€æƒ³ä¹Ÿæ˜¯è¿™æ ·çš„ï¼Œè€Œä¸”ï¼Œå¦‚æœä»”ç»†çœ‹ï¼Œæœ‰æ²¡æœ‰å‘ç°è¿™ä¸¤ç§æ€æƒ³å’Œæ¬§æ´²ã€ç¾å›½çš„æ”¿æ²»ã€ç¤¾ä¼šæ–‡åŒ–å¾ˆåƒï¼Œæ¬§æ´²æ¯”ç¤¾ä¼šä¸»ä¹‰è¿˜ç¤¾ä¼šä¸»ä¹‰ï¼Œå°±æ˜¯OpenGLï¼Œå¤ªæƒ³æŠŠå¤§å®¶éƒ½ç…§é¡¾å¥½äº†ï¼Œå¯æ˜¯å„ç§å‡ºé—®é¢˜ï¼Œç¦åˆ©ã€åŒ»ç–—ç­‰ç­‰ï¼Œç¾å›½å°±æ˜¯è‡ªå·±çš„äº‹æƒ…è‡ªå·±è´Ÿè´£ï¼Œå°±æ˜¯Vulkanä»£è¡¨çš„æ€æƒ³å˜›ï¼Œå¥½å¤„å˜›ï¼šè‡ªå·±çš„äº‹æƒ…è‡ªå·±è´Ÿè´£ï¼ŒæˆåŠŸäº†æ˜¯ä½ çš„æœ¬äº‹ï¼Œä¸Šä¸å°é¡¶ï¼›åå¤„å˜›ï¼šå¤±è´¥äº†ä½ ä¹Ÿåˆ«æ¥æ‰¾æˆ‘ï¼Œæ”¿åºœä¸ç»™ä½ å…œåº•ã€‚</p></blockquote><h1 id="Vulkanæœ‰å•¥ç‰¹ç‚¹"><a href="#Vulkanæœ‰å•¥ç‰¹ç‚¹" class="headerlink" title="Vulkanæœ‰å•¥ç‰¹ç‚¹"></a>Vulkanæœ‰å•¥ç‰¹ç‚¹</h1><p>è¯´èµ·Vulkanï¼Œå…¶å®ä¸åªæœ‰ä»–ä¸€å®¶APIï¼Œé™¤äº†ä¸Šé¢æåˆ°çš„OpenGLï¼Œè¿˜æœ‰å·¨ç¡¬å®¶çš„DirectXï¼Œä¸ºäº†æ¨è‡ªå·±çš„APIï¼Œåšçš„äº‹æƒ…åå£°ä¸å¤ªå¥½ã€‚è¿˜æœ‰è‹¹æœå®¶çš„Metal APIï¼Œæ°¸è¿œé‚£ä¹ˆç‰¹ç«‹ç‹¬è¡Œã€‚ä½†æ˜¯åä¸¤ä¸ªéƒ½æ˜¯é’ˆå¯¹ç‰¹å®šçš„å¹³å°çš„ã€‚</p><blockquote><p>è¿™é‡ŒVulkanå°†è·¨å¹³å°ä½œä¸ºä¼˜ç‚¹è¯´ï¼Œä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€é’ˆå¯¹ç‰¹å®šå¹³å°çš„å°±ä¸å¥½ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯è¦ä¸­ç«‹çœ‹å¾…ï¼Œä»å•†ä¸šè§’åº¦çœ‹ï¼Œè‹¹æœå®¶åªé’ˆå¯¹è‡ªå·±çš„å¹³å°åšï¼Œè½¯ç¡¬ä»¶èåˆçš„å¾ˆå¥½ï¼Œåªè¦å¯¹å¸‚åœºæœ‰è¶³å¤Ÿçš„æŒæ§åŠ›ï¼Œè¿™å°±æ˜¯ç°é‡‘å¥¶ç‰›ã€‚</p></blockquote><p>ç”±äºOpenGLå’ŒVulkanå‡æ˜¯è·¨å¹³å°çš„ï¼Œè€Œä¸”åˆéƒ½æ˜¯Khronoså®¶çš„ï¼Œå› æ­¤ä»–ä¿©æ¯”æœ€åˆé€‚ã€‚</p><h2 id="Vulkanå‡å°‘äº†driverçš„å·¥ä½œ"><a href="#Vulkanå‡å°‘äº†driverçš„å·¥ä½œ" class="headerlink" title="Vulkanå‡å°‘äº†driverçš„å·¥ä½œ"></a>Vulkanå‡å°‘äº†driverçš„å·¥ä½œ</h2><p>è¿™å°±æ˜¯å‰é¢æåˆ°çš„ï¼Œå°†ä¸€äº›OpenGL driveråšçš„å·¥ä½œæ”¾å¼ƒï¼Œå…¨éƒ¨äº¤ç»™å¼€å‘è€…å»åšï¼Œè®©ä»–ä»¬ç›´æ¥æ“çºµåº•å±‚ç¡¬ä»¶ï¼Œè¿™å¯¹äºä¼˜ç§€çš„å¼€å‘è€…æ¥è¯´å°±æ˜¯å¥½äº‹ï¼Œå¯¹äºä¸€äº›æ–°æ‰‹æ¥è¯´å°±æ˜¯ç¾éš¾ã€‚</p><p>è¿™ç§è®¾è®¡ï¼Œä½¿å¾—Vulkançš„driverå¾ˆthinï¼ŒæŠ›å¼ƒäº†å¾ˆå¤šè´£ä»»ï¼Œå¯ä»¥è½»è£…ä¸Šé˜µï¼Œå› æ­¤å¯ä»¥ä½¿å¾—GPUæ¸²æŸ“åœ°æ›´å¿«ã€‚</p><p><img src="/images/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/Vulkan/Vulkan%E7%9A%84%E5%8E%86%E5%8F%B2%E5%8F%8A%E7%89%B9%E7%82%B9/1.png" alt="Vulkan Driverçš„è®¾è®¡â€”â€”thin"></p><p>Vulkan Driverçš„è®¾è®¡â€”â€”thin</p><h2 id="Explicitçš„è®¾è®¡"><a href="#Explicitçš„è®¾è®¡" class="headerlink" title="Explicitçš„è®¾è®¡"></a>Explicitçš„è®¾è®¡</h2><p>ä¹‹å‰è¯´è¿‡OpenGLæ˜¯implicitçš„ï¼Œå³æ‚„æ‚„åœ°å¸®ä½ æŠŠå¾ˆå¤šå·¥ä½œéƒ½åšäº†ï¼Œä½ è¿˜ä¸çŸ¥é“ï¼ˆçœŸæ˜¯ä¸ªå¥½äººï¼‰ã€‚ä½†æ˜¯å‘¢ï¼Œå¹¶ä¸æ‹›äººå–œæ¬¢ï¼Œå› ä¸ºç®¡äº†å¤ªå¤šçš„é—²äº‹ï¼Œæœ‰æ—¶å€™è¿˜ç®¡ä¸å¥½ã€‚å› æ­¤ï¼ŒVulkanæ”¾å¼ƒäº†å½“è¿™ç§å¥½äººçš„æœºä¼šï¼ŒæŠŠä¹‹å‰resource managementç­‰å·¥ä½œéƒ½ç”©ç»™å¼€å‘è€…ï¼Œè¿™ç§æ–¹å¼ä½¿å¾—å¼€å‘è€…å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„æ“ä½œï¼Œä¹Ÿä¼šçŸ¥é“å“ªé‡Œå‡ºç°äº†é—®é¢˜ã€‚</p><h2 id="æ”¯æŒMultithread-scalability"><a href="#æ”¯æŒMultithread-scalability" class="headerlink" title="æ”¯æŒMultithread scalability"></a>æ”¯æŒMultithread scalability</h2><p>å¤šä¸ªè®¡ç®—æœºä¸­å¤šCPUå’Œå¤šæ ¸çš„å‘å±•ï¼Œå¤šçº¿ç¨‹çš„èƒ½åŠ›å†³å®šäº†ç¨‹åºçš„æ€§èƒ½ã€‚æœ‰<a href="https://www.youtube.com/watch?v=rvCD9FaTKCA">ä¸€ä¸ªè§†é¢‘</a>å¯¹æ¯”äº†vulkanå’ŒOpenGL ESçš„èƒ½åŠ›ï¼š</p><p><img src="/images/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/Vulkan/Vulkan%E7%9A%84%E5%8E%86%E5%8F%B2%E5%8F%8A%E7%89%B9%E7%82%B9/2.png" alt="Vulkanå’ŒOpenGLå¤šæ ¸CPUåˆ©ç”¨çš„å¯¹æ¯”"></p><p>å¯¹äºå¤šæ ¸CPUçš„åˆ©ç”¨ï¼š</p><ul><li>Vulkanæ˜¯é›¨éœ²å‡æ²¾ï¼›</li><li>OpenGL ESæ˜¯ç‹¬å® ä¸€ä¸ªï¼›</li></ul><p>è¿™æ˜¯Vulkanå¤šçº¿ç¨‹èƒ½åŠ›çš„ä¸€ä¸ªä½“ç°ã€‚</p><h2 id="å¯¹å†…å­˜çš„æ§åˆ¶"><a href="#å¯¹å†…å­˜çš„æ§åˆ¶" class="headerlink" title="å¯¹å†…å­˜çš„æ§åˆ¶"></a>å¯¹å†…å­˜çš„æ§åˆ¶</h2><p>ç”±äºVulkanæ˜¯explicitï¼Œå› æ­¤å¯¹äºå†…å­˜çš„æ§åˆ¶ï¼Œä¹Ÿæ˜¯å¼€æ”¾ã€é€æ˜çš„ï¼Œå…è®¸å¼€å‘è€…é€‰æ‹©ä¸åŒç±»å‹çš„å†…å­˜æ¥åº”ç”¨åœ¨èµ„æºä¸Šï¼›ç›¸æ¯”ä¹‹ä¸‹ï¼ŒOpenGLæŠŠè¿™éƒ¨åˆ†å·¥ä½œä¹Ÿå¸®ä½ åšäº†ï¼Œå› ä¸ºæ˜¯implicitçš„ã€‚</p><p>è¿™ä¸€ç‚¹ï¼Œè¿˜æ˜¯åœ¨ä¸Šé¢çš„è§†é¢‘ä¸­æœ‰ä½“ç°ï¼Œå› ä¸ºå†…å­˜çš„è®¿é—®ä¸ä»…å†³å®šäº†æ€§èƒ½ï¼Œè¿˜å†³å®šäº†åŠŸè€—ï¼š</p><p><img src="/images/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/Vulkan/Vulkan%E7%9A%84%E5%8E%86%E5%8F%B2%E5%8F%8A%E7%89%B9%E7%82%B9/3.png" alt="Vulkanå’ŒOpenGLåŠŸè€—çš„å¯¹æ¯”"></p><p>vulkanæ¯”OpenGL ESæ›´çœç”µã€‚</p><h2 id="ç»Ÿä¸€çš„API"><a href="#ç»Ÿä¸€çš„API" class="headerlink" title="ç»Ÿä¸€çš„API"></a>ç»Ÿä¸€çš„API</h2><p>æˆ‘è§‰å¾—å¯èƒ½æ˜¯OpenGLè¢«æå‡ºçš„å¤ªæ—©ï¼Œæ—©æœŸçš„APIéƒ½æ˜¯é’ˆå¯¹æ¡Œé¢çš„ï¼Œåé¢ä»¥æ‰‹æœºä¸ºä»£è¡¨çš„åµŒå…¥å¼è®¾å¤‡ä¸æ–­å‘å±•ï¼Œå› æ­¤OpenGLä¸­åˆæå‡ºäº†OpenGL ESï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼ŒVulkanåªæœ‰ä¸€å¥—APIï¼Œè¿™æ ·æ›´ç»Ÿä¸€ã€æ¸…æ™°ã€‚åŒæ—¶ï¼Œæ‰‹æœºç­‰ç§»åŠ¨è®¾å¤‡åœ¨Vulkanä¸­æ˜¯ç¬¬ä¸€ç­‰å…¬æ°‘çš„è§’è‰²ï¼Œè€ŒOpenGLä¸­ä¼šå…ˆæ›´æ–°æ¡Œé¢ç‰ˆï¼Œä¹‹åå†åŒæ­¥åˆ°ESã€‚</p><h2 id="Error-check-amp-validation"><a href="#Error-check-amp-validation" class="headerlink" title="Error check &amp; validation"></a>Error check &amp; validation</h2><p>å¯¹äºç¨‹åºçš„é”™è¯¯å’Œå¼‚å¸¸è¡Œä¸ºçš„æ£€æŸ¥æ˜¯å¾ˆé‡è¦çš„ï¼Œå°¤å…¶æ˜¯åœ¨debugæ—¶ï¼Œä½†æ˜¯åœ¨releaseæ—¶å°±ä¸éœ€è¦è¿™éƒ¨åˆ†äº†ã€‚OpenGL ESéšå¼åœ°å¸®æ‰€æœ‰ç¨‹åºéƒ½è¿›è¡Œäº†é”™è¯¯çš„æ£€æŸ¥å’ŒéªŒè¯ï¼Œä¸ç®¡ç¨‹åºæœ¬èº«æ˜¯å¦éœ€è¦ï¼Œä¸€ä¸ªä¸æ°å½“çš„æ¯”å–»ï¼Œè¿™å°±å¥½æ¯”å»è¥¿é¤å…åƒé¥­ï¼Œé¤å…ä¸ç®¡ä½ æ˜¯å¦åŒæ„ï¼Œé»˜è®¤å¸®ä½ æ‰¾äº†ä¸€ä¸ªå°æç´æ‰‹æ¼”å¥ï¼Œä½†æ˜¯ä¹‹åä½ å‘ç°ï¼Œè¿™ä¸ªæœåŠ¡ä¸ä¾¿å®œï¼Œè€Œä¸”è‡ªå·±å‹æ ¹ä¸éœ€è¦ã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒVulkanå°†é€‰æ‹©æƒäº¤ç»™äº†å¼€å‘è€…æœ¬èº«ï¼Œæˆ‘ä»¬çŸ¥é“ï¼ŒVulkanåœ¨driverä¸­å°½é‡å°‘åšäº‹ï¼Œå› æ­¤é”™è¯¯çš„æ£€æŸ¥å’ŒéªŒè¯ä¸æ˜¯æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œæ ‡å‡†å†…çš„é”™è¯¯éªŒè¯çš„åŠŸèƒ½ä¹Ÿå¾ˆå¼±ã€‚ä½†æ˜¯å®ƒä½œä¸ºäº†extensionå‡ºç°ï¼Œå½¢æˆvalidation layersï¼Œè¿™éƒ¨åˆ†ä¸ç”¨è¢«Vulkançš„APIæ˜¾ç¤ºè°ƒç”¨ï¼Œè€Œæ˜¯é€šè¿‡hookå‡½æ•°æ³¨å…¥çš„ï¼Œæ‰€ä»¥ä½¿ç”¨è¿‡ç¨‹ä¸­å¯èƒ½ä¼šæ„ŸçŸ¥ä¸åˆ°ã€‚</p><h2 id="Precompiled-shaders"><a href="#Precompiled-shaders" class="headerlink" title="Precompiled shaders"></a>Precompiled shaders</h2><p>åœ¨OpenGL ESä¸­shaderçš„ä»£ç é€šè¿‡GLSLç¼–å†™ï¼Œå¹¶ä¸”æ˜¯åŠ¨æ€ç¼–è¯‘çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æ¸²æŸ“æ—¶ï¼ŒOpenGL ESè¿˜è¦å»ç¼–è¯‘shaderï¼Œè¿™æ˜¾ç„¶æ›´æ…¢äº†ã€‚</p><p><img src="/images/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/Vulkan/Vulkan%E7%9A%84%E5%8E%86%E5%8F%B2%E5%8F%8A%E7%89%B9%E7%82%B9/4.png" alt="Untitled"></p><p>å¯¹æ¯”è€Œè¨€ï¼ŒVulkanä½¿ç”¨ä¸€ç§ä¸­é—´è¯­è¨€â€”â€”Standard Portable Intermediate Language (SPIR-V)æ¥è¡¨ç¤ºshaderç¨‹åºï¼Œè¿™ä¸ªshaderç¨‹åºæ˜¯é¢„å…ˆç¼–è¯‘å¥½çš„ï¼Œå…¶ä¸­æºä»£ç å¯ä»¥æ˜¯GLSLï¼Œé€šè¿‡Vulkanæä¾›çš„å·¥å…·é¢„å…ˆç¼–è¯‘æˆSPIR-Vï¼Œä»è€Œå‡å°‘äº†åç»­çš„å·¥ä½œæ—¶é—´ï¼Œæå‡æ•ˆç‡ã€‚</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul><li>Book â€”â€” Learning Vulkan</li><li><a href="https://vulkan-tutorial.com/Drawing_a_triangle/Graphics_pipeline_basics/Shader_modules">Shader modules</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vulkan </tag>
            
            <tag> OpenGL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++:å‡½æ•°æŒ‡é’ˆ</title>
      <link href="/2022/10/12/bian-cheng-zhi-dao/c-han-shu-zhi-zhen/"/>
      <url>/2022/10/12/bian-cheng-zhi-dao/c-han-shu-zhi-zhen/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ğŸ“Œ å‚è€ƒC++ primer 6.7</p></blockquote><blockquote><p>A function pointer is just thatâ€”a pointer that denotes a function rather than an object.</p></blockquote><ul><li>a function pointer points to a particular type.</li><li>A functionâ€™s type is determined by its return type and the types of its parameters. The functionâ€™s name is not part of its type.  å‡½æ•°çš„ç±»å‹ï¼Œç”±è¿”å›å€¼ç±»å‹å’Œå‚æ•°ç±»å‹å†³å®šï¼Œåç§°ä¸èµ·ä½œç”¨ï¼Œè¿™ä¹Ÿæ˜¯å‡½æ•°é‡è½½èƒ½æˆåŠŸçš„åŸå› ã€‚</li></ul><h1 id="å£°æ˜å’Œåˆå§‹åŒ–"><a href="#å£°æ˜å’Œåˆå§‹åŒ–" class="headerlink" title="å£°æ˜å’Œåˆå§‹åŒ–"></a>å£°æ˜å’Œåˆå§‹åŒ–</h1><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// å‡½æ•°æŒ‡é’ˆçš„å£°æ˜, pf as a pointer to function bool(const string &amp;, const string &amp;)</span><span class="token comment" spellcheck="true">// (*pf)æ˜¯æ•´ä½“ï¼Œbool(const string &amp;, const string &amp;)æ˜¯æ•´ä½“</span><span class="token keyword">bool</span> <span class="token punctuation">(</span><span class="token operator">*</span>pf<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// å‡½æ•°çš„å£°æ˜, è¯¥å‡½æ•°çš„ç±»å‹ä¸ºbool(const string &amp;, const string &amp;)</span><span class="token keyword">bool</span> <span class="token function">lengthCompare</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>å‡½æ•°æŒ‡é’ˆ</strong>çš„å£°æ˜ç‰¹åˆ«å®¹æ˜“ä¸<strong>è¿”å›æŒ‡é’ˆç±»å‹çš„å‡½æ•°</strong>çš„å£°æ˜æ··æ·†ï¼Œå¦‚ä¸‹ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// ä¸æ˜¯å‡½æ•°æŒ‡é’ˆçš„å£°æ˜ï¼Œè€Œæ˜¯ä¸€ä¸ªè¿”å›æŒ‡å‘boolç±»å‹æŒ‡é’ˆçš„å‡½æ•°</span><span class="token comment" spellcheck="true">// pf(const string &amp;, const string &amp;) as a pointer to bool</span><span class="token comment" spellcheck="true">// pf(const string &amp;, const string &amp;) æ˜¯æ•´ä½“</span><span class="token keyword">bool</span> <span class="token operator">*</span><span class="token function">pf</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>æ‰€ä»¥ï¼Œ<strong>ä¸è¦å¿˜è®°é‚£å¯¹æ‹¬å·</strong>ã€‚</p><p>å½“ä½¿ç”¨å‡½æ•°åç§°ä½œä¸ºä¸€ä¸ªvalueï¼Œå…¶è‡ªåŠ¨è½¬åŒ–ä¸ºä¸€ä¸ªpointerã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// ä¸¤ç§åˆå§‹åŒ–æ–¹å¼ç­‰ä»·ï¼Œ&amp;æ˜¯å¯é€‰çš„ã€‚</span>pf <span class="token operator">=</span> lengthCompare<span class="token punctuation">;</span>pf <span class="token operator">=</span> <span class="token operator">&amp;</span>lengthCompare<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// å¯ä»¥ä½¿ç”¨ç©ºæŒ‡é’ˆåˆå§‹åŒ–ï¼Œæ„å‘³ç€è¯¥å‡½æ•°æŒ‡é’ˆæœªæŒ‡å‘ä»»ä½•å‡½æ•°</span>pf <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>pf <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// å‡½æ•°æŒ‡é’ˆå£°æ˜çš„ç±»å‹ï¼Œå¿…é¡»ä¸ç”¨äºåˆå§‹åŒ–çš„å‡½æ•°ç±»å‹ç›¸åŒ</span><span class="token keyword">int</span> <span class="token function">sumLength</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cstringCompare</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pf <span class="token operator">=</span> sumLength<span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// error, è¿”å›å€¼ç±»å‹ä¸åŒ¹é…</span>pf <span class="token operator">=</span> cstringCompare<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// error, å‚æ•°ç±»å‹ä¸åŒ¹é…</span></code></pre><h1 id="å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨"><a href="#å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨" class="headerlink" title="å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨"></a>å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨</h1><h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŒ‡å‘ä¸€ä¸ªå‡½æ•°çš„æŒ‡é’ˆï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">bool</span> b1 <span class="token operator">=</span> <span class="token function">lengthCompare</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> b1 <span class="token operator">=</span> <span class="token function">pf</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">bool</span> b1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>pf<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ä¸‰ç§æ–¹å¼ç­‰ä»·ï¼Œ*ä¹Ÿæ˜¯å¯é€‰çš„</span></code></pre><p>å½“è°ƒç”¨é‡è½½å‡½æ•°æ—¶ï¼Œcompilerä¼šæ ¹æ®å‡½æ•°æŒ‡é’ˆä¸­å£°æ˜çš„ç±»å‹ï¼Œé€‰æ‹©å¯¹åº”çš„é‡è½½å‡½æ•°ä¹‹ä¸€è¿›è¡Œè°ƒç”¨ï¼Œä¸è¦å¿˜è®°ï¼Œ<strong>å‡½æ•°çš„ç±»å‹ç”±è¿”å›å€¼ç±»å‹å’Œå‚æ•°ç±»å‹å†³å®š</strong>ã€‚</p><h2 id="å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°"><a href="#å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°" class="headerlink" title="å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°"></a>å‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°</h2><p>å‡½æ•°ä¸­ä¹Ÿä¸èƒ½å®šä¹‰å‡½æ•°ç±»å‹(<code>function type</code>)ä½œä¸ºå‚æ•°ï¼Œè€Œæ˜¯éœ€è¦ä½¿ç”¨<code>pointer to function</code>, å’Œ<a href="https://lifehit.cn/2022/10/11/bian-cheng-zhi-dao/c-shu-zu-zuo-wei-can-shu-jin-xing-chuan-di/">æ•°ç»„çš„æ–¹å¼</a>æœ‰ç‚¹åƒã€‚</p><p>åœ¨å‡½æ•°ä¸­å¦‚æœè¦ä¼ é€’å‡½æ•°ç±»å‹çš„å‚æ•°ï¼Œä½¿ç”¨å¦‚ä¸‹æ–¹å¼ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// ä¸¤è€…çš„å£°æ˜ç­‰ä»·ï¼Œ</span><span class="token comment" spellcheck="true">// ä¸€ä¸ªéšå¼è½¬ä¸ºpointer to function</span><span class="token keyword">void</span> <span class="token function">useBigger</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span>s1<span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span>s2<span class="token punctuation">,</span> <span class="token keyword">bool</span> <span class="token function">pf</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ä¸€ä¸ªæ˜¾å¼å®šä¹‰ä¸ºpointer to function</span><span class="token keyword">void</span> <span class="token function">useBigger</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span>s1<span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span>s2<span class="token punctuation">,</span> <span class="token keyword">bool</span> <span class="token punctuation">(</span><span class="token operator">*</span>pf<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ä½¿ç”¨å¦‚ä¸‹</span><span class="token function">userBigger</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">,</span> lengthCompare<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å…¶ä¸­ï¼Œå½“ä¼ é€’çš„å‚æ•°ä¸ºfunction typeæ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†å…¶è½¬ä¸ºpointer to function. è¿™ä¸¤ç§ç±»å‹çš„åŒºåˆ«ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªå°ä¾‹å­æŸ¥çœ‹ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">bool</span> <span class="token function">lengthCompare</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token keyword">const</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">bool</span> <span class="token punctuation">(</span><span class="token operator">*</span>pf<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    pf <span class="token operator">=</span> lengthCompare<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>pf<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">using</span> F <span class="token operator">=</span> <span class="token keyword">bool</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    F f<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">bool</span> <span class="token function">lengthCompare</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span>s1<span class="token punctuation">,</span> <span class="token keyword">const</span> string <span class="token operator">&amp;</span>s2<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// è¾“å‡ºï¼š</span><span class="token comment" spellcheck="true">// PF: pointer to function</span><span class="token comment" spellcheck="true">// PFbRKNSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEES7_E</span><span class="token comment" spellcheck="true">// F: function</span><span class="token comment" spellcheck="true">// FbRKNSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEES7_E</span></code></pre><p>ä¹‹å‰æè¿‡ï¼ŒC++ä¸­çš„ç±»å‹è¿‡äºå¤æ‚ä¼šå¯¼è‡´é—®é¢˜ï¼Œè¿™é‡Œå‡½æ•°æŒ‡é’ˆå°±é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨<strong>ç±»å‹åˆ«å</strong>è¿›è¡Œæ›¿ä»£ã€‚åœ¨è¿™é‡Œéœ€è¦æ³¨æ„<code>function type</code>å’Œ<code>pointer to function</code> ä¸¤ç§ç±»å‹çš„åŒºåˆ«ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// Func and Func2 have function type</span><span class="token keyword">typedef</span> <span class="token keyword">bool</span> <span class="token function">Func</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>lengthCompare<span class="token punctuation">)</span> Func2<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// equivalent type</span><span class="token comment" spellcheck="true">// FuncP and FuncP2 have pointer to function type </span><span class="token keyword">typedef</span> <span class="token keyword">bool</span><span class="token punctuation">(</span> <span class="token operator">*</span>FuncP<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">typedef</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>lengthCompare<span class="token punctuation">)</span> <span class="token operator">*</span>FuncP2<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// equivalent type</span></code></pre><ul><li>Funcå’ŒFunc2å‡ä¸ºfunction type;</li><li>FuncPå’ŒFuncP2å‡ä¸ºpointer to function type;</li></ul><p>å½“ä½œä¸ºå‡½æ•°çš„å‚æ•°ä¼ é€’æ—¶ï¼Œè¿™ä¸¤ç§æ–¹å¼å‡å¯ä»¥ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// ä¸¤è€…å£°æ˜ç­‰ä»·</span><span class="token comment" spellcheck="true">// ç¼–è¯‘å™¨è‡ªåŠ¨å°†function typeè½¬ä¸ºpointer to function</span><span class="token keyword">void</span> <span class="token function">useBigger</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">,</span> Func<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç›´æ¥ä¼ é€’pointer to type</span><span class="token keyword">void</span> <span class="token function">useBigger</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">,</span> FuncP2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="å‡½æ•°æŒ‡é’ˆä½œä¸ºè¿”å›å€¼"><a href="#å‡½æ•°æŒ‡é’ˆä½œä¸ºè¿”å›å€¼" class="headerlink" title="å‡½æ•°æŒ‡é’ˆä½œä¸ºè¿”å›å€¼"></a>å‡½æ•°æŒ‡é’ˆä½œä¸ºè¿”å›å€¼</h2><ul><li>å‡½æ•°æŒ‡é’ˆè¿˜å¯ä»¥ä½œä¸ºè¿”å›å€¼ï¼Œä½†æ˜¯ä»ç„¶ä¸èƒ½è¿”å›å‡½æ•°ç±»å‹ï¼Œè€Œæ˜¯éœ€è¦ä½¿ç”¨pointer to function.</li><li><strong>ç¼–è¯‘å™¨ä¸ä¼šè‡ªåŠ¨å°†å‡½æ•°ç±»å‹è½¬ä¸ºæŒ‡é’ˆç±»å‹ï¼Œéœ€è¦æ˜¾å¼ç»™å‡º</strong>ï¼›æ³¨æ„ï¼Œè¿™ä¸€ç‚¹ä¸å°†å‡½æ•°ç±»å‹ä½œä¸ºå‚æ•°ä¼ é€’ä¸åŒï¼ˆé‚£é‡Œä¼šè‡ªåŠ¨è½¬ä¸ºæŒ‡é’ˆç±»å‹ï¼‰ã€‚</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// Fæ˜¯function type</span><span class="token keyword">using</span> F <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// PFæ˜¯pointer type</span><span class="token keyword">using</span> PF <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ok, return pointer to function</span>PF <span class="token function">f1</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// error, return function type</span>F <span class="token function">f1</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ok, return pointer to function</span>F <span class="token operator">*</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// å¯ä»¥ä½¿ç”¨auto + trailing return ç®€å†™</span><span class="token keyword">auto</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token keyword">int</span> <span class="token punctuation">(</span> <span class="token operator">*</span> <span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span> <span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="æ¨å¯¼å‡½æ•°æŒ‡é’ˆç±»å‹"><a href="#æ¨å¯¼å‡½æ•°æŒ‡é’ˆç±»å‹" class="headerlink" title="æ¨å¯¼å‡½æ•°æŒ‡é’ˆç±»å‹"></a>æ¨å¯¼å‡½æ•°æŒ‡é’ˆç±»å‹</h2><p>è¿™é‡Œçš„pointer to function å’Œ function typeå„ç§å†™æ³•æ··åœ¨ä¸€èµ·ï¼Œéå¸¸å®¹æ˜“å‡ºé”™ï¼Œæ— æ³•ç†è§£ã€‚å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨<code>decltype</code>ç­‰æ¥æ¨å¯¼ï¼Œå¦‚ä¸‹ï¼š</p><pre class=" language-cpp"><code class="language-cpp">string<span class="token operator">::</span>size_type <span class="token function">sumLength</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> string<span class="token operator">::</span>size_type <span class="token function">largerLength</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">decltype</span><span class="token punctuation">(</span>sumLength<span class="token punctuation">)</span> <span class="token operator">*</span><span class="token function">getFcn</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šå½“å¯¹å‡½æ•°ä½¿ç”¨decltypeæ—¶ï¼Œè¿”å›çš„æ˜¯<code>function  type</code>ï¼Œä¸æ˜¯ <code>pointer to function</code>, å› æ­¤åœ¨<code>getFcn</code>å‰çš„<code>*</code>åƒä¸‡ä¸èƒ½å¿˜è®°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ä¹‹é“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‡½æ•° </tag>
            
            <tag> å‡½æ•°æŒ‡é’ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++:è¡¨è¾¾å¼ç±»å‹å¸¦æ¥çš„å›°æ‰°</title>
      <link href="/2022/10/12/bian-cheng-zhi-dao/c-zhong-lei-xing-de-kun-rao/"/>
      <url>/2022/10/12/bian-cheng-zhi-dao/c-zhong-lei-xing-de-kun-rao/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ğŸ“Œ å‚è€ƒC++ primer 2.5</p></blockquote><h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>åœ¨å¤§å‹ç¨‹åºä¸­ï¼Œå¯¹è±¡çš„ç±»å‹å¾€å¾€ååˆ†å¤æ‚ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªå‡½æ•°æŒ‡é’ˆçš„ç±»å‹ï¼Œå¦‚ä¸‹ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">bool</span> <span class="token punctuation">(</span><span class="token operator">*</span>pf<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> string <span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">bool</span> b <span class="token operator">&amp;</span><span class="token punctuation">)</span></code></pre><p>å½“ä½œä¸ºä¸€ä¸ªæ•´ä½“æ”¾åˆ°å‡½æ•°ä¸­ä½œä¸ºå‚æ•°æ—¶ï¼Œå³å†—é•¿ï¼Œä¸å¥½ç†è§£ï¼Œåˆå®¹æ˜“å‡ºé”™ï¼Œé‰´äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›è§£å†³åŠæ³•ã€‚</p><h1 id="ç±»å‹åˆ«å-type-alias"><a href="#ç±»å‹åˆ«å-type-alias" class="headerlink" title="ç±»å‹åˆ«å type alias"></a>ç±»å‹åˆ«å type alias</h1><blockquote><p>A type alias is a name that is a synonym for another type.</p></blockquote><p>å®šä¹‰ç±»å‹çš„åˆ«åï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ã€‚</p><h2 id="é€šè¿‡typedefå®šä¹‰"><a href="#é€šè¿‡typedefå®šä¹‰" class="headerlink" title="é€šè¿‡typedefå®šä¹‰"></a>é€šè¿‡typedefå®šä¹‰</h2><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// å®šä¹‰doubleçš„åˆ«åæ˜¯wages</span><span class="token keyword">typedef</span> <span class="token keyword">double</span> wages<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// å®šä¹‰wages(double)çš„åˆ«åæ˜¯base, å®šä¹‰double *çš„åˆ«åæ˜¯p;</span><span class="token comment" spellcheck="true">// ç›¸å½“äºtypedef wages base; typedef wages * p;</span><span class="token keyword">typedef</span> wages base<span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>wages i <span class="token operator">=</span> <span class="token number">1.3</span><span class="token punctuation">;</span>p k <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// è¾“å‡ºPd, ä»£è¡¨pointer to double</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></code></pre><h2 id="é€šè¿‡usingå®šä¹‰"><a href="#é€šè¿‡usingå®šä¹‰" class="headerlink" title="é€šè¿‡usingå®šä¹‰"></a>é€šè¿‡usingå®šä¹‰</h2><blockquote><p>The new standard introduced a second way to deï¬ne a type alias, via an <strong>alias declaration</strong>.</p></blockquote><ul><li>An alias declaration starts with the keyword <em><strong>using</strong></em> followed by the alias name and an =.</li><li>The alias declaration deï¬nes the name on the left-hand side of the = as an alias for the type that appears on the right-hand side.</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">using</span> SI <span class="token operator">=</span> Sales_item<span class="token punctuation">;</span>SI si<span class="token punctuation">;</span></code></pre><h2 id="Pointer-amp-constä¸­ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹"><a href="#Pointer-amp-constä¸­ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="Pointer &amp; constä¸­ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹"></a>Pointer &amp; constä¸­ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹</h2><p>å½“ç±»å‹åˆ«åä¸å¤æ‚ç±»å‹ï¼Œå¦‚pointerç­‰ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œä¼šå‡ºç°ä¸€äº›éš¾ä»¥ç†è§£çš„äº‹æƒ…ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">typedef</span> <span class="token keyword">char</span> <span class="token operator">*</span> pstring<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// å®šä¹‰pstringä¸ºæŒ‡å‘charçš„æŒ‡é’ˆç±»å‹ï¼Œ pointer to char</span><span class="token keyword">const</span> pstring cstr <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// cstr is a constant pointer to char </span><span class="token keyword">const</span> pstring <span class="token operator">*</span>ps<span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// ps is a pointer to a constant pointer to char</span></code></pre><p>åœ¨æˆ‘ä»¬çš„ä½¿ç”¨ï¼Œå¦‚æœè¦åˆ¤æ–­å…·ä½“çš„ç±»å‹ï¼Œä¼šå€¾å‘äºå°†ç±»å‹æ›¿æ¢ä¸ºåŸå§‹ç±»å‹ï¼Œå¦‚ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">const</span> pstring cstr <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// å¯ä»¥å˜æˆï¼Œ å®¹æ˜“è¯¯è§£</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>cstr <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// cstr is a pointer to const char</span></code></pre><p>ä½†æ˜¯è¿™ç§æ›¿æ¢ï¼Œå¯¼è‡´äº†é”™è¯¯çš„ç†è§£ï¼Œè¿™é‡Œcsträ¸æ˜¯<code>pointer to const char</code>, è€Œæ˜¯ <code>const pointer to char</code>.</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">typedef</span> <span class="token keyword">char</span> <span class="token operator">*</span> pstring<span class="token punctuation">;</span><span class="token keyword">const</span> pstring cstr <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// èƒ½ä¿®æ”¹</span><span class="token operator">*</span>cstr <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">char</span> a <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹</span>cstr <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>pstring<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// è¾“å‡ºï¼šPc ä»£è¡¨pointer to char</span></code></pre><p><img src="/images/%E7%BC%96%E7%A8%8B%E4%B9%8B%E9%81%93/C++%E4%B8%AD%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9B%B0%E6%89%B0/1.png" alt="ä¸Šè¿°ä»£ç è¾“å‡º"></p><ul><li>è¿™é‡Œå¯¹äº *cstr = 1ï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œè¯´æ˜å¹¶ä¸æ˜¯<code>pointer to const char</code>;</li><li>å¯¹cstr = &amp;aæŠ¥é”™ï¼Œè¯´æ˜cstræœ¬èº«æ˜¯constï¼Œå³<code>const pointer to char</code>;</li></ul><blockquote><p>è¿™é‡Œè¿›è¡Œç±»å‹æ›¿æ¢ç†è§£æ—¶ï¼Œéœ€è¦å°†pstringæ•´ä½“è€ƒè™‘ï¼Œå³å…¨éƒ¨éƒ½æ˜¯ç±»å‹ï¼Œä¸èƒ½å°†char * æ‹†å¼€æ¥çœ‹ã€‚å¯ä»¥è¿™æ ·ç†è§£ï¼Œpstringæ˜¯ä¸€ä¸ªæŒ‡é’ˆç±»å‹ï¼Œè¿™æ˜¯æ­£ç¡®çš„ï¼Œå°†pstringè§†ä¸ºä¸€ä¸ªç±»ä¼¼intç­‰çš„ç®€å•ç±»å‹ï¼Œå› æ­¤ const pstringå°±æ˜¯const pointerï¼Œä¸æ˜¯pointer to const.</p></blockquote><h1 id="auto"><a href="#auto" class="headerlink" title="auto"></a>auto</h1><p>å½“ç±»å‹å¾ˆå¤æ‚æ—¶ï¼Œåˆ¤æ–­è¡¨è¾¾å¼çš„ç±»å‹æœ‰æ—¶å¾ˆå›°éš¾ï¼Œå®¹æ˜“å‡ºé”™ï¼ŒC++11æå‡ºautoæ¥å‘Šè¯‰ç¼–è¯‘å™¨æ¨æ–­è¡¨è¾¾å¼çš„ç±»å‹ã€‚</p><h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// itemä¸ºint</span><span class="token keyword">auto</span> item <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ok, int i, int *p</span><span class="token keyword">auto</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// error, int sz, double pi</span><span class="token keyword">auto</span> sz <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> pi <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span></code></pre><p><strong>å½“åœ¨ä¸€ä¸ªå£°æ˜ä¸­ï¼Œå‡ºç°å¤šä¸ªåˆå§‹åŒ–æ“ä½œæ—¶ï¼Œè¦ä¿è¯æ‰€æœ‰å˜é‡çš„base typeæ˜¯ä¸€è‡´çš„ã€‚</strong></p><h2 id="å¤æ‚ç±»å‹ä¸­autoçš„å¥‡å¼‚è¡¨ç°"><a href="#å¤æ‚ç±»å‹ä¸­autoçš„å¥‡å¼‚è¡¨ç°" class="headerlink" title="å¤æ‚ç±»å‹ä¸­autoçš„å¥‡å¼‚è¡¨ç°"></a>å¤æ‚ç±»å‹ä¸­autoçš„å¥‡å¼‚è¡¨ç°</h2><p>å¯¹äºå¤æ‚ç±»å‹ï¼Œæ¯”å¦‚ï¼ŒæŒ‡é’ˆã€å¼•ç”¨ç­‰ï¼Œautoçš„ç»“æœå¹¶ä¸ä¸€å®šæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ä¸­é‚£ä¹ˆç›´æ¥ï¼Œè€Œæ˜¯ç¼–è¯‘å™¨ä¼šè°ƒæ•´ã€‚</p><ul><li>å¯¹äºreference<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// c ä¸ºint, ä¸æ˜¯ int&amp;</span><span class="token keyword">auto</span> c <span class="token operator">=</span> b<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// è¾“å‡º: i</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></code></pre></li><li>å¯¹äºconst<ul><li>å¿½ç•¥ top-level const</li><li>ä¿ç•™ low-level const</li></ul>  top-level constå’Œlow-level constæ˜¯å•¥ï¼Œå¯ä»¥å‚è€ƒ<a href="https://lifehit.cn/2022/10/07/bian-cheng-zhi-dao/c-const-guan-jian-zi/">è¿™é‡Œ</a>.<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> ci <span class="token operator">=</span> i<span class="token punctuation">,</span> <span class="token operator">&amp;</span>cr <span class="token operator">=</span> ci<span class="token punctuation">;</span><span class="token keyword">auto</span> b <span class="token operator">=</span> ci<span class="token punctuation">;</span><span class="token keyword">auto</span> c <span class="token operator">=</span> cr<span class="token punctuation">;</span><span class="token keyword">auto</span> d <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span><span class="token keyword">auto</span> e <span class="token operator">=</span> <span class="token operator">&amp;</span>ci<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// è¾“å‡º</span>i<span class="token operator">:</span> <span class="token keyword">int</span>i<span class="token operator">:</span> <span class="token keyword">int</span>Pi<span class="token operator">:</span> pointer to <span class="token keyword">int</span>PKi<span class="token operator">:</span> pointer to <span class="token keyword">const</span> <span class="token keyword">int</span></code></pre>  å› ä¸ºï¼Œautoå¿½ç•¥äº†top-level constï¼Œå¦‚æœæƒ³è¦ä¿è¯å˜é‡ä¸ºconstï¼Œéœ€è¦æ˜¾å¼è¯´æ˜:<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">auto</span> f <span class="token operator">=</span> ci<span class="token punctuation">;</span></code></pre></li><li>å¯¹äºè‡ªåŠ¨æ¨å¯¼ç±»å‹çš„reference:  æ­¤æ—¶ï¼Œ<strong>top-level constä¸å†å¿½ç•¥äº†ï¼Œè€Œæ˜¯ä¿ç•™ä¸‹æ¥ã€‚</strong><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// g ä¸ºreference to auto - int, ciçš„constè¢«ä¿ç•™ï¼Œå› æ­¤ä¸ºconst int &amp;, ä¸æ˜¯ intæˆ–int &amp;</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>g <span class="token operator">=</span> ci<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// error, æ˜¯å­—é¢é‡ï¼Œæ— æ³•å–å¼•ç”¨</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>h <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ok. j ä¸º const reference, ä¸æ˜¯ reference to const int</span><span class="token keyword">const</span> <span class="token keyword">auto</span> <span class="token operator">&amp;</span>j <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span></code></pre>  è¿™é‡Œï¼Œè·Ÿtypedefä¸€æ ·ï¼Œä½¿ç”¨constä¿®é¥°autoæˆ–è€…typedefå®šä¹‰çš„ç±»å‹æ—¶ï¼Œconstå¾—åˆ°çš„æ˜¯const reference(æŠ€æœ¯ä¸Šä¸å­˜åœ¨è¿™ä¸ªæ¦‚å¿µ)æˆ–è€… const pointerã€‚</li></ul><h1 id="decltype"><a href="#decltype" class="headerlink" title="decltype"></a>decltype</h1><h2 id="åŸºæœ¬ä½¿ç”¨-1"><a href="#åŸºæœ¬ä½¿ç”¨-1" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><p>ä½¿ç”¨autoæ—¶, a variable that uses auto as its type speciï¬er must have an initializer. ä½†æ˜¯ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªå˜é‡éƒ½è¦åˆå§‹åŒ–ï¼Œæ¯”å¦‚å‡½æ•°è¿”å›å€¼ï¼Œæ­¤æ—¶autoæ— æ³•ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨<code>decltype</code>ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// ä¸ä¼šè°ƒç”¨f(), è€Œæ˜¯ä½¿ç”¨è¿”å›å€¼ç±»å‹ä½œä¸ºsumçš„ç±»å‹</span><span class="token keyword">decltype</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> sum <span class="token operator">=</span> x<span class="token punctuation">;</span></code></pre><h2 id="å¤æ‚ç±»å‹ä¸‹çš„è¡¨ç°"><a href="#å¤æ‚ç±»å‹ä¸‹çš„è¡¨ç°" class="headerlink" title="å¤æ‚ç±»å‹ä¸‹çš„è¡¨ç°"></a>å¤æ‚ç±»å‹ä¸‹çš„è¡¨ç°</h2><ul><li>decltype returns the type of that variable, including top-level const and references.  è¿™ä¸€ç‚¹ä¸autoçš„è¡¨ç°ä¸åŒã€‚<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> ci <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>cj <span class="token operator">=</span> ci<span class="token punctuation">;</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>ci<span class="token punctuation">)</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// x has type const int </span><span class="token keyword">decltype</span><span class="token punctuation">(</span>cj<span class="token punctuation">)</span> y <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// y has type const int&amp; and is bound to x </span><span class="token keyword">decltype</span><span class="token punctuation">(</span>cj<span class="token punctuation">)</span> z<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error: z is a reference and must be initialized</span></code></pre></li><li>Generally speaking, decltype returns a reference type for expressions that yield objects that can <strong>stand on the left-hand side of the assignment</strong>.  å³ï¼Œdecltypeæ¨æ–­è¡¨è¾¾å¼çš„ç±»å‹æ—¶ï¼Œå½“è¯¥è¡¨è¾¾å¼å¯ä»¥ä½œä¸ºå·¦å€¼æ—¶ï¼Œè¿”å›çš„æ˜¯å®ƒçš„å¼•ç”¨ï¼Œä¸æ˜¯åŸå§‹ç±»å‹ã€‚<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token operator">*</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">,</span> <span class="token operator">&amp;</span>r <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// r + 0 ä¸èƒ½ä½œä¸ºå·¦å€¼</span><span class="token keyword">decltype</span><span class="token punctuation">(</span>r <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">)</span> b<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok: addition yields an int; b is an (uninitialized) int </span><span class="token comment" spellcheck="true">// *p å¯ä»¥ä½œä¸ºå·¦å€¼ï¼Œæ¥å—èµ‹å€¼</span><span class="token keyword">decltype</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span> c<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error: c is int&amp; and must be initialized</span></code></pre></li><li>Another important difference between decltype and auto is that the deduction done by decltype depends on the form of its given expression.  åœ¨decltypeä¸­ä½¿ç”¨()å°†å˜é‡åŒ…èµ·æ¥ï¼Œä¼šå½±å“ç±»å‹çš„æ¨æ–­ã€‚<pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// decltype of a parenthesized variable is always a reference </span><span class="token keyword">decltype</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> d<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error: d is int&amp; and must be initialized </span><span class="token keyword">decltype</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> e<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok: e is an (uninitialized) int</span></code></pre><blockquote><p>ğŸ“Œ Remember that decltype((variable)) (note, double parentheses) is always a reference type, but decltype(variable) is a reference type only if variable is a reference.</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ä¹‹é“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> auto </tag>
            
            <tag> decltype </tag>
            
            <tag> typedef </tag>
            
            <tag> è¡¨è¾¾å¼ç±»å‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++:æ•°ç»„ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’</title>
      <link href="/2022/10/11/bian-cheng-zhi-dao/c-shu-zu-zuo-wei-can-shu-jin-xing-chuan-di/"/>
      <url>/2022/10/11/bian-cheng-zhi-dao/c-shu-zu-zuo-wei-can-shu-jin-xing-chuan-di/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ğŸ“Œ æ¥è‡ªC++ primerä¸­çš„6.2.4éƒ¨åˆ†</p></blockquote><h1 id="æ•°ç»„çš„ç‰¹æ€§"><a href="#æ•°ç»„çš„ç‰¹æ€§" class="headerlink" title="æ•°ç»„çš„ç‰¹æ€§"></a>æ•°ç»„çš„ç‰¹æ€§</h1><ul><li>æ•°ç»„åç§°ä½œä¸ºæŒ‡å‘å…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„pointerï¼›</li><li>æ•°ç»„ä¸èƒ½è¢«copy<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> b<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// é”™è¯¯ï¼Œä¸èƒ½ç”¨ä¸€ä¸ªæ•°ç»„åˆå§‹åŒ–å¦ä¸€ä¸ªæ•°æ®</span>b <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// é”™è¯¯ï¼Œä¸èƒ½æ•°ç»„èµ‹å€¼å’Œcopy</span></code></pre><blockquote><p>ğŸ“Œ æœ‰äº›ç¼–è¯‘å™¨å…è®¸æ•°ç»„èµ‹å€¼ï¼Œä½†æ˜¯è¿™ç§æ˜¯ä½œä¸ºcompiler extensionå­˜åœ¨çš„ï¼Œä¸æ˜¯æ ‡å‡†æ”¯æŒçš„è¯­æ³•ï¼Œè·¨ç¼–è¯‘å™¨æ—¶å¯èƒ½ä¼šå­˜åœ¨é—®é¢˜ã€‚</p></blockquote></li></ul><h1 id="æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°"><a href="#æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°" class="headerlink" title="æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°"></a>æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°</h1><p>åŸºäºæ•°ç»„çš„ç‰¹æ€§ï¼Œä¸èƒ½å¤åˆ¶ï¼Œå› æ­¤æ— æ³•ä½¿ç”¨æ•°ç»„ä½œä¸ºå‡½æ•°çš„å½¢å‚ï¼Œä¹Ÿå°±ä¸èƒ½æŒ‰å€¼ä¼ é€’æ•°ç»„ï¼›ä½†æ˜¯ï¼Œå¯ä»¥åˆ©ç”¨å¦ä¸€ä¸ªç‰¹æ€§ï¼Œå‘å‡½æ•°ä¼ é€’æ•°ç»„åç§°ä½œä¸ºç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚</p><h2 id="å£°æ˜æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°"><a href="#å£°æ˜æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°" class="headerlink" title="å£°æ˜æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°"></a>å£°æ˜æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°</h2><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// ä¸‰ç§å£°æ˜ç­‰ä»·ï¼Œå¿½ç•¥å®ƒä»¬å®šä¹‰çš„æ ·å­</span><span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ä¸Šè¿°ä¸‰ç§æ–¹å¼ä¸­ï¼Œå‡½æ•°çš„å‚æ•°å‡ä¸º<code>const int*</code>. å› æ­¤ï¼Œå½“å‡½æ•°è°ƒç”¨æ—¶ï¼Œåˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ—¶ï¼Œåªä¼šæŒ‰ç…§è¿™ä¸ªç±»å‹è¿›è¡ŒåŒ¹é…ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> j<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok, int *ç±»å‹ï¼Œå¯ä»¥ä¼ å…¥</span><span class="token function">print</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// ok, æ•°ç»„çš„ç»´åº¦ä¸ç›¸å…³</span></code></pre><p>è¿™é‡Œï¼Œæ•°ç»„çš„ç»´åº¦å³ä½¿ä¸åŒ¹é…ä¹Ÿæ²¡é—®é¢˜ï¼Œå› ä¸ºä¸å½±å“ã€‚</p><p>ä½†æ˜¯ï¼Œå› æ­¤å‡½æ•°ä¹Ÿä¸çŸ¥é“æ•°ç»„çš„å¤§å°äº†ï¼Œä¸ºäº†è¿›è¡Œéå†ï¼Œéœ€è¦ä¸€äº›é¢å¤–çš„æ–¹æ³•ï¼Œå…±æœ‰3ç§ã€‚</p><h2 id="ä¾èµ–æ•°ç»„ä¸­çš„å˜é‡ç±»å‹å­˜åœ¨æ ‡è¯†ç¬¦"><a href="#ä¾èµ–æ•°ç»„ä¸­çš„å˜é‡ç±»å‹å­˜åœ¨æ ‡è¯†ç¬¦" class="headerlink" title="ä¾èµ–æ•°ç»„ä¸­çš„å˜é‡ç±»å‹å­˜åœ¨æ ‡è¯†ç¬¦"></a>ä¾èµ–æ•°ç»„ä¸­çš„å˜é‡ç±»å‹å­˜åœ¨æ ‡è¯†ç¬¦</h2><p>å…¸å‹çš„å°±æ˜¯Cé£æ ¼çš„å­—ç¬¦ä¸²ï¼Œç»“å°¾æœ‰â€œ\0â€ null charactor. å› æ­¤ï¼Œå¯ä»¥æ ¹æ®è¿™ä¸ªåˆ¤æ–­æ˜¯å¦åˆ°ç»“å°¾ï¼Œå¦‚ä¸‹:</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>cp<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cp<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token operator">*</span>cp<span class="token punctuation">)</span><span class="token punctuation">{</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>cp<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>è¿™ç§æ–¹æ³•å¯¹äºå­—ç¬¦ä¸²ç­‰ç±»å‹å‹å¥½ï¼Œä½†æ˜¯ä¸é€‚ç”¨äºå¦‚intç­‰ç±»å‹çš„æ•°æ®ï¼Œå› ä¸ºæ²¡æœ‰ç»“å°¾æ ‡è¯†ç¬¦ã€‚</p><h2 id="ä¼ é€’æ•°ç»„çš„æ”¶å°¾æŒ‡é’ˆ"><a href="#ä¼ é€’æ•°ç»„çš„æ”¶å°¾æŒ‡é’ˆ" class="headerlink" title="ä¼ é€’æ•°ç»„çš„æ”¶å°¾æŒ‡é’ˆ"></a>ä¼ é€’æ•°ç»„çš„æ”¶å°¾æŒ‡é’ˆ</h2><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span> beg<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>beg <span class="token operator">!=</span> end<span class="token punctuation">)</span><span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>beg <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        beg<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> j<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å…¶ä¸­ï¼š</p><ul><li>beginè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆï¼›</li><li>endè¿”å›æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„æŒ‡é’ˆï¼Œæ³¨æ„ï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ä¸åœ¨æ•°ç»„ä¸­ï¼Œä½†æ˜¯æ˜¯æœ‰æ•ˆçš„æŒ‡é’ˆvalueï¼›</li></ul><p>è¿™ç§æ–¹æ³•ï¼Œé€šç”¨ï¼Œå®‰å…¨ï¼Œä¸å—ç±»å‹çš„é™åˆ¶ã€‚</p><h2 id="æ˜¾å¼ä¼ é€’æ•°ç»„é•¿åº¦"><a href="#æ˜¾å¼ä¼ é€’æ•°ç»„é•¿åº¦" class="headerlink" title="æ˜¾å¼ä¼ é€’æ•°ç»„é•¿åº¦"></a>æ˜¾å¼ä¼ é€’æ•°ç»„é•¿åº¦</h2><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> ia<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> size_t size<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">!=</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> ia<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token keyword">int</span> j<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token function">print</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¿™ç§æ–¹æ³•ä¹Ÿæ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯è¦ä¿è¯sizeä¸iaçš„é•¿åº¦æ˜¯ä¸€è‡´çš„ã€‚</p><h1 id="ä¸€äº›æ³¨æ„äº‹é¡¹"><a href="#ä¸€äº›æ³¨æ„äº‹é¡¹" class="headerlink" title="ä¸€äº›æ³¨æ„äº‹é¡¹"></a>ä¸€äº›æ³¨æ„äº‹é¡¹</h1><ul><li>ä¸Šè¿°å‡½æ•°çš„å®šä¹‰ä¸­ï¼Œå‚æ•°å‡ä¸º pointer to constï¼›<blockquote><p>When a function does not need write access to the array elements, the array parameter should be a pointer to const. A parameter should be a plain pointer to a nonconst type only if the function needs to change element values.</p></blockquote></li><li>referenceå¯¹äºæ•°ç»„å‚æ•°çš„å½±å“  å¯¹äºä¸€ä¸ªæ•°ç»„å˜é‡ï¼Œå¯ä»¥å®šä¹‰å®ƒçš„reference, å¯¹äºå‡½æ•°å‚æ•°ä¸­æ•°ç»„ï¼Œä¹Ÿå¯ä»¥å®šä¹‰æ•°ç»„çš„referenceï¼Œä½†æ˜¯ä¼šæœ‰ä¸€ç‚¹è¿·æƒ‘ã€‚<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> elem <span class="token operator">:</span> arr<span class="token punctuation">)</span>        cout <span class="token operator">&lt;&lt;</span> elem <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 1. arr[10] stores ten reference to ints.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 2. è¡¨ç¤ºï¼Œarr is a reference to an array of ten ints, (&amp;arr)ä¸­æ‹¬å·å¿…é¡»å­˜åœ¨</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>arr<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>  å¯¹ç¬¬ä¸€ä¸ªæ¥è¯´ï¼Œå› ä¸ºæ•°ç»„çš„ç»´åº¦æ˜¯æ•°ç»„ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œå½“è°ƒç”¨å‡½æ•°<code>print(int (&amp;arr)[10])</code>æ—¶ï¼Œå¿…é¡»ä¿è¯ç»´åº¦ç›¸åŒã€‚<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> k<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error: argument is not an array of ten ints </span><span class="token function">print</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error: argument is not an array of ten ints </span><span class="token function">print</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok: argument is an array of ten ints</span></code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ä¹‹é“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°ç»„ </tag>
            
            <tag> å‡½æ•° </tag>
            
            <tag> å‚æ•°ä¼ é€’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++:constå…³é”®å­—</title>
      <link href="/2022/10/07/bian-cheng-zhi-dao/c-const-guan-jian-zi/"/>
      <url>/2022/10/07/bian-cheng-zhi-dao/c-const-guan-jian-zi/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ğŸ’¡ æœ¬ç¯‡çš„å†…å®¹æ¥è‡ªC++ Primerä¸­çš„2.4èŠ‚</p></blockquote><h1 id="åŸºæœ¬å†…å®¹"><a href="#åŸºæœ¬å†…å®¹" class="headerlink" title="åŸºæœ¬å†…å®¹"></a>åŸºæœ¬å†…å®¹</h1><h2 id="å®šä¹‰ä¸åˆå§‹åŒ–"><a href="#å®šä¹‰ä¸åˆå§‹åŒ–" class="headerlink" title="å®šä¹‰ä¸åˆå§‹åŒ–"></a>å®šä¹‰ä¸åˆå§‹åŒ–</h2><blockquote><p>We can make a variable unchangeable by deï¬ning the variableâ€™s type as <strong>const</strong>.</p></blockquote><ul><li>å› ä¸ºconstå˜é‡ï¼Œä¸èƒ½æ”¹å˜ï¼Œå› æ­¤å¿…é¡»åˆå§‹åŒ–ã€‚</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">get_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// æ­£ç¡®ï¼Œruntimeåˆå§‹åŒ– </span><span class="token keyword">const</span> <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">// æ­£ç¡®ï¼Œcompile timeåˆå§‹åŒ–</span><span class="token keyword">const</span> <span class="token keyword">int</span> k<span class="token punctuation">;</span>               <span class="token comment" spellcheck="true">// é”™è¯¯ï¼Œæ²¡æœ‰åˆå§‹åŒ–</span></code></pre><p>constå˜é‡å¯ä»¥æ¥å—é‚£äº›æ— æ³•æ”¹å˜å˜é‡æœ¬èº«æ•°æ®çš„æ“ä½œï¼Œä¾‹å¦‚èµ‹å€¼å’Œcopyç­‰ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> ci <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token keyword">int</span> j <span class="token operator">=</span> ci<span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// æ­£ç¡®ï¼Œjåˆå§‹åŒ–åï¼Œä¸ciæ— å…³ã€‚</span></code></pre><h2 id="ç‰¹æ€§ï¼šconst-Objects-Are-Local-to-a-File"><a href="#ç‰¹æ€§ï¼šconst-Objects-Are-Local-to-a-File" class="headerlink" title="ç‰¹æ€§ï¼šconst Objects Are Local to a File"></a>ç‰¹æ€§ï¼šconst Objects Are Local to a File</h2><ul><li>const variables are deï¬ned as local to the ï¬le.</li><li>When we deï¬ne a const with the same name in multiple ï¬les, it is as if we had written deï¬nitions for separate variables in each ï¬le.</li></ul><p>å¯¹äºconstå˜é‡ï¼Œè§„å®šå…¶åªåœ¨æœ¬æ–‡ä»¶ä¸­èµ·ä½œç”¨ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆè¿™æ ·è§„å®šï¼Ÿè¿™è¦æåˆ°compilerã€‚å¯¹äº<code>const int bufSize = 512</code>è¿™ç§ä½¿ç”¨ç¼–è¯‘æ—¶å¸¸é‡åˆå§‹åŒ–constå˜é‡æ—¶ï¼Œ åœ¨ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå°†æ‰€æœ‰æåˆ°çš„å˜é‡è¿›è¡Œæ›¿æ¢ï¼Œä¸ºäº†å®Œæˆæ›¿æ¢ï¼Œç¼–è¯‘å™¨å¿…é¡»çŸ¥é“åˆå§‹åŒ–å€¼ï¼Œå½“ç¨‹åºåˆ†æˆå¤šä¸ªæ–‡ä»¶æ—¶ï¼Œä¸ºäº†æ”¯æŒç¼–è¯‘å™¨çš„è¿™ç§æ“ä½œï¼Œéœ€è¦åœ¨æ‰€æœ‰ä½¿ç”¨è¯¥å˜é‡çš„å¤šä¸ªæ–‡ä»¶ä¸­å®šä¹‰åŒåçš„constå˜é‡ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸æ„¿è§åˆ°çš„ï¼Œå› æ­¤å®šä¹‰constå˜é‡åªåœ¨æœ¬æ–‡ä»¶ç”Ÿæ•ˆã€‚</p></blockquote><p>å½“åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰äº†constå˜é‡ï¼Œä½†æ˜¯æƒ³åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œéœ€è¦ä½¿ç”¨<code>extern</code>å…³é”®å­—ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// file_1.cc deï¬nes and initializes a const that is accessible to other ï¬les </span><span class="token keyword">extern</span> <span class="token keyword">const</span> <span class="token keyword">int</span> bufSize <span class="token operator">=</span> <span class="token function">fcn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// file_1.h </span><span class="token keyword">extern</span> <span class="token keyword">const</span> <span class="token keyword">int</span> bufSize<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// same bufSize as deï¬ned in file_1.cc</span></code></pre><p>è¿™æ ·å¯ä»¥å®ç°constå˜é‡çš„å…±äº«ã€‚</p><h1 id="References-to-const"><a href="#References-to-const" class="headerlink" title="References to const"></a>References to const</h1><blockquote><p>æˆ‘æƒ³ï¼Œæœ‰æ—¶å€™å­¦æŠ€æœ¯ï¼Œè¿˜æ˜¯è¦çœ‹è‹±æ–‡åŸç‰ˆçš„è¯´æ˜ï¼Œç”¨è¯æ›´å‡†ç¡®å’Œç›´æ¥ã€‚</p></blockquote><h2 id="æ¾„æ¸…æ¦‚å¿µ"><a href="#æ¾„æ¸…æ¦‚å¿µ" class="headerlink" title="æ¾„æ¸…æ¦‚å¿µ"></a>æ¾„æ¸…æ¦‚å¿µ</h2><p>è¿™é‡Œé¦–å…ˆæ˜ç¡® <strong>references to const</strong> æŒ‡çš„æ˜¯ï¼š</p><ul><li>bind a reference to an object of a const type.</li><li>the object is a reference that refers to a const type;</li></ul><p>ä½†æ˜¯ï¼Œè¿™ç§å¯¹äºconstçš„å¼•ç”¨ï¼Œä¸èƒ½é€šè¿‡å¼•ç”¨æ”¹å˜å…¶å€¼ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> ci <span class="token operator">=</span> <span class="token number">1024</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok: both reference and underlying object are const </span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>r1 <span class="token operator">=</span> ci<span class="token punctuation">;</span> r1 <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// error: r1 is a reference to const</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>r2 <span class="token operator">=</span> ci<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// error: nonconst reference to a const object</span></code></pre><p>æˆ‘ä»¬åœ¨ä¹‹å‰è®²å¼•ç”¨æ—¶ï¼Œæåˆ°<strong>å¼•ç”¨å¿…é¡»åˆå§‹åŒ–ï¼Œä¸”åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼Œä¸èƒ½æ”¹å˜å…¶ç»‘å®šçš„å˜é‡</strong>ã€‚å› æ­¤ï¼Œè¿™é‡Œéœ€è¦æ¾„æ¸…ä¸€ä¸‹references to const ä¸­æ˜“äºæ··æ·†çš„æ¦‚å¿µï¼š</p><ul><li>æœ‰äººè®¤ä¸ºï¼šreferences to constå³ä¸º const referencesï¼Œè¿™ä¼šé€ æˆè¯¯è§£ï¼Œå…¶å®æœ¬è´¨ä¸åŒï¼›</li><li>ç”±äºå¼•ç”¨æœ¬èº«ä¸èƒ½æ›´æ¢å¼•ç”¨çš„å¯¹è±¡ï¼Œå› æ­¤ in some sense all references are constï¼Œæˆ–è€…è¯´ï¼ŒæŠ€æœ¯ä¸Šï¼Œä¸å­˜åœ¨const referencesï¼›</li><li>æˆ‘ä»¬ä¸€ç›´æçš„constï¼Œä¸èƒ½æ”¹å˜ï¼Œå…¶å®æŒ‡çš„æ˜¯reference to constä¸­ï¼Œä¸èƒ½é€šè¿‡è¯¥å¼•ç”¨æ”¹å˜å…¶ç»‘å®šçš„å€¼ï¼›</li></ul><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><p>åœ¨å¼•ç”¨ä¸­ï¼Œå¼•ç”¨æœ¬èº«çš„ç±»å‹å¿…é¡»ä¸ç»‘å®šçš„å˜é‡çš„ç±»å‹åŒ¹é…ï¼Œä½†æ˜¯åŠ å…¥äº†conståï¼Œå°±å‡ºç°äº†ä¾‹å¤–ã€‚</p><h3 id="constå¯¹referenceåˆå§‹åŒ–çš„å½±å“"><a href="#constå¯¹referenceåˆå§‹åŒ–çš„å½±å“" class="headerlink" title="constå¯¹referenceåˆå§‹åŒ–çš„å½±å“"></a>constå¯¹referenceåˆå§‹åŒ–çš„å½±å“</h3><p>referenceå¿…é¡»åˆå§‹åŒ–ï¼Œä¸”ç»ˆç”Ÿä¸èƒ½æ”¹å˜ç»‘å®šå¯¹è±¡ï¼›è€Œä¸”å…¶å¼•ç”¨çš„å¯¹è±¡ç±»å‹å¿…é¡»ä¸è‡ªå·±ç›¸åŒ¹é…ï¼›ä¸”åˆå§‹åŒ–æ—¶ä½¿ç”¨çš„è¡¨è¾¾å¼åªèƒ½æ˜¯objects, ä¸èƒ½æ˜¯ literal æˆ–è€…è¿ç®—è¡¨è¾¾å¼ã€‚</p><p>ä½†æ˜¯constçš„ä½¿ç”¨æ”¹å˜äº†è¿™äº›è§„åˆ™ã€‚</p><blockquote><p>we can initialize a <strong>reference to const</strong> from any expression that can be converted to the type of the reference.</p></blockquote><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>r1 <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>r2 <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// ok: r1 is a reference to const </span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>r3 <span class="token operator">=</span> r1 <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok: r3 is a reference to const</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>r4 <span class="token operator">=</span> r <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//error: r4 is a plain, nonconst reference</span></code></pre><p>å¯¹äºç±»å‹ä¸åŒ¹é…çš„ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå…¶ä¸­å­˜åœ¨éšå¼ç±»å‹è½¬æ¢ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">double</span> dval <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>i <span class="token operator">=</span> dval<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// è¾“å‡º3</span></code></pre><blockquote><p>è¿™é‡Œå¯ä»¥è¿™æ ·ç†è§£ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªä¸´æ—¶å˜é‡  const int temp = dval, ç„¶åé€šè¿‡i å¼•ç”¨è¯¥tempï¼Œæ‰€ä»¥i å¹¶æ²¡æœ‰ç›´æ¥å¼•ç”¨dvalã€‚</p></blockquote><h3 id="references-to-constå¯ä»¥ç»‘å®šéå¸¸é‡å¯¹è±¡"><a href="#references-to-constå¯ä»¥ç»‘å®šéå¸¸é‡å¯¹è±¡" class="headerlink" title="references to constå¯ä»¥ç»‘å®šéå¸¸é‡å¯¹è±¡"></a>references to constå¯ä»¥ç»‘å®šéå¸¸é‡å¯¹è±¡</h3><p>æˆ‘ä»¬æåˆ°references to constä¸èƒ½æ”¹å˜ç»‘å®šå¯¹è±¡çš„å€¼ï¼Œä½†æ˜¯å¹¶ä¸æ„å‘³ç€ç»‘å®šå¯¹è±¡åªèƒ½æ˜¯constå˜é‡ï¼Œåªè¦ä¿è¯æ— æ³•é€šè¿‡references to constæ”¹å˜å…¶å€¼å³å¯ï¼Œå› æ­¤ç»‘å®šå¯¹è±¡å¯ä»¥ä¸ºéå¸¸é‡ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>r1 <span class="token operator">=</span> i<span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// ok </span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>r2 <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok </span>r1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// ok, iå¯ä»¥æ”¹å˜</span>r2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// errorï¼Œ iä¸èƒ½é€šè¿‡r2æ”¹å˜</span></code></pre><p>æ‰€è°“ï¼ŒåŠŸæˆä¸å¿…åœ¨æˆ‘ã€‚</p><h1 id="Pointers-and-const"><a href="#Pointers-and-const" class="headerlink" title="Pointers and const"></a>Pointers and const</h1><h2 id="pointer-to-const"><a href="#pointer-to-const" class="headerlink" title="pointer to const"></a>pointer to const</h2><p>ä½¿ç”¨æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªconstå˜é‡ï¼Œæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯å‰ææ˜¯è¯¥pointeræ˜¯ä¸€ä¸ªpointer to constã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">double</span> pi <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>   <span class="token keyword">double</span> <span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>pi<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// error: ptr is a plain pointer</span><span class="token keyword">const</span> <span class="token keyword">double</span> <span class="token operator">*</span>cptr <span class="token operator">=</span> <span class="token operator">&amp;</span>pi<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok, pointer to const</span><span class="token operator">*</span>cptr <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>               <span class="token comment" spellcheck="true">// error: cannot assign to *cptr</span></code></pre><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>pointer to const: æŒ‡å‘çš„å¯¹è±¡ä¸ä¸€å®šæ˜¯constï¼Œè¿™ä¸ªæœ‰ä¸€ç‚¹ç¦»å¥‡ï¼Œä½†æ˜¯å°±æ˜¯è¿™ä¹ˆå›äº‹ï¼Œå…¶æ ¸å¿ƒè¦å¼ºè°ƒçš„ç‚¹æ˜¯ï¼šé€šè¿‡è¯¥pointer to constä¸èƒ½æ”¹å˜æŒ‡å‘å¯¹è±¡çš„å€¼ï¼Œä½†æ˜¯è¯¥å¯¹è±¡çš„å€¼å¯ä»¥é€šè¿‡åˆ«çš„æ–¹å¼æ”¹å˜ï¼›<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">double</span> dval <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span> cptr <span class="token operator">=</span> <span class="token operator">&amp;</span>dval<span class="token punctuation">;</span><span class="token operator">*</span>cptr <span class="token operator">=</span> <span class="token number">1.23</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error</span>ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>dval<span class="token punctuation">;</span><span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token number">1.23</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok</span></code></pre></li></ul><h2 id="const-pointer"><a href="#const-pointer" class="headerlink" title="const pointer"></a>const pointer</h2><ul><li>ä¸referenceä¸åŒï¼Œpointeræ˜¯ä¸€ä¸ªobject, å› æ­¤å…¶æœ¬èº«ä¹Ÿå¯ä»¥æ˜¯constçš„ã€‚</li><li>const pointeræŒ‡çš„æ˜¯è¯¥pointeræœ¬èº«ä¸èƒ½æ”¹å˜ï¼Œå³ä¸èƒ½æŒ‡å‘å…¶ä»–çš„å¯¹è±¡ï¼›</li><li>åŒä¸€èˆ¬çš„referenceä¸€æ ·ï¼Œä¹Ÿå¿…é¡»è¿›è¡Œåˆå§‹åŒ–ï¼›</li><li>æœ€å®¹æ˜“çš„ç†è§£æ–¹å¼ï¼šè¿˜æ˜¯ä»å³å¾€å·¦è¯»ï¼›<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> errNumb <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token operator">*</span><span class="token keyword">const</span> curErr <span class="token operator">=</span> <span class="token operator">&amp;</span>errNumb<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// const pointer</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>errNUmb<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// pointer to const </span><span class="token keyword">const</span> <span class="token keyword">double</span> pi <span class="token operator">=</span> <span class="token number">3.14159</span><span class="token punctuation">;</span> <span class="token keyword">const</span> <span class="token keyword">double</span> <span class="token operator">*</span><span class="token keyword">const</span> pip <span class="token operator">=</span> <span class="token operator">&amp;</span>pi <span class="token comment" spellcheck="true">// const pointer and pointer to const</span></code></pre></li><li>å¯¹äºconst pointerï¼Œä¸pointer to constä¸€æ ·ï¼Œå¯¹äºæ‰€æŒ‡å‘çš„å¯¹è±¡æ˜¯å¦ä¸ºconstï¼Œæ²¡æœ‰é™åˆ¶ï¼›</li></ul><h2 id="Top-level-const"><a href="#Top-level-const" class="headerlink" title="Top-level const"></a>Top-level const</h2><p>è¿™é‡Œåªæ˜¯ä¸€ä¸ªåè¯çš„è§£é‡Šï¼š</p><ul><li>top-level const: indicate that the pointer itself is a const;</li><li>low-level const: indicate that a pointer can point to a const object;</li></ul><p>è¿™ä¸¤ä¸ªåè¯ï¼Œä»è‹±æ–‡æ¥çœ‹å¾ˆå¥½ç†è§£ï¼Œæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿè¯­æ³•è§„å®šï¼š</p><ul><li>Top-level const can appear in any object type;</li><li>Low-level const appears in the base type of compound types such as pointers or references;  å› ä¸ºåªæœ‰æŒ‡é’ˆå’Œå¼•ç”¨å¯ä»¥æŒ‡å‘åˆ«çš„å¯¹è±¡ã€‚</li></ul><aside>ğŸ“Œ The distinction between top-level and low-level matters when we copy an object. When we copy an object, top-level consts are ignored and low-level const is never ignored.</aside><p>ä»€ä¹ˆæ„æ€ï¼Ÿ</p><ul><li>åœ¨constå¯¹è±¡å’Œéconstä¹‹é—´å¯ä»¥éšä¾¿èµ‹å€¼ï¼Œæ‹·è´å¯¹è±¡ï¼Œä¸é™åˆ¶ä¸€å®šæ˜¯constï¼›</li><li>ä½†æ˜¯ï¼Œåœ¨pointer to constå¯¹è±¡ä¸­ï¼Œå¦‚æœè¿›è¡Œèµ‹å€¼å’Œæ‹·è´ï¼Œä¸¤è€…å¿…é¡»éƒ½æ˜¯pointer to const.  è¿™æ ·ä¿è¯ï¼Œå³ä¾¿å‘ç”Ÿäº†å¤åˆ¶ï¼Œä¹Ÿä¸èƒ½é€šè¿‡æ–°çš„pointeræ”¹å˜æŒ‡å‘çš„å¯¹è±¡çš„å€¼ã€‚</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> p1<span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// error</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>p3 <span class="token operator">=</span> p1<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok</span></code></pre><h1 id="Constant-Expressions"><a href="#Constant-Expressions" class="headerlink" title="Constant Expressions"></a>Constant Expressions</h1><blockquote><p>A constant expression is an expression whose value cannot change and that can be evaluated <strong>at compile time</strong>.</p></blockquote><h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><p>constä¿®é¥°çš„ä¸€å®šæ˜¯constant expressionå—ï¼Ÿä¸ä¸€å®šï¼Œå› ä¸ºè¿™äº›å€¼ä¸ä¸€å®šæ˜¯compile timeæ—¶ç¡®å®šçš„, å³ï¼šconstå¹¶ä¸ä¼šåŒºåˆ†runtime å’Œcompile timeå˜é‡ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> sz <span class="token operator">=</span> <span class="token function">get_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// sz is not a constant expression</span></code></pre><h2 id="constexpr"><a href="#constexpr" class="headerlink" title="constexpr"></a>constexpr</h2><h3 id="ç¼–è¯‘æ—¶æ£€æŸ¥"><a href="#ç¼–è¯‘æ—¶æ£€æŸ¥" class="headerlink" title="ç¼–è¯‘æ—¶æ£€æŸ¥"></a>ç¼–è¯‘æ—¶æ£€æŸ¥</h3><p>ç”±äºconstä¸constant expression, å³ä¸æ˜¯å……åˆ†æ¡ä»¶ï¼Œä¹Ÿä¸æ˜¯å¿…è¦æ¡ä»¶ï¼Œä½†æ˜¯ä¼šè®©äººæ··æ·†ã€‚åœ¨C++11ä¸­ï¼Œconstexprè¢«æå‡ºï¼Œè®©compilerç¡®è®¤ï¼Œé€šè¿‡å…¶ä¿®é¥°çš„ä¸€å®šæ˜¯compile timeå¸¸é‡ï¼Œå³constant expression, å› æ­¤å…¶ä¸€å®šå¿…é¡»åˆå§‹åŒ–ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">constexpr</span> <span class="token keyword">int</span> mf <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 20 is a constant expression constexpr </span><span class="token keyword">int</span> limit <span class="token operator">=</span> mf <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// mf + 1 is a constant expression constexpr </span><span class="token keyword">int</span> sz <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok only if size is a constexpr function</span></code></pre><p>å› æ­¤ï¼Œæœ€å¥½ä½¿ç”¨constexprä»£æ›¿constï¼Œä½¿å¾—èƒ½å¤Ÿåœ¨compile timeæ—¶è¿›è¡Œæ£€æŸ¥ã€‚</p><blockquote><p>æ•°ç»„çš„ç»´åº¦ï¼Œä¹Ÿæ˜¯åœ¨compile timeæ£€æŸ¥çš„ï¼Œå¯ä»¥ç»“åˆè¿›è¡ŒéªŒè¯ã€‚</p></blockquote><h3 id="literal-types"><a href="#literal-types" class="headerlink" title="literal types"></a>literal types</h3><p>ç”±äºconstexprå˜é‡åœ¨ç¼–è¯‘æ—¶éªŒè¯ï¼Œå› æ­¤å…¶åº”ç”¨çš„ç±»å‹ä¹Ÿå—åˆ°é™åˆ¶ï¼Œåªèƒ½æ˜¯literal types:</p><ul><li>arithmetic, reference, and pointer types are literal types.</li><li>the library IO and string types are not literal types.</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">constexpr</span> string i <span class="token operator">=</span> <span class="token string">"hello, world"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error, c++20å¯ä»¥</span></code></pre><h3 id="pointers"><a href="#pointers" class="headerlink" title="pointers"></a>pointers</h3><blockquote><p>when we deï¬ne a pointer in a constexpr declaration, the constexpr speciï¬er applies to the pointer, not the type to which the pointer points.</p></blockquote><p>constexpräº§ç”Ÿçš„æ˜¯ <strong>top-level const</strong> on the objects it defines.</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// p is a pointer to a const int</span><span class="token keyword">constexpr</span> <span class="token keyword">int</span> <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// q is a const pointer to int</span><span class="token keyword">constexpr</span> <span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// p is a constant pointer to the const int i</span></code></pre><p>è¿™è¯­æ³•ï¼ŒC++ NBã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ä¹‹é“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¸¸é‡ </tag>
            
            <tag> const </tag>
            
            <tag> constexpr </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++:æ•°ç»„çš„ä½¿ç”¨ä»¥åŠç›¸å…³å†…å®¹</title>
      <link href="/2022/10/07/bian-cheng-zhi-dao/c-shu-zu-de-shi-yong-yi-ji-xiang-guan-nei-rong/"/>
      <url>/2022/10/07/bian-cheng-zhi-dao/c-shu-zu-de-shi-yong-yi-ji-xiang-guan-nei-rong/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ğŸ’¡ æœ¬ç¯‡çš„å†…å®¹æ¥è‡ªC++ Primerä¸­çš„3.5èŠ‚</p></blockquote><h1 id="Define-amp-Initialize"><a href="#Define-amp-Initialize" class="headerlink" title="Define &amp; Initialize"></a>Define &amp; Initialize</h1><h2 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h2><p>æ•°ç»„åƒæŒ‡é’ˆå’Œå¼•ç”¨ä¸€æ ·æ˜¯å¤æ‚ç±»å‹ï¼Œæ•°ç»„çš„å½¢å¼<code>a[d]</code>,</p><ul><li>å…¶ä¸­ aä¸ºnameï¼›</li><li>dä¸ºdimensionï¼Œå¿…é¡»å¤§äº0ã€‚<blockquote><p>The number of elements in an array is part of the arrayâ€™s type.</p></blockquote>  å› æ­¤ï¼Œdimensionå¿…é¡»<strong>åœ¨ç¼–è¯‘æ—¶å·²çŸ¥</strong>ï¼Œå› æ­¤å®ƒå¿…é¡»æ˜¯ä¸€ä¸ªconstantã€‚<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">unsigned</span> cnt <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// not a constant expression </span><span class="token keyword">constexpr</span> <span class="token keyword">unsigned</span> sz <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// constant expression</span></code></pre><blockquote><p>ğŸ“Œ ä½†æ˜¯ï¼Œè¿™ç§é—®é¢˜åœ¨g++å’Œclang++ç¼–è¯‘æ—¶å¯èƒ½ä¸ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸ºè¿™äº›<strong>ç¼–è¯‘å™¨æä¾›äº†æ‰©å±•</strong>ï¼Œå°†è¿™ç§å†™æ³•è§†ä¸ºæ­£ç¡®ï¼Œä½†æ˜¯å»ºè®®ç¦æ­¢è¿™äº›ç‰¹æ€§ï¼Œå› ä¸ºä¼šå¯¼è‡´æ— æ³•åœ¨åˆ«çš„compilerä¸­æˆåŠŸè¿è¡Œï¼Œåœ¨g++å’Œclang++å¯¹åº”çš„é€‰é¡¹æ˜¯-pedantic-errorsã€‚</p></blockquote></li></ul><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><h3 id="éšå¼"><a href="#éšå¼" class="headerlink" title="éšå¼"></a>éšå¼</h3><p>æ•°ç»„çš„åˆå§‹åŒ–ä¸æ•°æ®å…ƒç´ çš„ç±»å‹ï¼ˆå†…ç½®ç±»å‹ã€å¤åˆç±»å‹ï¼‰ã€å˜é‡ä½œç”¨åŸŸï¼ˆå…¨å±€å˜é‡ã€å±€éƒ¨å˜é‡ï¼‰æœ‰å…³ã€‚</p><ul><li>stringç±»å‹æ•°ç»„å…¨éƒ¨åˆå§‹åŒ–ä¸ºç©ºä¸²ï¼Œæ— è®ºå…¨å±€è¿˜æ˜¯å±€éƒ¨ï¼›</li><li>intç±»å‹åœ¨å…¨å±€åˆ™å…¨éƒ¨åˆå§‹åŒ–ä¸º0ï¼Œåœ¨å‡½æ•°å†…éƒ¨åˆ™undefinedï¼Œå¦‚æœå°è¯•æ‹·è´æˆ–è€…è¾“å‡ºè¿™äº›å˜é‡ï¼Œä¼šæœ‰å¥‡æ€ªçš„äº‹æƒ…å‘ç”Ÿï¼›</li></ul><p>å› æ­¤ï¼Œ<strong>åƒä¸‡è¦æ˜¾ç¤ºåˆå§‹åŒ–ï¼Œä¸è¦ç•™æœ‰æ‚¬ç–‘ç©ºé—´</strong>ã€‚</p><h3 id="æ˜¾å¼"><a href="#æ˜¾å¼" class="headerlink" title="æ˜¾å¼"></a>æ˜¾å¼</h3><ul><li>å°†åˆå§‹åŒ–å…ƒç´ å…¨éƒ¨åˆ—å‡ºï¼Œæ­¤æ—¶å¯ä»¥å¿½ç•¥dimensionï¼›<ul><li>compilerä¼šè‡ªåŠ¨æ¨å¯¼ï¼›</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> a2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li><li>å¦‚æœç»™å®šdimensionï¼Œåˆå§‹åŒ–å…ƒç´ ä¸èƒ½è¶…è¿‡å®ƒï¼›<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> a5<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error: too many initializers</span></code></pre></li><li>å¦‚æœåˆå§‹åŒ–å…ƒç´ æ•°é‡å°äºdimensionï¼Œä½¿ç”¨é»˜è®¤åˆå§‹åŒ–ï¼›<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> a3<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// equivalent to a3[] = {0, 1, 2, 0, 0} </span>string a4<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"hi"</span><span class="token punctuation">,</span> <span class="token string">"bye"</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// same as a4[] = {"hi", "bye", ""} </span></code></pre></li></ul><h2 id="Access"><a href="#Access" class="headerlink" title="Access"></a>Access</h2><p>é€šè¿‡å¯¹æ•°ç»„éå†å¯ä»¥è®¿é—®å…¶ä¸­çš„å…ƒç´ ï¼Œåœ¨C++ä¸­éå†æ•°ç»„ï¼Œé™¤äº†ç»å…¸çš„forå¾ªç¯å’Œwhileå¾ªç¯å¤–ï¼Œåœ¨C++11ä¸­è¿˜å¯ä»¥ä½¿ç”¨ç±»ä¼¼Javaä¸­forâ€¦eachå¾ªç¯ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> ai<span class="token operator">:</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>    cout <span class="token operator">&lt;&lt;</span> ai <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>åœ¨æ•°ç»„çš„è®¿é—®ä¸­ï¼Œ<strong>å½“å‡ºç°æ•°ç»„è¶Šç•Œç­‰é—®é¢˜æ—¶ï¼Œä¼šå‡ºç°buffer overflowç­‰bug</strong>ï¼Œè€Œä¸”è¿™äº›bugåœ¨ç¼–è¯‘æ—¶å¾€å¾€éš¾ä»¥æ£€æŸ¥å‡ºæ¥ï¼Œåªèƒ½åœ¨è¿è¡Œæ—¶å‡ºç°å¼‚å¸¸ã€‚</p><h1 id="Array-vs-Vector"><a href="#Array-vs-Vector" class="headerlink" title="Array vs Vector"></a>Array vs Vector</h1><table><thead><tr><th></th><th>array</th><th>vector</th></tr></thead><tbody><tr><td>å­˜æ”¾æ•°æ®ç±»å‹</td><td>å¿…é¡»æ˜¯ç›¸åŒç±»å‹</td><td>å¿…é¡»æ˜¯ç›¸åŒç±»å‹</td></tr><tr><td>è®¿é—®å­˜æ”¾å…ƒç´ </td><td>æ— åå­—ï¼Œå¿…é¡»é€šè¿‡ä½ç½®è®¿é—®</td><td>æ— åå­—ï¼Œå¿…é¡»é€šè¿‡ä½ç½®è®¿é—®</td></tr><tr><td>å®¹é‡</td><td>å›ºå®šï¼Œä¸èƒ½æ‰©å±•ï¼Œæ€§èƒ½è¾ƒå¥½</td><td>ä¸å›ºå®šï¼Œèƒ½æ‰©å±•ï¼Œä½†æ˜¯æŸå®³æ€§èƒ½</td></tr><tr><td>æ•°ç»„ç»´åº¦è·å–</td><td>æ— sizeå‡½æ•°ï¼š(1)å¯¹äºå­—ç¬¦æ•°ç»„ï¼Œå¯ä»¥ç”¨<code>strlen</code>ï¼›(2)å…¶ä»–æ•°ç»„ï¼Œåªèƒ½ç”¨<code>sizeof(array)/sizeof(array[0])</code>è®¡ç®—é•¿åº¦ï¼›(3)<code>end(array) - begin(array)</code>(c++11)</td><td>æœ‰sizeå‡½æ•°</td></tr><tr><td>ä¸‹æ ‡ç±»å‹</td><td>å¯ä»¥ä¸ºè´Ÿå€¼ï¼Œæ¶‰åŠæŒ‡é’ˆçš„ç®—æ•°è¿ç®—ï¼Œå³ä¾¿ä¸ºè´Ÿå€¼ï¼Œä¹Ÿéœ€è¦æŒ‡å‘åŸå§‹æ•°ç»„ä¸­çš„å…ƒç´ ã€‚</td><td>å¿…é¡»ä¸ºéè´Ÿå€¼</td></tr></tbody></table><p>ä¸¤è€…ä¹‹é—´çš„è½¬æ¢ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> int_arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ivec has six elements; each is a copy of the corresponding element in int_arr </span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">ivec</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span>int_arr<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span>int_arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// subset</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">subVec</span><span class="token punctuation">(</span>int_arr <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> int_arr <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h1 id="Array-amp-Pointer"><a href="#Array-amp-Pointer" class="headerlink" title="Array &amp; Pointer"></a>Array &amp; Pointer</h1><ul><li><strong>arrays hold objects, å› æ­¤å¯ä»¥å­˜å‚¨pointersï¼Œä½†æ˜¯referencesä¸æ˜¯objects, å› æ­¤ä¸èƒ½å­˜å‚¨referencesã€‚</strong></li></ul><h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><ul><li>æ•°ç»„ä¸­çš„å…ƒç´ å‡ä¸ºobjectsï¼ˆå› æ­¤æœ‰åœ°å€ï¼Œå¯¹æ¯”referenceä¸æ˜¯objects, å› æ­¤æ²¡æœ‰åœ°å€ï¼‰, å› æ­¤å¯ä»¥å°†è¿™äº›å…ƒç´ çš„åœ°å€èµ‹å€¼ç»™æŒ‡é’ˆï¼›<pre class=" language-cpp"><code class="language-cpp">string nums<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">,</span> <span class="token string">"three"</span><span class="token punctuation">}</span><span class="token punctuation">;</span> string <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// p points to the ï¬rst element in nums</span></code></pre></li><li>å­˜å‚¨æŒ‡é’ˆçš„æ•°ç»„<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token operator">*</span>parr<span class="token punctuation">[</span>sz<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// array of 42 pointers to int</span><span class="token comment" spellcheck="true">// -----</span><span class="token comment" spellcheck="true">// parr[sz] stores pointers to int. </span></code></pre>  è¿™é‡Œå®¹æ˜“æ··ä¹±.<blockquote><p>By default, <em><strong>type modiï¬ors bind right to left</strong></em>.</p></blockquote></li></ul><h2 id="ç‰¹æ®Šæ€§è´¨"><a href="#ç‰¹æ®Šæ€§è´¨" class="headerlink" title="ç‰¹æ®Šæ€§è´¨"></a>ç‰¹æ®Šæ€§è´¨</h2><ul><li>ç‰¹æ®Šæ€§è´¨ï¼š<strong>å¤šæ•°æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨å°†æ•°ç»„åç§°è§†ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆ</strong>ï¼›<pre class=" language-cpp"><code class="language-cpp">string <span class="token operator">*</span>p2 <span class="token operator">=</span> nums<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//equivalent to p2 = &amp;nums[0]</span></code></pre></li><li>æ•°ç»„çš„æ“ä½œç»å¸¸å¯ä»¥è®¤ä¸ºæ˜¯æŒ‡é’ˆçš„æ“ä½œï¼›<ul><li>when we use an array as an initializer for a variable deï¬ned using <strong>auto</strong>, the deduced type is a pointer, not an array.<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> ia<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ia is an array of ten ints </span><span class="token keyword">auto</span> <span class="token function">ia2</span><span class="token punctuation">(</span>ia<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ia2 is an int * that points to the ï¬rst element in ia </span>ia2 <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error: ia2 is a pointer, and we canâ€™t assign an int to a pointer</span></code></pre></li><li>when we use <strong>decltype</strong>. The type returned by decltype(ia) is array of ten ints.<pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// ia3 is an array of ten ints </span><span class="token keyword">decltype</span><span class="token punctuation">(</span>ia<span class="token punctuation">)</span> ia3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span> ia3 <span class="token operator">=</span> p<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error: canâ€™t assign an int * to an array </span>ia3<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok: assigns the value of i to an element in ia3</span></code></pre></li></ul>  <aside>  ğŸ“Œ å»ºè®®ï¼šè¿™é‡Œå®¹æ˜“æ··ä¹±çš„ï¼Œå°±ä¸è¦åœ¨å®è·µä¸­ä½¿ç”¨ã€‚    </aside>  </li></ul><h2 id="Pointers-are-Iterators"><a href="#Pointers-are-Iterators" class="headerlink" title="Pointers are Iterators"></a>Pointers are Iterators</h2><h3 id="off-the-end-pointer"><a href="#off-the-end-pointer" class="headerlink" title="off-the-end pointer"></a>off-the-end pointer</h3><p> å‰é¢æåˆ°æ•°ç»„çš„åå­—å¯ä»¥è§†ä¸ºæŒ‡å‘å…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆï¼Œå› æ­¤å¯ä»¥é€šè¿‡å¯¹åç§°è¿›è¡ŒåŠ å‡æ“ä½œï¼Œæ¥ç§»åŠ¨æŒ‡å‘åœ°å€çš„ä½ç½®ï¼Œå¦‚ä¸‹ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// p points to the first element in arr </span><span class="token operator">++</span>p<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// p points to arr[1]</span></code></pre><p>åŸºäºè¿™ç§ç‰¹æ€§ï¼Œå¯ä»¥ä½¿ç”¨pointå¯¹arrayä¸­çš„å…ƒç´ è¿›è¡Œéå†ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token operator">*</span>e <span class="token operator">=</span> <span class="token operator">&amp;</span>arr<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//pointer just past the last element in arr</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span> b <span class="token operator">=</span> arr<span class="token punctuation">;</span> b <span class="token operator">!=</span> e<span class="token punctuation">;</span> <span class="token operator">++</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// print the elements in arr</span><span class="token punctuation">}</span></code></pre><p>å…¶ä¸­ï¼Œ<code>&amp;arr[10]</code>æ˜¯4ç§æœ‰æ•ˆçš„æŒ‡é’ˆæ•°æ®ä¹‹ä¸€ï¼Œåœ¨<a href="https://lifehit.cn/2022/09/18/bian-cheng-zhi-dao/reference-he-pointer/">æŒ‡é’ˆçŸ¥è¯†éƒ¨åˆ†</a>æœ‰è¯´æ˜, è¿™æ˜¯ä¸€ç§off-the-end pointer, éå¸¸æ˜“äºå‡ºé”™ã€‚</p><h3 id="begin-amp-end"><a href="#begin-amp-end" class="headerlink" title="begin &amp; end"></a>begin &amp; end</h3><p>åœ¨c++11ç§æå‡ºï¼Œbeginå’Œendå‡½æ•°ï¼š</p><ul><li>begin returns a pointer to the ï¬rst;</li><li>end returns a pointer one past the last element in the given array:</li><li>These functions are deï¬ned in the iterator header.</li></ul><p>ä½¿ç”¨å¦‚ä¸‹ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>pbeg <span class="token operator">=</span> <span class="token function">begin</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>pend <span class="token operator">=</span> <span class="token function">end</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span>pbeg <span class="token operator">!=</span> pend<span class="token punctuation">)</span> <span class="token punctuation">{</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>pbeg <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    pbeg<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>è¿™ç§æ–¹æ³•ï¼Œæœ¬è´¨ä¸Šä¸off-the-end pointerçš„åšæ³•ç›¸åŒï¼Œendå‡½æ•°å¾—åˆ°çš„è¿˜æ˜¯æœ«ç«¯ä¹‹å¤–çš„æŒ‡é’ˆï¼Œä½†æ˜¯ä¸ç”¨æ˜¾å¼æ“ä½œæŒ‡é’ˆè®¡ç®—ï¼Œæ›´åŠ å®‰å…¨ã€‚</p><h3 id="pointerç®—æ•°è¿ç®—"><a href="#pointerç®—æ•°è¿ç®—" class="headerlink" title="pointerç®—æ•°è¿ç®—"></a>pointerç®—æ•°è¿ç®—</h3><p>Pointers that address array elements can use all the iterator operations listed in  the following tables.</p><p><img src="/images/%E7%BC%96%E7%A8%8B%E4%B9%8B%E9%81%93/C++:%E6%95%B0%E7%BB%84%E7%9A%84%E4%BD%BF%E7%94%A8%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/table1.png" alt="pointerç®—æ•°è¿ç®—1"></p><p><img src="/images/%E7%BC%96%E7%A8%8B%E4%B9%8B%E9%81%93/C++:%E6%95%B0%E7%BB%84%E7%9A%84%E4%BD%BF%E7%94%A8%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/table2.png" alt="pointerç®—æ•°è¿ç®—2"></p><p>å‡ ä¸ªå…¸å‹çš„ä½¿ç”¨å¦‚ä¸‹ï¼š</p><ul><li>æŒ‡é’ˆåç§»å½¢æˆæ–°çš„æŒ‡é’ˆï¼›<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>ip <span class="token operator">=</span> arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// equivalent to int * ip = &amp;arr[0] </span><span class="token keyword">int</span> <span class="token operator">*</span>ip2 <span class="token operator">=</span> ip <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ip2 points to arr[4]</span><span class="token comment" spellcheck="true">// æ³¨æ„ï¼šè¿™ä¸¤ç§å†™æ³•ï¼Œæ„ä¹‰å®Œå…¨ä¸åŒ</span><span class="token keyword">int</span> last <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// == arr[4]</span>last <span class="token operator">=</span> <span class="token operator">*</span>arr <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// == arr[0] + 4</span></code></pre>  æ­¤æ—¶è¦ä¿è¯ï¼Œæ–°çš„æŒ‡é’ˆip2å¿…é¡»æŒ‡å‘ipæ‰€æŒ‡å‘çš„æ•°ç»„ï¼Œå¦åˆ™å‡ºé”™ã€‚<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token operator">*</span>p3 <span class="token operator">=</span> arr <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ­£ç¡®ï¼Œä½†æ˜¯ä½¿ç”¨*p3å–æ•°æ®å‡ºé”™ï¼Œå› ä¸ºæ˜¯off-the-end pointer</span><span class="token keyword">int</span> <span class="token operator">*</span>p4 <span class="token operator">=</span> arr <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// é”™è¯¯ï¼Œè¶…å‡ºèŒƒå›´</span></code></pre></li><li>æŒ‡é’ˆä¹‹é—´ç›¸å‡<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">auto</span> n <span class="token operator">=</span> <span class="token function">end</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//n is 5, the number of elements in arr</span></code></pre><ul><li>The result of subtracting two pointers is a library type named <code>ptrdiff_t</code>.</li><li>Like <code>size_t</code>, the <code>ptrdiff_t</code> type is a machine-speciï¬c type and is deï¬ned in the <code>cstddef</code> header.</li><li><code>ptrdiff_t</code> is a signed integral type.</li></ul>  ç›¸å‡çš„ç»“æœï¼Œå¯ä»¥ä¸ºè´Ÿæ•°ï¼Œå› æ­¤ï¼ŒæŒ‡é’ˆä¸åŒäºvectorï¼Œå…¶ä¸‹æ ‡å¯ä»¥ä¸ºè´Ÿå€¼ï¼Œä½†æ˜¯å¿…é¡»æŒ‡å‘åŸå§‹æ•°ç»„ä¸­çš„å…ƒç´ ã€‚</li><li>æŒ‡é’ˆç›¸æ¯”è¾ƒ<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token operator">*</span> b <span class="token operator">=</span> arr<span class="token punctuation">,</span> <span class="token operator">*</span>e <span class="token operator">=</span> arr <span class="token operator">+</span> sz<span class="token punctuation">;</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>b <span class="token operator">&lt;</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// use *b</span>    <span class="token operator">++</span>b<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre>  æ­¤æ—¶ï¼Œè¿›è¡Œçš„æ¯”è¾ƒçš„æŒ‡é’ˆå¿…é¡»å‡å¯¹åº”ç›¸åŒçš„æ•°ç»„ï¼ˆæˆ–è€…off-the-endå…ƒç´ ï¼‰ï¼Œå¦åˆ™æ²¡æœ‰æ„ä¹‰ã€‚  <aside>  ğŸ“Œ å¯¹äºnull pointer ä¹Ÿæ˜¯å¯ä»¥æ¯”è¾ƒçš„ã€‚    </aside>  <pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> p <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">++</span>p <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> p <span class="token operator">-</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>ia <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>ia <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> ia <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// --- output ---</span><span class="token number">0x0</span><span class="token number">0x4</span><span class="token number">1</span><span class="token number">10</span><span class="token number">10</span><span class="token number">0x7ffee03e32fc</span></code></pre></li></ul><h1 id="Array-amp-String"><a href="#Array-amp-String" class="headerlink" title="Array &amp; String"></a>Array &amp; String</h1><h2 id="C-Style-Character-Strings"><a href="#C-Style-Character-Strings" class="headerlink" title="C-Style Character Strings"></a>C-Style Character Strings</h2><p>å› ä¸ºC++ç»§æ‰¿äº†Cè¯­è¨€ï¼Œå› æ­¤Cè¯­è¨€ä¸­å…³äºå­—ç¬¦ä¸²çš„ä½¿ç”¨æ–¹å¼ä¹Ÿè¢«ç»§æ‰¿ä¸‹æ¥ã€‚</p><aside>ğŸ“Œ ä½†æ˜¯ï¼ŒCè¯­è¨€ä¸­çš„å­—ç¬¦ä¸²å¾ˆéš¾ä½¿ç”¨ï¼Œè€Œä¸”æ˜¯å¾ˆå¤šå®‰å…¨é—®é¢˜çš„æ ¹æºï¼Œå®¹æ˜“å¼•å…¥å„ç§bugsï¼Œå› æ­¤åœ¨C++è¯­è¨€ä¸­åº”è¯¥å¼ºçƒˆé¿å…ä½¿ç”¨è¿™ç§é£æ ¼çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œè€Œåº”è¯¥ä½¿ç”¨<strings>ä»£æ›¿ï¼Œä¸ä»…å®‰å…¨ï¼Œè€Œä¸”æ•ˆç‡æ›´é«˜ã€‚</aside><h3 id="åˆå§‹åŒ–-1"><a href="#åˆå§‹åŒ–-1" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><p>Cè¯­è¨€ä¸­çš„å­—ç¬¦ä¸²ï¼Œæ˜¯ä½¿ç”¨char[]è¡¨ç¤ºçš„ï¼Œä¸€ä¸ªé‡è¦çš„åœ°æ–¹æ˜¯ï¼Œè¿™äº›å­—ç¬¦æ•°ç»„å¿…é¡»å‡ä»¥null charactor <code>\0</code>ç»“å°¾ã€‚</p><ul><li>C-style strings are not a type.<ul><li>they are a convention for how to represent and use character strings.</li><li>Strings that follow this convention are stored in character arrays and are null terminated.</li><li>By null-terminated we mean that the last character in the string is followed by a null character (â€™\0â€™).</li></ul></li><li>Ordinarily we use pointers to manipulate these strings.</li></ul><p>åœ¨Cè¯­è¨€ï¼Œæ“ä½œå­—ç¬¦ä¸²ï¼Œæ›´å¤šæ˜¯ä½¿ç”¨pointerå®Œæˆï¼Œè¿™ä¹Ÿæ˜¯æ­¤å¤„å°†pointerå’Œstringæ”¾åˆ°ä¸€èµ·çš„åŸå› ä¹‹ä¸€ã€‚</p><p>è¿™ç§ä½¿ç”¨æ–¹å¼ä¸­ï¼Œå­—ç¬¦ä¸²çš„åˆå§‹åŒ–å¯ä»¥æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">char</span> a1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'+'</span><span class="token punctuation">,</span> <span class="token string">'+'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// å£°æ˜æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æœªä½¿ç”¨\0ç»“å°¾ï¼Œåªèƒ½å½“åšå­—ç¬¦æ•°ç»„ä½¿ç”¨ï¼Œå½“åšå­—ç¬¦ä¸²ä½¿ç”¨æˆ–ç›¸å…³å‡½æ•°ä¸­ä¼šå‡ºç°é—®é¢˜</span><span class="token keyword">char</span> a2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'+'</span><span class="token punctuation">,</span> <span class="token string">'+'</span><span class="token punctuation">,</span> <span class="token string">'\0'</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ­£ç¡®æ–¹å¼</span><span class="token keyword">char</span> a3<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"C++"</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// æ­£ç¡®æ–¹å¼ï¼Œç»“å°¾è‡ªåŠ¨æ·»åŠ äº†\0</span><span class="token keyword">const</span> <span class="token keyword">char</span> a4<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Daniel"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ç¼–è¯‘æ—¶é”™è¯¯ï¼Œè¯¥å­—ç¬¦ä¸²åŒ…æ‹¬\0å æ®7ä¸ªï¼Œç©ºé—´ä¸å¤Ÿ</span><span class="token comment" spellcheck="true">// æŸ¥çœ‹é•¿åº¦</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">end</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è¾“å‡º3</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">end</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è¾“å‡º4</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">end</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// è¾“å‡º4</span><span class="token comment" spellcheck="true">// è¾“å‡ºå­—ç¬¦ä¸²</span>cout <span class="token operator">&lt;&lt;</span> a1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> a2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> a3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// --- output ---</span><span class="token comment" spellcheck="true">// C++PSjï¿½ï¿½: å› ä¸ºa1æ²¡æœ‰ä½¿ç”¨\0ç»“å°¾ã€‚</span><span class="token comment" spellcheck="true">// C++: æ­£ç¡®è¾“å‡ºï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ª\0ä½œä¸ºç»“å°¾ã€‚</span><span class="token comment" spellcheck="true">// C++: æ­£ç¡®è¾“å‡º</span></code></pre><h3 id="å­—ç¬¦ä¸²å‡½æ•°"><a href="#å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²å‡½æ•°"></a>å­—ç¬¦ä¸²å‡½æ•°</h3><p>Cè¯­è¨€ä¸­ï¼Œæœ‰å¾ˆå¤šå­—ç¬¦ä¸²å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="/images/%E7%BC%96%E7%A8%8B%E4%B9%8B%E9%81%93/C++:%E6%95%B0%E7%BB%84%E7%9A%84%E4%BD%BF%E7%94%A8%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/strfunc.png" alt="Cè¯­è¨€ä¸­çš„å­—ç¬¦ä¸²å‡½æ•°"></p><p>å½“è¿™äº›å‡½æ•°ç”¨åœ¨char[]ä¸­æ—¶ï¼Œä¹Ÿä¼šå—åˆ°\0çš„å½±å“, æ¥ä¸Šä¾‹ã€‚</p><pre class=" language-cpp"><code class="language-cpp">cout <span class="token operator">&lt;&lt;</span> <span class="token function">strlen</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">strlen</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">strlen</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// --- output ---</span><span class="token number">9</span><span class="token number">3</span><span class="token number">3</span></code></pre><p>ç¬¬ä¸€ä¸ªä¸ºä»€ä¹ˆè¾“å‡º9ï¼Ÿå› ä¸ºå­—ç¬¦ä¸²å‡½æ•°strlen()ä¼šå¯»æ‰¾ç¬¬ä¸€ä¸ª\0, ç„¶åè®¡ç®—é•¿åº¦ï¼Œä½†æ˜¯a1ä¸­æ²¡æœ‰\0, å› æ­¤ç»“æœundefined, ä¹Ÿå¯èƒ½æ˜¯åˆ«çš„ã€‚</p><h3 id="æ¯”è¾ƒå­—ç¬¦ä¸²"><a href="#æ¯”è¾ƒå­—ç¬¦ä¸²" class="headerlink" title="æ¯”è¾ƒå­—ç¬¦ä¸²"></a>æ¯”è¾ƒå­—ç¬¦ä¸²</h3><p>Cè¯­è¨€ä¸­å­—ç¬¦ä¸²çš„æ¯”è¾ƒä¸C++ä¸­stringsä¸­ä¸åŒ, å­—ç¬¦ä¸²çš„æ¯”è¾ƒæœ‰ä¸¤ä¸ªè§’åº¦ï¼Œæ¯”è¾ƒæ•°ç»„åœ°å€ï¼Œå’Œæ¯”è¾ƒæ•°ç»„å†…å®¹ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// æ¯”è¾ƒä¸åŒæ•°ç»„çš„åœ°å€ï¼Œæ— æ„ä¹‰</span><span class="token keyword">const</span> <span class="token keyword">char</span> ca1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"A string example"</span><span class="token punctuation">;</span> <span class="token keyword">const</span> <span class="token keyword">char</span> ca2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"A different string"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// undeï¬ned: compares two unrelated addresses</span><span class="token keyword">if</span> <span class="token punctuation">(</span>ca1 <span class="token operator">&lt;</span> ca2<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// ...</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// æ¯”è¾ƒæ•°ç»„çš„æ•°æ®ï¼Œä½¿ç”¨strcmp</span><span class="token comment" spellcheck="true">// same effect as string comparison s1 &lt; s2</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>ca1<span class="token punctuation">,</span> ca2<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// ...</span><span class="token punctuation">}</span></code></pre><p>Cè¯­è¨€é£æ ¼ä¸‹ï¼Œåªèƒ½ä½¿ç”¨strcmpæ¥æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œç»“æœä¸º0ï¼Œå­—ç¬¦ä¸²ç›¸åŒã€‚</p><p>åœ¨C++ä¸­ï¼Œå­—ç¬¦ä¸²å¯ä»¥ç®€å•çš„ä½¿ç”¨ ca1 &lt; cal2 å®Œæˆã€‚</p><h3 id="å­—ç¬¦ä¸²æ‹¼æ¥å’Œå¤åˆ¶"><a href="#å­—ç¬¦ä¸²æ‹¼æ¥å’Œå¤åˆ¶" class="headerlink" title="å­—ç¬¦ä¸²æ‹¼æ¥å’Œå¤åˆ¶"></a>å­—ç¬¦ä¸²æ‹¼æ¥å’Œå¤åˆ¶</h3><p>åœ¨Cè¯­è¨€é£æ ¼ä¸­ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨å¦‚ä¸‹é£æ ¼çš„å†™æ³•ï¼š</p><pre class=" language-cpp"><code class="language-cpp">string largeStr <span class="token operator">=</span> s1 <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> s2<span class="token punctuation">;</span></code></pre><p>è€Œæ˜¯é€šè¿‡<code>strcpy</code>å’Œ<code>strcat</code>å®Œæˆå­—ç¬¦ä¸²çš„æ‹¼æ¥å’Œå¤åˆ¶ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token function">strcpy</span><span class="token punctuation">(</span>largeStr<span class="token punctuation">,</span> ca1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// copies ca1 into largeStr </span><span class="token function">strcat</span><span class="token punctuation">(</span>largeStr<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// adds a space at the end of largeStr </span><span class="token function">strcat</span><span class="token punctuation">(</span>largeStr<span class="token punctuation">,</span> ca2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// concatenates ca2 onto largeStr</span></code></pre><p>è¿™ç§ä½¿ç”¨ï¼Œå¿…é¡»äº‹å…ˆè®¡ç®—å¥½largeStræ˜¯å¦èƒ½å¤Ÿå®¹çº³æœ€ç»ˆçš„ç»“æœï¼Œå¦åˆ™å°±ä¼šå‡ºé”™ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><aside>ğŸ“Œ Modern C++ programs should use vectors and iterators instead of built-in arrays and pointers, and use strings rather than C-style array-based character strings.</aside>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ä¹‹é“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŒ‡é’ˆ </tag>
            
            <tag> æ•°ç»„ </tag>
            
            <tag> array </tag>
            
            <tag> å­—ç¬¦ä¸² </tag>
            
            <tag> string </tag>
            
            <tag> pointer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šé‚»å®¶çš„ç™¾ä¸‡å¯Œç¿ã€‹å¦‚ä½•ç”Ÿæ´»ï¼Ÿ</title>
      <link href="/2022/09/25/du-shu-gan-wu/lin-jia-de-bai-wan-fu-weng-ru-he-sheng-huo/"/>
      <url>/2022/09/25/du-shu-gan-wu/lin-jia-de-bai-wan-fu-weng-ru-he-sheng-huo/</url>
      
        <content type="html"><![CDATA[<h1 id="é˜…è¯»æ€è€ƒ"><a href="#é˜…è¯»æ€è€ƒ" class="headerlink" title="é˜…è¯»æ€è€ƒ"></a>é˜…è¯»æ€è€ƒ</h1><p><strong>ğŸ“Œ è¿™æœ¬ä¹¦ä»åç§°ä¸Šçœ‹å¥½åƒæ˜¯æ˜¯å¸‚é¢ä¸Šé‚£ç§ä¿¯æ‹¾çš†æ˜¯çš„æˆåŠŸå­¦çš„ä¹¦ï¼Œä½†æ˜¯æ·±å…¥ä¹¦çš„å†…å®¹ï¼Œå¯ä»¥å‘ç°å®ƒä¸ä»…å¯¹äºä½ çš„è´¢åŠ¡ç”Ÿæ´»æœ‰ç”¨ï¼Œè€Œä¸”è¿˜æœ‰å¾ˆå¤šæ—¥å¸¸ç”Ÿæ´»ç»éªŒï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬åæ€è‡ªå·±çš„è¡Œä¸ºã€‚</strong></p><p>æœ¬ä¹¦ä¸­æåˆ°çš„æ‰€è°“è´¢å¯Œè‡ªç”±ï¼Œä½œè€…ç‰¹æ„åšå‡ºäº†è¯´æ˜ï¼š</p><blockquote><p>æœ¬ä¹¦æ‰€è®ºè¿°çš„ç™¾ä¸‡å¯Œç¿éƒ½è¾¾åˆ°é‡‘é’±ä¸Šçš„å……åˆ†è‡ªç«‹ï¼Œå³æ‹¥æœ‰æ— é¡»å·¥ä½œè€Œèƒ½è¿‡èˆ’é€‚ç”Ÿæ´»çš„è´¢å¯Œã€‚ä»–ä»¬å³ä½¿è¿ä¸€ä¸ªæœˆçš„å·¥èµ„ä¹Ÿå¾—ä¸åˆ°ï¼Œä»ç„¶èƒ½å¤Ÿå¹´å¤ä¸€å¹´åœ°ä¿æŒä»–ä»¬çš„æ—¥å¸¸ç”Ÿæ´»æ–¹å¼ä¸å˜ã€‚</p></blockquote><p>å…¶æ ¸å¿ƒä¸Šä¸æ˜¯æŒ‡é’±è¶Šæ¥è¶Šå¤šï¼Œè€Œæ˜¯æ‹…å¿ƒé’±çš„çƒ¦æ¼è¶Šæ¥è¶Šå°‘ï¼Œç›´åˆ°æ¶ˆå¤±ã€‚</p><p>æœ¬ä¹¦ä¸­ï¼Œé€šç¯‡éƒ½åœ¨å°è¯•å›ç­”ï¼š</p><ul><li>äººä¸ºä»€ä¹ˆä¼šè‡´å¯Œï¼Ÿ</li><li>è¿™äº›äººæœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ</li><li>å¦‚ä½•æ‰èƒ½è‡´å¯Œï¼Ÿ</li></ul><h1 id="å…ˆè¯»è°ƒæŸ¥æ–¹æ³•"><a href="#å…ˆè¯»è°ƒæŸ¥æ–¹æ³•" class="headerlink" title="å…ˆè¯»è°ƒæŸ¥æ–¹æ³•"></a>å…ˆè¯»è°ƒæŸ¥æ–¹æ³•</h1><p>è¿™æœ¬ä¹¦ä¸­å¯¹äºç™¾ä¸‡å¯Œç¿çš„è°ƒæŸ¥å–æ ·æ–¹æ³•å°±æ˜¯å¾ˆå€¼å¾—å­¦ä¹ çš„ï¼Œåœ¨ä¹¦çš„ç»“å°¾ä¸­ï¼Œä½œè€…æåˆ°å‚ä¸å¸‚åœºè¥é”€è°ƒæŸ¥è¯¾ç¨‹çš„æˆç»©ä¸ºCçš„å­¦ç”Ÿï¼Œè®¤ä¸ºåªè¦æåˆ°ä¸€å¼ è±ªåæ±½è½¦è½¦ä¸»çš„åå•ï¼Œå°±èƒ½å®Œæˆå–æ ·çš„å·¥ä½œï¼Œä½†æ˜¯å…¨ä¹¦çœ‹ä¸‹æ¥ï¼Œå¦‚æœæŒ‰ç…§è¿™ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¤§æ¦‚æ˜¯æ— ç¼˜çœ‹åˆ°è¿™æœ¬ä¹¦çš„ï¼Œå› ä¸ºå¤§å¤šæ•°ç™¾ä¸‡å¯Œç¿ä¸ç”¨è±ªè½¦ã€‚</p><p>é‰´äºè¿™ç§æƒ…å†µï¼Œä»ç©¿ç€å¤–è¡¨ã€ä½¿ç”¨çš„ç‰©å“å’Œä½çš„æˆ¿å­éƒ½ä¸èƒ½å†³å®šæ€§åœ°åˆ¤æ–­ä¸€ä¸ªäººæ˜¯ä¸æ˜¯ç™¾ä¸‡å¯Œç¿ï¼Œä½œè€…é‡‡ç”¨äº†ä¸åŒçš„è°ƒæŸ¥æ–¹æ³•ã€‚å› æ­¤ï¼Œè¯‘è€…ä¹Ÿå»ºè®®å…ˆè¯»è°ƒæŸ¥æ–¹æ³•ï¼Œå¯èƒ½ä¼šè®©æˆ‘ä»¬å¯¹äºå¯Œç¿çš„æƒ…å½¢æœ‰ä¸€ä¸ªæ–°çš„è®¤è¯†ã€‚</p><h1 id="ç™¾ä¸‡å¯Œç¿ä»€ä¹ˆæ ·"><a href="#ç™¾ä¸‡å¯Œç¿ä»€ä¹ˆæ ·" class="headerlink" title="ç™¾ä¸‡å¯Œç¿ä»€ä¹ˆæ ·"></a>ç™¾ä¸‡å¯Œç¿ä»€ä¹ˆæ ·</h1><h2 id="ä½ çš„è¯¯è§£"><a href="#ä½ çš„è¯¯è§£" class="headerlink" title="ä½ çš„è¯¯è§£"></a>ä½ çš„è¯¯è§£</h2><p>åœ¨æˆ‘ä»¬è¿™äº›å¹³å¸¸äººçš„å°è±¡ä¸­ï¼Œå¯Œäººåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼š</p><ul><li>ç©¿ç€åä¸½ï¼›</li><li>æ‹¥æœ‰å„ç§ä»£è¡¨ç¤¾ä¼šåœ°ä½çš„å¥¢ä¾ˆå“ï¼Œå¦‚æ‰‹è¡¨ã€ç å®å’Œè±ªè½¦ï¼›</li><li>å‡ºå…¥å„ç§é«˜æ¡£åœºæ‰€ï¼Œç­‰ç­‰ï¼›</li></ul><p>å½“ç„¶ï¼Œè¿™äº›å°è±¡ä¸ä¸€å®šé”™è¯¯ï¼Œå°¤å…¶æ˜¯å½“ä»Šè¿™ç§ï¼ˆè‡ªï¼‰åª’ä½“å‘è¾¾çš„ç¤¾ä¼šï¼Œæ¯ä¸ªäººéƒ½ä¼šå°†è‡ªå·±åŒ…è£…ä¸ºæˆåŠŸäººå£«ï¼Œæ²¡æœ‰äººæ„¿æ„è®©è‡ªå·±çœ‹èµ·æ¥æ˜¯ä¸ªç©·äººï¼Œè€Œä¸”å„ç§ç‚«å¯Œçš„æ–°é—»å……æ–¥ç€ç½‘ç»œï¼Œä½†æ˜¯è¿™äº›äººä¸­éƒ½æ˜¯ä½œè€…å®šä¹‰çš„å¯Œç¿å—ï¼Ÿä¸ä¸€å®šï¼Œå¯èƒ½ä»–ä»¬è¿˜åœ¨ä¸ºä¸‹ä¸ªæœˆçš„æˆ¿ç§Ÿå‘æ„ï¼Œä¹Ÿæœªå¯çŸ¥ã€‚</p><p>ä½œè€…çš„ä¹¦ä¸­æåˆ°çš„äººç‰©ï¼Œæ— è®ºæ˜¯è·¯äººè¿˜æ˜¯å¯Œè±ªæœ¬èº«ï¼Œå¯¹è¿™ç§å¯¹å¯Œäººçš„å°è±¡ä¸æˆ‘ä»¬å¤§å·®ä¸å·®ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯å¯Œ"><a href="#ä»€ä¹ˆæ˜¯å¯Œ" class="headerlink" title="ä»€ä¹ˆæ˜¯å¯Œ"></a>ä»€ä¹ˆæ˜¯å¯Œ</h2><p>åœ¨ä½œè€…çœ‹æ¥ï¼š</p><blockquote><p>è®¸å¤šäººå¤¸è€€è‡ªå·±é«˜æ¶ˆè´¹çš„ç”Ÿæ´»æ–¹å¼ï¼Œå´åªæœ‰å¾ˆå°‘ä¸€ç‚¹æŠ•èµ„æˆ–å®Œå…¨æ²¡æœ‰æŠ•èµ„ï¼Œæ²¡æœ‰è§„æ¨¡è¶³å¤Ÿå¤§çš„å€¼å¾—æ³¨æ„çš„èµ„äº§ã€èƒ½äº§ç”Ÿæ”¶å…¥çš„èµ„äº§â€¦â€¦ä¸æ­¤ç›¸åï¼Œæˆ‘ä»¬æ‰€å®šä¹‰çš„å¯Œäººå´æœ‰ç€å¤§é‡çš„å€¼å¾—é‡è§†çš„èµ„äº§ï¼Œæ‰€æœ‰è€…ä»ä¸­å¾—åˆ°çš„å¿«ä¹è¦æ¯”å±•ç¤ºé«˜æ¶ˆè´¹ç”Ÿæ´»æ–¹å¼å¾—åˆ°çš„å¿«ä¹å¤§å¾—å¤šã€‚</p></blockquote><p>å› æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°ä½œè€…çš„ä¸€ä¸ªæ ¸å¿ƒè§‚ç‚¹ï¼š</p><p><strong>ğŸ“Œ é«˜æ¶ˆè´¹ï¼Œä½†æ˜¯æ²¡æœ‰å¢å€¼çš„æŠ•èµ„å“çš„äººæ˜¯ä¸åº”è¯¥ç§°ä¸ºå¯Œäººçš„ã€‚</strong></p><p>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªäººæ˜¯å¦å¯Œæœ‰å‘¢ï¼Ÿä½œè€…ç»™å‡ºäº†ä¸€ä¸ªå®šé‡çš„æ–¹æ³•ï¼š</p><p><strong>ğŸ“Œ å¹´é¾„ä¹˜ä»¥å®ç°çš„ç¨å‰å¹´å®¶åº­æ”¶å…¥ï¼Œé™¤ä»¥10ï¼Œå‡å»æ‰€å¾—åˆ°çš„é—äº§ä»·å€¼ï¼Œå°±æ˜¯ä½ è¯¥æœ‰çš„å‡€å€¼ã€‚</strong></p><p>å½“ç„¶ï¼Œè¿™åªæ˜¯ä¸€ç§ç²—ç•¥çš„ç®—æ³•ï¼Œä½†æ˜¯å¯ä»¥è®©æˆ‘ä»¬å¤§è‡´ä¼°ç®—ä¸€ä¸‹è‡ªå·±å½“å‰çš„æ°´å¹³ï¼Œä»¥åŠåŠªåŠ›çš„ç©ºé—´ã€‚è€Œè¦æˆä¸ºé«˜çº§è´¢å¯Œç§¯ç´¯è€…ï¼Œè¿˜è¦åœ¨æ­¤åŸºç¡€ä¸Šdoubleã€‚</p><h2 id="ç§¯ç´¯è´¢å¯Œçš„å¯Œäººçš„ç‰¹ç‚¹"><a href="#ç§¯ç´¯è´¢å¯Œçš„å¯Œäººçš„ç‰¹ç‚¹" class="headerlink" title="ç§¯ç´¯è´¢å¯Œçš„å¯Œäººçš„ç‰¹ç‚¹"></a>ç§¯ç´¯è´¢å¯Œçš„å¯Œäººçš„ç‰¹ç‚¹</h2><p>ä½œè€…åœ¨å¼€ç¯‡æ€»ç»“äº†å¯Œäººçš„7ä¸ªç‰¹ç‚¹ï¼Œè¿™äº›ç‰¹ç‚¹å°†ä»–ä»¬é€å¾€å¯Œè£•çš„ä¸–ç•Œï¼š</p><ol><li>å¤šå…¥å°‘å‡ºçš„ç”Ÿæ´»ï¼›</li><li>æœ‰æ•ˆç‡åœ°å®‰æ’æ—¶é—´ã€ç²¾åŠ›å’Œé‡‘é’±ï¼Œè‡´åŠ›äºè´¢å¯Œçš„ç§¯ç´¯ï¼›</li><li>è®¤ä¸ºï¼šé‡‘é’±çš„å……åˆ†è‡ªç«‹æ¯”å±•ç¤ºé«˜å±‚æ¬¡çš„ç¤¾ä¼šåœ°ä½æ›´é‡è¦ï¼›</li><li>æ²¡æœ‰æ¥å—è¿‡çˆ¶æ¯çš„ç»æµæ´åŠ©ï¼›</li><li>ä»–ä»¬çš„å­©å­ç»æµä¸Šèƒ½è‡ªç»™è‡ªè¶³ï¼›</li><li>å‡†ç¡®æŠŠæ¡å¸‚åœºæœºä¼šï¼›</li><li>é€‰æ‹©äº†åˆé€‚çš„èŒä¸šï¼›</li></ol><p>æˆ‘å°†è¿™äº›ç‰¹ç‚¹åˆ†ä¸ºäº†ä¸‰ä¸ªæ–¹é¢ï¼š</p><ul><li>è¿™äº›å¯Œç¿ä¿¡å¥‰çš„å‡†åˆ™ï¼ŒåŒ…æ‹¬ï¼š1ã€2ã€3ï¼›</li><li>ä»–ä»¬çš„å®¶åº­å’Œå­å¥³å…³ç³»ï¼ŒåŒ…æ‹¬ï¼š4ã€5ï¼›</li><li>åŠªåŠ›çš„æ–¹å‘ï¼ŒåŒ…æ‹¬6ã€7ï¼›</li></ul><h1 id="ä»–ä»¬ä¿¡å¥‰çš„å‡†åˆ™"><a href="#ä»–ä»¬ä¿¡å¥‰çš„å‡†åˆ™" class="headerlink" title="ä»–ä»¬ä¿¡å¥‰çš„å‡†åˆ™"></a>ä»–ä»¬ä¿¡å¥‰çš„å‡†åˆ™</h1><h2 id="å¤šå…¥å°‘å‡º"><a href="#å¤šå…¥å°‘å‡º" class="headerlink" title="å¤šå…¥å°‘å‡º"></a>å¤šå…¥å°‘å‡º</h2><p>äººä»¬æ™®éè®¤ä¸ºç¾å›½æ˜¯ä¸€ä¸ªé«˜æ¶ˆè´¹çš„ç¤¾ä¼šï¼Œäº‹å®ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ¯å½“ç¾å›½ç¦æ­¢ä¸€äº›å›½å®¶å°†äº§å“è¾“å…¥æ—¶ï¼Œä¾¿ä¼šç»™å½“äº‹å›½é€ æˆå¾ˆå¤§éº»çƒ¦ï¼Œå› æ­¤ç¾å›½æ˜¯ä¸€ä¸ªå·¨å¤§çš„æ¶ˆè´¹å¸‚åœºã€‚</p><p>ä½†æ˜¯ï¼Œä½œè€…ä¹¦ä¸­æåˆ°çš„è¿™äº›å¯Œç¿ä»¬å´å¼ºè°ƒä¸€ä¸ªè§‚ç‚¹â€”â€”<strong>é¿å…é«˜æ¶ˆè´¹ï¼Œæˆ–è€…è¯´åˆç†æ¶ˆè´¹ã€‚</strong></p><blockquote><p>è´¢å¯Œï¼Œæ˜¯ç§¯ç´¯ä¸‹æ¥çš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯ä½ èŠ±æ‰çš„ä¸œè¥¿ã€‚ä½œè€…è®¤ä¸ºæ„ç­‘è´¢å¯Œçš„å¤§å¦è™½ç„¶è¦æœ‰ä¸€å®šçš„æ”¶å…¥ä½œä¸ºå‰ææ¡ä»¶ï¼Œä½†ä¸»è¦æ˜¯ä¾é å…‹å·±è‡ªå¾‹ã€è‚¯ä½œç‰ºç‰²å’Œè¾›å‹¤å·¥ä½œã€‚</p></blockquote><p>ä½ æ¶ˆè´¹çš„è¶Šå¤šï¼Œç§¯ç´¯çš„å°±è¶Šå°‘ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæœ´ç´ çš„é“ç†ï¼Œä½†æ˜¯å¾ˆå¤šäººçœ‹ä¸æ˜ç™½ï¼Œæˆ–è€…å—é™äºç‰¹æ®ŠåŸå› å’Œåœºæ™¯ï¼Œæ— æ³•è¾¾åˆ°ã€‚</p><blockquote><p>æ±½è½¦è¶‹å‘äºè¿…é€Ÿå‡å€¼ï¼Œè€Œé‡‘èèµ„äº§åˆ™è¶‹å‘äºå¢å€¼ã€‚</p></blockquote><p>è¿™äº›å¯Œç¿é€šè¿‡å¤šç§¯ç´¯èƒ½å¢å€¼çš„ä¸œè¥¿ï¼Œå‡å°‘è´¬å€¼çš„ä¸œè¥¿æ¥è¾¾åˆ°å¤šå…¥å°‘å‡ºçš„ç›®æ ‡ã€‚å¯¹äºäººä»¬çš„è´¨ç–‘ï¼Œæˆ–è€…æ’æ–¥ï¼Œæ¯”å¦‚æ˜¯å¦æœ‰ä¹¡æ‘ä¿±ä¹éƒ¨çš„ä¼šå‘˜èµ„æ ¼ç­‰ç­‰ï¼Œä»–ä»¬çš„å›åº”æ˜¯è¿™æ ·çš„ï¼š</p><blockquote><p>æˆ‘çš„ä¼ä¸šçœ‹èµ·æ¥ä¸æ¼‚äº®ã€‚æˆ‘ä¸æ‰®é‚£å¯Œè±ªè§’è‰²â€¦â€¦ä¸æ‘†é‚£è°±ã€‚</p></blockquote><p>åœ¨è¿™äº›äººçœ‹æ¥ï¼ŒèŠ‚ä¿­æ˜¯è´¢å¯Œå¤§å¦çš„åŸºçŸ³ï¼Œç‰¹åˆ«ä½ æ˜¯ä»0å¼€å§‹ï¼Œæ²¡æœ‰ç§¯ç´¯ï¼Œæ²¡æœ‰å®¶åº­çš„å¸®åŠ©ï¼Œæ‰€ä»¥æ§åˆ¶å¥½ä½ çš„æ‰‹ã€‚åª’ä½“ä¸Šé‚£äº›å……æ»¡å™±å¤´çš„é«˜æ¶ˆè´¹è€…è¢«æ¨å´‡çš„å¤ªè¿‡åˆ†äº†ã€‚å¾ˆå°‘æœ‰äººå¯ä»¥ä¸€æ–¹é¢ä¸€æ·åƒé‡‘ï¼Œå¦ä¸€æ–¹é¢åˆæ˜¯ç™¾ä¸‡å¯Œç¿ã€‚</p><p>æœ‰ä¸€ç±»äººå¾€å¾€è¢«è®¤ä¸ºæ˜¯å¯Œç¿ï¼Œå°±æ˜¯é‚£äº›æ”¶å…¥å¾ˆé«˜çš„äººï¼Œä½†æ˜¯å¦‚æœå®åœ°äº†è§£çš„è¯ï¼Œä»–ä»¬çš„å¤§éƒ¨åˆ†æ”¶å…¥éƒ½çº³ç¨ã€é«˜æ¶ˆè´¹èŠ±æ‰äº†ï¼Œæƒ³ä¹°ä»€ä¹ˆå°±ä¹°ä»€ä¹ˆï¼Œå¸Œæœ›ç†è§£æ»¡è¶³éœ€æ±‚ï¼Œå› æ­¤å»¶è¿Ÿæ»¡è¶³ä¹Ÿæ˜¯ä¸€ç§æœ‰æ•ˆçš„æ‰‹æ®µæ¥å¤šå…¥å°‘å‡ºã€‚</p><p>ç›¸æ¯”äºé‚£äº›å¾ˆé«˜çš„æ”¶å…¥ï¼Œè´¢å¯Œç§¯ç´¯çš„åŸºçŸ³æ˜¯é˜²å®ˆï¼Œå³å‡å°‘ä¸å¿…è¦çš„æ”¯å‡ºï¼Œåˆ©ç”¨é¢„ç®—å’Œè®¡åˆ’ç›‘ç£æ”¯å‡ºï¼Œè¿™é‡Œè¦é“­è®°äºå¿ƒï¼šæ¶ˆè´¹å“å‡ ä¹ç­‰åŒäºè´¬å€¼ï¼Œä¸èƒ½æŒ‡æœ›å®ƒå¯ä»¥é’±ç”Ÿé’±ã€‚</p><h2 id="åˆç†å®‰æ’æ—¶é—´ã€ç²¾åŠ›å’Œé‡‘é’±"><a href="#åˆç†å®‰æ’æ—¶é—´ã€ç²¾åŠ›å’Œé‡‘é’±" class="headerlink" title="åˆç†å®‰æ’æ—¶é—´ã€ç²¾åŠ›å’Œé‡‘é’±"></a>åˆç†å®‰æ’æ—¶é—´ã€ç²¾åŠ›å’Œé‡‘é’±</h2><p>è¿™äº›å¯Œç¿åœ¨åˆ¶å®šè®¡åˆ’ï¼ŒåŠªåŠ›å·¥ä½œæ–¹é¢ä¹Ÿæœ‰ä¸€äº›ä¸ºäººç§°é“çš„ç‰¹è´¨ï¼Œè¿™äº›ç‰¹è´¨å¯èƒ½å·²ç»è¶…è¿‡æœ¬ä¹¦çš„ä¸»é¢˜ï¼Œä½†æ˜¯æ­£æ˜¯è¿™äº›éšè—åœ¨èƒŒåçš„åŠªåŠ›é€ å°±äº†ä»Šå¤©çš„ä»–ä»¬ã€‚</p><blockquote><p>ä»–ä»¬ç»æµæœ‰æ•ˆåœ°åˆ†é…æ—¶é—´ã€ç²¾åŠ›å’Œé‡‘é’±ï¼Œè‡´åŠ›äºæ„ç­‘ä»–ä»¬çš„è´¢å¯Œå¤§å¦ã€‚</p></blockquote><h3 id="è¶Šæ—©å¼€å§‹è¶Šå¥½"><a href="#è¶Šæ—©å¼€å§‹è¶Šå¥½" class="headerlink" title="è¶Šæ—©å¼€å§‹è¶Šå¥½"></a>è¶Šæ—©å¼€å§‹è¶Šå¥½</h3><p>å³ä¾¿æˆ‘ä»¬æ— æ³•åšåˆ°å…¶ä»–çš„æ–¹é¢ï¼Œä½†æ˜¯åœ¨åˆç†å®‰æ’è®¡åˆ’æ–¹é¢ï¼Œè¿™äº›å¯Œç¿çš„ç»éªŒä¹Ÿæ˜¯å€¼å¾—å€Ÿé‰´çš„ã€‚<strong>ä¸ºäº†è‡´å¯Œï¼Œè¶Šæ—©å¼€å§‹è‡ªå·±çš„æŠ•èµ„ï¼ŒæˆåŠŸçš„æœºä¼šè¶Šå¤§ï¼Œè¿™æ˜¯ç¬¬ä¸€ç‚¹è¦è®°ä½çš„</strong>ï¼Œè€Œåœ¨å­¦æ ¡å¾…å¾—è¶Šä¹…ï¼Œè‡´å¯Œçš„ç›®æ ‡å¯èƒ½ä¼šå»¶è¿Ÿã€‚</p><p>ç›¸æ¯”é‚£äº›èŠ±è´¹å¤§é‡æ—¶é—´åœ¨æ¶ˆè´¹ä¸Šçš„äººï¼Œè¿™äº›å¯Œç¿è®¤è¯†åˆ°ï¼š</p><blockquote><p>æŠŠæ—¶é—´å’Œç²¾åŠ›èŠ±åœ¨è¿½æ±‚æ‘†é˜”ä¸Šï¼Œå¸¸å¸¸ä¼šå¾—åˆ°ä¸€ç§æ³¨å®šå°†å¾—åˆ°çš„ç»“æœï¼Œé‚£å°±æ˜¯è¾ƒå·®çš„ç»æµæˆå°±ã€‚</p></blockquote><h3 id="è®¤çœŸè®¡åˆ’å·¥ä½œå’ŒæŠ•èµ„"><a href="#è®¤çœŸè®¡åˆ’å·¥ä½œå’ŒæŠ•èµ„" class="headerlink" title="è®¤çœŸè®¡åˆ’å·¥ä½œå’ŒæŠ•èµ„"></a>è®¤çœŸè®¡åˆ’å·¥ä½œå’ŒæŠ•èµ„</h3><p>å› æ­¤ï¼Œä»–ä»¬å¯¹å¾…å·¥ä½œè¦ä¸¥è°¨è®¤çœŸçš„å¤šï¼š</p><blockquote><p>çº¦ç¿°å°¼Â·å¢å¡æ–¯ï¼Œä½œä¸ºå¯Œè£•çš„ä¼ä¸šä¸»æ˜¯ååˆ†å®ˆæ—¶çš„ã€‚ä»–ä»æ¥ä¸ä¼šè¿Ÿåˆ°ï¼Œæ¯ä¸ªå·¥ä½œæ—¥æ—©ä¸Š6ç‚¹åŠå‡†æ—¶åˆ°å…¬å¸ä¸Šç­ã€‚</p></blockquote><blockquote><p>æˆ‘åšæŒå‡¡äº‹éƒ½å®šå¥½ç›®æ ‡ã€‚æˆ‘æœ‰ä¸€æ•´å¥—ç»è¿‡æ˜ç¡®é˜é‡Šçš„æ¯å¤©ç›®æ ‡ã€æ¯å‘¨ç›®æ ‡ã€æ¯æœˆç›®æ ‡ã€æ¯å¹´ç›®æ ‡å’Œæ•´ä¸ªä¸€ç”Ÿçš„ç›®æ ‡ã€‚æˆ‘ç”šè‡³è¿æ´—æ¾¡éƒ½æœ‰ä¸ªç›®æ ‡ã€‚æˆ‘ç»å¸¸å¯¹æˆ‘ä»¬é‚£äº›å¹´è½»çš„ç»ç†è¯´ï¼Œä»–ä»¬å¿…é¡»å®šæœ‰ç›®æ ‡ã€‚</p></blockquote><p>ç›¸æ¯”ä¹‹ä¸‹ï¼š</p><blockquote><p>ä½çº§çš„è´¢å¯Œç§¯ç´¯è€…æ¯æœˆæ‰€æµªè´¹çš„æ—¶é—´è¦æ•°å€äºä»–ä»¬ç”¨äºè®¡åˆ’æŠ•èµ„ç­–ç•¥çš„æ—¶é—´ã€‚</p></blockquote><p>è¿™ä»½è®¤çœŸå½“ç„¶ä¹Ÿå¸¦åˆ°äº†é‡‘é’±çš„ç®¡ç†ä¸Šã€‚</p><blockquote><p>è¿™äº›äººé¦–å…ˆæ¯å¹´å·²å®ç°çš„æ”¶å…¥è‡³å°‘15%ç”¨äºæŠ•èµ„ï¼Œç„¶åæ‰ç”¨äºæ”¯ä»˜é£Ÿç‰©ã€è¡£æœã€ä½æˆ¿ã€ä¿¡ç”¨ç­‰æ–¹é¢çš„éœ€è¦ã€‚</p></blockquote><p>å¯¹æ¶ˆè´¹çš„è®¡åˆ’å’Œæ§åˆ¶æ˜¯è´¢å¯Œç§¯ç´¯çš„å…³é”®ã€‚å› æ­¤ï¼Œåšé¢„ç®—å’Œè®¡åˆ’æŠ•èµ„æ˜¯ååˆ†å¿…è¦çš„ï¼Œä½œè€…è°ƒæŸ¥çš„å¾ˆå¤šäººéƒ½ä¼šè¿›è¡Œé¢„ç®—è§„åˆ’ï¼Œç”šè‡³ç²¾ç¡®åˆ°1ç¾å…ƒã€‚</p><blockquote><p>è®¡åˆ’å·¥ä½œåªæ˜¯æ„ç­‘è´¢å¯Œå¤§å¦çš„è®¸å¤šå…³é”®éƒ¨ä»¶ä¸­çš„ä¸€ä»¶ã€‚å¤§å¤šæ•°è´¢å¯Œç§¯ç´¯èƒ½æ‰‹éƒ½è§„å®šæœ‰ä¸€å¥—ç³»ç»Ÿçš„è®¡åˆ’å·¥ä½œæ—¥ç¨‹ã€‚æ¯å‘¨ã€æ¯æœˆã€æ¯å¹´ï¼Œä»–ä»¬éƒ½è®¡åˆ’è‡ªå·±çš„æŠ•èµ„ã€‚</p></blockquote><p>ä¸€äº›ä¸æ˜¯é‚£ä¹ˆå¯Œè£•çš„äººè®¤ä¸ºæ²¡æœ‰å¿…è¦ï¼Œç”šè‡³é„™è§†ï¼š</p><blockquote><p>ç„¶è€Œå¥¹å¿«ä¹å—ï¼Ÿè¿™æ˜¯è°ˆåˆ°èŠ‚ä¿­çš„ç™¾ä¸‡å¯Œç¿æ—¶åˆ«äººç»å¸¸å‘æˆ‘ä»¬æå‡ºçš„é—®é¢˜ã€‚æ˜¯çš„ï¼Œå¥¹å¿«ä¹ã€‚å¥¹æœ‰é‡‘é’±ä¸Šçš„ä¿éšœã€‚</p></blockquote><p>è¿™æ˜¯å› ä¸ºï¼š</p><blockquote><p>é‡‘é’±ä¸Šå……åˆ†è‡ªç«‹çš„äººï¼Œè¦æ¯”é‚£äº›å¤„äºåŒæ ·çš„æ”¶å…¥å¹´é¾„ç»„è€Œæ²¡æœ‰é‡‘é’±ä¸Šçš„ä¿è¯çš„äººæ›´åŠ å¿«ä¹ã€‚</p></blockquote><p>è€Œè¿™äº›é„™è§†å¯Œç¿çš„äººï¼ŒèŠ±è´¹åœ¨è®¡åˆ’å’Œç®¡ç†ä¸Šçš„æ—¶é—´è¿œè¿œä¸å¤Ÿï¼Œè¿™æˆ–è®¸ä¹Ÿæ˜¯ä»–ä»¬æœªèƒ½è‡´å¯Œçš„åŸå› å§ã€‚</p><p>åœ¨å¼€å±•è®¡åˆ’æ—¶ï¼Œæˆ‘ä»¬è¿™äº›æœªèƒ½è‡´å¯Œçš„äººä»¬æ€»æœ‰ä¸€äº›è¯¯è§£ï¼šè¿›è¡Œè®¡åˆ’å°±æ„å‘³ç€ç”Ÿæ´»æ ‡å‡†çš„ä¸‹é™ï¼Œä¹Ÿå°±æ˜¯ç”Ÿæ´»çš„ä¸å¥½ã€‚è€Œåœ¨æˆ‘ä»¬ä¸€èˆ¬çœ‹æ¥ï¼Œæ‰€è°“ç”Ÿæ´»çš„å¥½ï¼Œæ„å‘³ç€é€šè¿‡æ¶ˆè´¹å„ç§é«˜çº§å•†å“æ¥å±•ç¤ºè‡ªå·±çš„é«˜æ”¶å…¥ã€‚ä½†æ˜¯ä¹‹å‰æˆ‘ä»¬ä¹Ÿæåˆ°ï¼Œæœ¬ä¹¦çš„å¯Œç¿å¯¹è¿™ç§è¡Œä¸ºä»æ¥ä¸æ„Ÿå†’ã€‚</p><p>æœ‰æ—¶å³ä¾¿æ˜¯å—è¿‡é«˜ç­‰æ•™è‚²çš„äººï¼Œä¹Ÿä¸ä¸€å®šè®¤å¯è®¡åˆ’çš„é‡è¦æ€§æˆ–è€…åˆ¶å®šå¥½è®¡åˆ’ï¼Œ</p><blockquote><p>è¿™æ˜¯å› ä¸ºå—è¿‡è‰¯å¥½æ•™è‚²çš„é«˜æ”¶å…¥è€…å¹¶ä¸ä¼šè‡ªåŠ¨è½¬åŒ–ä¸ºèƒ½åœ¨é‡‘é’±ä¸Šå……åˆ†è‡ªç«‹çš„äººã€‚è¿™éœ€è¦æœ‰è®¡åˆ’å·¥ä½œå’Œä½œå‡ºè‡ªæˆ‘ç‰ºç‰²ã€‚</p></blockquote><blockquote><p>å¦‚æœä½ çš„ç›®æ ‡æ˜¯è¦è¾¾åˆ°é‡‘é’±ä¸Šçš„å……åˆ†è‡ªç«‹ï¼Œé‚£è¯¥æ€æ ·åšå‘¢ï¼Ÿä½ çš„è®¡åˆ’åº”è¯¥æ˜¯ï¼Œç‰ºç‰²ç°åœ¨çš„æ¶ˆè´¹ï¼Œå–å¾—å°†æ¥é‡‘é’±ä¸Šçš„å……åˆ†è‡ªç«‹ã€‚</p></blockquote><h3 id="å¯Œè´µä¸èƒ½æ·«"><a href="#å¯Œè´µä¸èƒ½æ·«" class="headerlink" title="å¯Œè´µä¸èƒ½æ·«"></a>å¯Œè´µä¸èƒ½æ·«</h3><p>è¿™äº›å¯Œç¿çš„ä¸€ä¸ªæ˜¾è‘—çš„ç‰¹ç‚¹æ˜¯ï¼Œå³ä¾¿å·²ç»è¾¾åˆ°æœ¬ä¹¦ä¸­æ‰€è¯´çš„è´¢åŠ¡ç‹¬ç«‹ï¼Œä½†æ˜¯ä»–ä»¬ä¾ç„¶ç®€æœ´ï¼Œå±äºæ˜¯â€œå¯Œè´µä¸èƒ½æ·«â€äº†ã€‚æˆ‘è§‰å¾—åšåˆ°è¿™ä¸€ç‚¹è¿˜æ˜¯æŒºéš¾çš„ï¼Œæœ‰äº›åœ¨å¥‹æ–—çš„å¼€å§‹é˜¶æ®µï¼Œå°šèƒ½åšåˆ°ä¸Šè¿°ä¸­æåˆ°çš„å„ç§å“è´¨ï¼Œä½†æ˜¯è¾¾åˆ°ä¸€å®šçš„å±‚æ¬¡åï¼Œå¼€å§‹æŠ›å¼ƒä¹‹å‰çš„è¡Œä¸ºã€‚</p><p>ä½†æ˜¯è¿™äº›å¯Œç¿ï¼Œå³ä¾¿å·²ç»å¯Œè£•äº†ï¼š</p><ul><li>ä»ç„¶ä¹°äºŒæ‰‹æ±½è½¦ï¼›</li><li>å¤„åœ¨æ™®é€šå±…æ°‘åŒºï¼›</li><li>ä¸ºäº†200ç¾å…ƒå‚åŠ æœ¬ä¹¦ä¸­çš„è°ƒæŸ¥ï¼›</li><li>ä¸åƒæ˜‚è´µçš„é£Ÿå“ï¼›</li></ul><p>è¿™é‡Œæœ‰å¿…è¦æä¸€ç‚¹ä»–ä»¬çš„çœ‹æ³•ï¼Œ<strong>ä¸€ä»¶è¶…å‡ºå½“å‰è´¢å¯Œæ°´å‡†çš„ç‰©å“æ˜¯ä¸èƒ½å•ç‹¬å­˜åœ¨çš„</strong>ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä½ åœ¨å†œæ‘çš„æˆ¿å­é‡ŒæŒ‚äº†ä¸€å¹…æ¢µé«˜çš„ç”»ï¼Œæ˜¾ç„¶æ˜¯ä¸å¤ªåˆé€‚çš„ï¼Œä½ è¦ä¹°ä¸ªç¬¦åˆé£æ ¼çš„æˆ¿å­ï¼Œé…ä¸€è¾†ç¬¦åˆè¿™ä¸ªæˆ¿å­çš„è½¦ï¼Œå‡ºå…¥ç¬¦åˆè¿™è¾†è½¦çš„é¤å…ï¼Œç­‰ç­‰ï¼Œæ‰€ä»¥ä¸åªæ˜¯ä¸€å¹…ç”»çš„äº‹æƒ…ã€‚</p><p>å› æ­¤ï¼Œè¿™äº›äºº</p><blockquote><p>å…‹å·±è‡ªå¾‹ï¼Œä½æ¶ˆè´¹ï¼Œæœ‰å±æœºæ„Ÿï¼Œèƒ½åˆ»è‹¦å·¥ä½œã€‚</p></blockquote><h1 id="å®¶åº­ä¸å­å¥³çš„å…³ç³»"><a href="#å®¶åº­ä¸å­å¥³çš„å…³ç³»" class="headerlink" title="å®¶åº­ä¸å­å¥³çš„å…³ç³»"></a>å®¶åº­ä¸å­å¥³çš„å…³ç³»</h1><p>è¿™äº›èƒ½å¤Ÿè‡´å¯Œçš„äººï¼Œå…¶æ‰€åœ¨çš„å®¶åº­ä¹Ÿå¯¹å…¶æœ‰å¾ˆå¤§çš„å½±å“ã€‚</p><blockquote><p>ä¸€ä¸ªå®¶åº­æœ‰ä¸¤ç§ä¸åŒçš„ç”¨é’±ä¹ æƒ¯ï¼Œæ˜¯ä¸å¯èƒ½ç§¯ç´¯å¤§é‡è´¢å¯Œçš„ã€‚</p></blockquote><p>åœ¨è¿™é‡Œï¼Œæˆ‘å°†å…¶åˆ†ä¸ºäº†å¦»å­å’Œä¸‹ä¸€ä»£ã€‚ä½†æ˜¯è¿™äº›äººçš„çˆ¶æ¯å¯¹å­©å­ä¹Ÿèµ·åˆ°äº†å†³å®šæ€§çš„å½±å“ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œçˆ¶æ¯èŠ‚ä¿­çš„äººï¼Œå…¶å­©å­ä¸€èˆ¬ä¹Ÿä¼šå¾ˆèŠ‚ä¿­ã€‚ä½†ä¹Ÿä¸ä¸€å®šï¼Œè¿™ç‚¹åœ¨ä¸‹æ–‡ä¸­å±•å¼€è¯´æ˜ã€‚</p><h2 id="å¦»å­"><a href="#å¦»å­" class="headerlink" title="å¦»å­"></a>å¦»å­</h2><blockquote><p>æˆ‘ä»¬çš„å¦»å­åœ¨é‡‘é’±ä¸Šè¿œæ¯”æˆ‘ä»¬ä¿å®ˆå¾—å¤šã€‚</p></blockquote><p>æœ¬ä¹¦ä¸­æåˆ°çš„å¤§å¤šæ•°å¯Œç¿çš„å¦»å­æ¯”ä»–ä»¬è‡ªå·±è¦æ›´èŠ‚ä¿­ã€‚ç”šè‡³ä½œè€…è¿˜é—®äº†3ä¸ªé—®é¢˜ï¼š</p><ol><li>ä½ ä»¬çš„çˆ¶æ¯å¾ˆèŠ‚ä¿­å—ï¼Ÿ</li><li>ä½ èŠ‚ä¿­å—ï¼Ÿ</li><li>ä½ çš„é…å¶æ¯”ä½ æ›´åŠ èŠ‚ä¿­å—ï¼Ÿ</li></ol><p>å¤šæ•°çš„å¯Œç¿ç»™å‡ºçš„éƒ½æ˜¯è‚¯å®šçš„å›ç­”ã€‚è¿™ç§æƒ…å†µå¯¹æˆ‘ä»¬å¯»æ‰¾è‡ªå·±çš„é…å¶å¯èƒ½æœ‰ä¸€ç‚¹ç‚¹å¯ç¤ºï¼š</p><blockquote><p>å¦‚æœè·Ÿçˆ±æµªè´¹çš„äººç»“å©šï¼Œå¤§å¤šæ•°äººéƒ½å†³ä¸å¯èƒ½åœ¨ä¸€ä¸ªä¸–ä»£å°±å˜ä¸ºå¯Œç¿ã€‚ä¸€å¯¹é…å¶å¦‚æœæœ‰ä¸€æ–¹æ˜¯é«˜æ¶ˆè´¹è€…ï¼Œé‚£å°±ä¸èƒ½ç§¯ç´¯è´¢å¯Œã€‚</p></blockquote><p>æˆ‘è§‰å¾—è¿™ä¸€ç‚¹åœ¨å½“å‰çš„ä¸­å›½ç¤¾ä¼šä¹Ÿæ˜¯å¾ˆæœ‰å€Ÿé‰´ï¼Œè™½ç„¶ç”·ä¸»å¤–å¥³ä¸»å†…çš„æ ¼å±€é€æ¸è¢«æ‰“ç ´ï¼Œå¥³æ€§çš„å®¶åº­åœ°ä½éšç€ç»æµåœ°ä½çš„ä¸Šå‡ä¹Ÿå¾—åˆ°æå‡ï¼Œä½†æ˜¯æ“å¿ƒå®¶åº­äº‹åŠ¡çš„ä»ç„¶æ˜¯å¤šæ•°çš„å¥³æ€§ï¼Œå¦‚æœå¥¹æ˜¯ä¸€ä¸ªå¤§æ‰‹å¤§è„šçš„äººï¼Œæ˜¾ç„¶ä½ çš„æ—¥å­ä¸ä¼šå¥½è¿‡ã€‚</p><h2 id="ä¸‹ä¸€ä»£"><a href="#ä¸‹ä¸€ä»£" class="headerlink" title="ä¸‹ä¸€ä»£"></a>ä¸‹ä¸€ä»£</h2><p>é¾™ç”Ÿé¾™ï¼Œå‡¤ç”Ÿå‡¤ï¼Œè€é¼ çš„å­©å­ä¼šæ‰“æ´ã€‚æˆ‘ä»¬ä¸€èˆ¬è®¤ä¸ºå¯Œç¿çš„å­©å­ä»ç„¶æ˜¯å¯Œç¿ï¼Œä½†æ˜¯æƒ…å†µå¹¶ä¸ä¸€å®šå¦‚æ­¤ã€‚</p><blockquote><p>ä¸€èˆ¬è¯´æ¥ï¼Œæˆå¹´å­å¥³æ¥å—çš„ç¾å…ƒè¶Šå¤šï¼Œä»–ä»¬çš„è´¢å¯Œç§¯ç´¯å°±è¶Šå°‘ï¼›è€Œç»™çš„ç¾å…ƒè¶Šå°‘ï¼Œç§¯ç´¯åˆ™è¶Šå¤šã€‚</p></blockquote><p>è¿™ä¸æˆ‘ä»¬çš„è®¤çŸ¥æœ‰å·®åˆ«ã€‚ä¹¦ä¸­ä¸ºæˆ‘ä»¬æ­ç¤ºäº†éƒ¨åˆ†åŸå› ï¼š</p><ul><li>å¯Œç¿ä»¬å€¾å‘äºå‘ä¸èƒ½ç»æµç‹¬ç«‹äººæä¾›æ›´å¤šç»æµæ”¯æŒï¼Œå› æ­¤é€»è¾‘æ˜¯é¢ å€’çš„ï¼›</li><li>å¯Œç¿æœ‰ä¸€ç§æƒ…ç»“ï¼šä¸æƒ³è®©å­©å­ç»å†è‡ªå·±ç»å†è¿‡çš„è‹¦æ—¥å­å’Œé£é™©ï¼›</li></ul><p>å› æ­¤ï¼Œè¿™äº›å¯Œç¿ç»å¸¸å‘å­©å­è½¬é’±ï¼Œè¿™äº›é’±ä¸€èˆ¬éƒ½ä¼šè¢«æ‹¿æ¥æ¶ˆè´¹ï¼Œå³å¯Œç¿è‡ªå·±é¿å…äº†æ¶ˆè´¹é™·é˜±ï¼Œä½†æ˜¯è‡ªå·±çš„å­©å­æ²¡æœ‰æˆåŠŸæ‘†è„±è¿™ç§é™·é˜±ï¼Œä¸€ä¸ªè®½åˆºã€‚</p><p>ä½†æ˜¯ï¼Œæ›´ä¸€èˆ¬çš„æ˜¯ï¼Œ</p><blockquote><p>çˆ¶æ¯ç§¯ç´¯çš„è´¢å¯Œè¶Šå¤šï¼Œä»–ä»¬çš„æˆå¹´å­å¥³å°±è¶Šæœ‰å¯èƒ½åœ¨ç»æµä¸Šå¾—åˆ°æ›´å¤šçš„è®­ç»ƒã€‚</p></blockquote><p>è¿™ç§ä¹Ÿæ˜¯ç¬¦åˆæˆ‘ä»¬çš„è®¤çŸ¥çš„ã€‚</p><h3 id="ä¸ºä»€ä¹ˆæ¥å—ç»æµæ”¯æŒçš„äººæ›´å¼±å‘¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæ¥å—ç»æµæ”¯æŒçš„äººæ›´å¼±å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæ¥å—ç»æµæ”¯æŒçš„äººæ›´å¼±å‘¢ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæ¥å—ç»æµæ”¯æŒçš„äººæ›´å¼±å‘¢ï¼Ÿ</h3><p>ä½œè€…æ¢ç´¢äº†é‚£äº›ä»çˆ¶æ¯é‚£é‡Œæ‹¿åˆ°æ›´å¤šé’±çš„äººï¼Œä¸ºä»€ä¹ˆç»æµä¼šæ›´å·®ï¼Ÿ</p><ol><li>ä»å¤©è€Œé™çš„è´¢å¯Œå¤šç”¨äºæ¶ˆè´¹ï¼Œè€Œä¸æ˜¯å‚¨è“„å’ŒæŠ•èµ„ï¼›</li><li>è¿™äº›äººæœªå°†è‡ªå·±çš„è´¢å¯Œä¸çˆ¶æ¯åˆ†å‰²ï¼Œè®¤ä¸ºçˆ¶æ¯çš„å°±æ˜¯è‡ªå·±çš„ï¼›</li><li>è¿™äº›äººæœ¬æ¥è´¢åŠ¡çŠ¶å†µå°±ä¸å¥½ï¼Œæ‰ä¼šå¾—åˆ°æ›´å¤šçš„æ”¯æŒï¼›</li><li>ä»–ä»¬çš„æŠ•èµ„èŠèƒœäºæ— ï¼›</li></ol><h3 id="åº”è¯¥ç»™ä¸‹ä¸€ä»£åš-ç•™ä»€ä¹ˆå‘¢ï¼Ÿ"><a href="#åº”è¯¥ç»™ä¸‹ä¸€ä»£åš-ç•™ä»€ä¹ˆå‘¢ï¼Ÿ" class="headerlink" title="åº”è¯¥ç»™ä¸‹ä¸€ä»£åš/ç•™ä»€ä¹ˆå‘¢ï¼Ÿ"></a>åº”è¯¥ç»™ä¸‹ä¸€ä»£åš/ç•™ä»€ä¹ˆå‘¢ï¼Ÿ</h3><p>ä¸€äº›ç»éªŒå’ŒåŸåˆ™ï¼š</p><ol><li>å‘Šè¯‰ä»–ä»¬ï¼šä¸ç®¡ä½ æœ‰å¤šå°‘æ”¶å…¥ï¼Œ ç”Ÿæ´»æ°¸è¿œè¦å¤šå…¥å°‘å‡ºï¼›</li><li>æ•™ä¼šä»–ä»¬é’“é±¼ï¼Œè€Œä¸æ˜¯ç›´æ¥ç»™ä»–ä»¬é±¼ï¼›</li><li>æ•™ä¼šå­©å­èŠ‚ä¿­ï¼›</li><li>è®©ä»–ä»¬è‡ªå·±åšå†³ç­–ï¼Œåƒè‹¦å¤´ï¼›</li><li>è‡ªå¾‹åœ°ç”Ÿæ´»ï¼›</li><li>ä¸è¦ç»™å‡ºæ‰¿è¯ºï¼šæˆ‘çš„é’±å…¨éƒ¨ç•™ç»™ä½ ï¼›</li><li>æœ‰å‹‡æ°”å°è¯•ï¼Œå³ä¾¿å¤±è´¥ä¹Ÿå¥½ï¼›<blockquote><p>å½“ä½ æŠŠå…¨éƒ¨å¿ƒæ€éƒ½æ”¾è¿›å»çš„æ—¶å€™ï¼Œä½ èƒ½å¹²å‡ºäº›ä»€ä¹ˆæ¥ï¼Œé‚£æ˜¯å¾ˆä¸å¯æ€è®®çš„ã€‚</p></blockquote></li><li>æ•™å¯¼ä»–ä»¬é è‡ªå·±ç”Ÿæ´»ï¼›<blockquote><p>åº”ä¸ºå­å¥³åˆ›é€ ä¸€ç§ç¯å¢ƒï¼Œä½¿ç‹¬ç«‹çš„æ€æƒ³å’Œä¸šç»©å—åˆ°å°Šæ•¬ï¼Œä¸ªäººçš„æˆå°±å—åˆ°çæƒœï¼Œè´£ä»»å¿ƒæ‰èƒ½å¾—åˆ°åº”æœ‰çš„æŠ¥å¿ã€‚ä¸é”™ï¼Œç”Ÿæ´»ä¸­æœ€é‡è¦çš„å¸¸å¸¸æ˜¯è‡ªç”±ã€‚è¦æ•™è‚²ä½ çš„å­å¥³ä¾é è‡ªå·±ç”Ÿæ´»ã€‚</p></blockquote> å­©å­ä¹Ÿåº”è¯¥é¿å…æˆä¸ºçˆ¶æ¯çš„ç»æµå¥´éš¶ï¼Œå› ä¸ºåœ¨ç»æµä¸Šå—åˆ¶äºåˆ«äººï¼Œä½ çš„ç²¾ç¥ä¹Ÿå—åˆ¶äºäººã€‚</li><li>ä¸è¦å‘Šè¯‰ä»–ä»¬ï¼šè‡ªå·±çš„å®¶åº­å¾ˆå¯Œè£•ï¼›</li><li>çˆ¶æ¯å¯¹å­©å­çš„æ•™å¯¼è¦ä¸çˆ¶æ¯è‡ªå·±çš„è¡Œä¸ºä¸€è‡´ï¼›<blockquote><p>è¡ŒåŠ¨æ¯”è§„åˆ™æ›´æœ‰å·å¬åŠ›ï¼›è§„åˆ™åªæ˜¯è¨€è¯ï¼Œä¸æ˜¯è¡ŒåŠ¨ã€‚</p></blockquote></li><li>ç»ä¸æŠŠç»™é’±ä½œä¸ºè°ˆåˆ¤ç­–ç•¥çš„ä¸€éƒ¨åˆ†<blockquote><p>ç»™äºˆï¼Œæ˜¯å› ä¸ºçˆ±ï¼Œç”šè‡³æ˜¯å‡ºäºä¹‰åŠ¡ã€è´£ä»»æˆ–ä»æ…ˆã€‚çˆ¶æ¯å¦‚æœé‡‡ç”¨é«˜å‹çš„è°ˆåˆ¤ç­–ç•¥ï¼Œå¸¸å¸¸ä¼šå¤±å»æˆå¹´å­å¥³çš„å°Šæ•¬ä¸çˆ±æˆ´ã€‚</p></blockquote></li><li>ä¸å‚ä¸æˆå¹´å­å¥³å®¶äº‹ï¼›</li><li>ä¸è¦è¯•å›¾ä¸å­å¥³ç«äº‰ï¼›ä¸å¤¸è€€è‡ªå·±çš„å­¦å†ï¼Œä¸ç‚«è€€è‡ªå·±çš„è´¢å¯Œã€‚</li><li>å¼ºè°ƒå­å¥³çš„æˆå°±ï¼Œä¿ƒä½¿ä»–ä»¬æ‹¼æå¥‹æ–—ï¼›</li><li>å‘Šè¯‰ä»–ä»¬ï¼šå¾ˆå¤šä¸œè¥¿æ¯”é‡‘é’±æ›´å®è´µï¼›</li></ol><h1 id="åŠªåŠ›çš„æ–¹å‘"><a href="#åŠªåŠ›çš„æ–¹å‘" class="headerlink" title="åŠªåŠ›çš„æ–¹å‘"></a>åŠªåŠ›çš„æ–¹å‘</h1><h2 id="ç„å‡†å¯Œäºº"><a href="#ç„å‡†å¯Œäºº" class="headerlink" title="ç„å‡†å¯Œäºº"></a>ç„å‡†å¯Œäºº</h2><p>è·Ÿç€é‡‘é’±èµ°ï¼Œæ˜¯å¯Œç¿ç»™å‡ºçš„å»ºè®®ï¼Œè°æœ‰æœ€å¤šçš„é‡‘é’±ï¼Œä¹Ÿæ˜¯å¯Œäººï¼Œå› æ­¤è¿™äº›äººæä¾›æœåŠ¡ï¼Œæ˜¯è‡´å¯Œçš„ä¾¿æ·é€šé“ã€‚ä½œè€…åœ¨ä¹¦ä¸­æåˆ°çš„å‡ ä¸ªæ–¹å‘ï¼Œå¯èƒ½åœ¨ä¸­å›½å¹¶ä¸èƒ½é€‚ç”¨ï¼Œä½†æ˜¯è¿™ä¸ªåŸåˆ™æ˜¯æ²¡é”™çš„ï¼Œå°¤å…¶ç°åœ¨å¯¹é«˜è´¨é‡ä¿å§†ã€è‚²å©´ã€å®¶æ”¿ç­‰éƒ½éœ€æ±‚å¾ˆå¤§ã€‚</p><h2 id="é€‰å¥½èŒä¸š"><a href="#é€‰å¥½èŒä¸š" class="headerlink" title="é€‰å¥½èŒä¸š"></a>é€‰å¥½èŒä¸š</h2><p>å¦å¤–ä¸€ä¸ªå»ºè®®æ˜¯ï¼šé€‰æ‹©å¥½çš„èŒä¸šï¼Œä¹¦ä¸­æåˆ°å¾ˆå¤šçš„å¯Œç¿ä½œä¸ºä¼ä¸šå®¶ï¼Œå¹¶ä¸å¸Œæœ›è‡ªå·±çš„å­©å­ä»äº‹ç›¸åŒçš„èŒä¸šï¼Œè€Œæ˜¯å¸Œæœ›ä»–ä»¬ä»äº‹åŒ»ç”Ÿã€å¾‹å¸ˆç­‰èŒä¸šï¼Œè¿™é‡Œå¼•ç”¨ä¹¦ä¸­çš„ä¸€ä¸ªä¾‹å­ï¼š</p><blockquote><p>æˆ‘ä»¬é—®ä¸€ä½åœ¨äºŒæˆ˜æœŸé—´å› çº³ç²¹é›†ä¸­è¥å¤§å± æ€è€Œé€ƒç¦»æ¬§æ´²çš„å¯Œäººï¼Œä¸ºä»€ä¹ˆä»–æ‰€æœ‰çš„æˆå¹´å­å¥³éƒ½æ˜¯è‡ªè¥çš„ä¸“ä¸šäººå‘˜ï¼Ÿä»–çš„å›ç­”æ˜¯ï¼šâ€œä»–ä»¬èƒ½æ‹¿èµ°ä½ çš„ä¼ä¸šï¼Œä½†æ˜¯ä»–ä»¬æ‹¿ä¸èµ°ä½ çš„æ‰è¯†ï¼â€</p></blockquote><p>å› æ­¤é€‰æ‹©ä¸€ä¸ªéœ€è¦ä¸°å¯Œå­¦è¯†çš„èŒä¸šä¼šç»™ä½ è‡´å¯Œä¹‹è·¯åŠ©åŠ›ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™æœ¬ä¹¦æ˜¯1998å¹´å‡ºç‰ˆçš„ï¼Œå·²ç»è¿‡å»å°†è¿‘25å¹´äº†ï¼Œä½†æ˜¯å…¶ä¸­çš„åŸåˆ™å’Œç»éªŒä¸€ç‚¹ä¹Ÿä¸è¿‡æ—¶ï¼Œç”šè‡³æˆ‘ä»¬è®¤ä¸ºå†è¿‡100å¹´ï¼Œä¹Ÿä¸è¿‡æ—¶ã€‚</p><p>å½“ä»Šçš„ç¤¾ä¼šé£æ½®æ˜¾ç„¶åœ¨æœç€ä¹¦ä¸­å¯Œäººç”Ÿæ´»çš„ç›¸åé¢å‘å±•ï¼Œä¹Ÿç»™äº†éƒ¨åˆ†äººæœºä¼šã€‚å½“ç„¶ï¼Œåœ¨ä¹¦ä¸­ä½œè€…æœ‰é¢„è§æ€§åœ°æåˆ°ï¼Œä¸€æ—¦ä½ ä»äº‹ä¹¦ä¸­æè¿°çš„å¯Œç¿é‚£æ ·ç”Ÿæ´»ï¼Œå¤§æ¦‚ç‡ä¼šé‡åˆ°å„ç§åˆéš¾å’Œé„™è§†ï¼Œæˆ–è€…ä¸å½“å‰çš„ç¤¾ä¼šç¯å¢ƒæ ¼æ ¼ä¸å…¥ï¼Œä¸è¿‡ï¼Œç®¡ä»–å‘¢ï¼</p><blockquote><p>ä¸€ç§æ•Œæ„ç¯å¢ƒï¼Œå³ä½¿æ˜¯åœ¨ç¾å¥½äººç¾¤ä¹‹ä¸­ï¼Œå¯¹äºç‹—â€”â€”æˆ–è€…å¯¹äºè´¢å¯Œç§¯ç´¯èƒ½æ‰‹æ¥è¯´ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªå¥½åœ°æ–¹ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> è¯»ä¹¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è‡´å¯Œ </tag>
            
            <tag> æŠ•èµ„ </tag>
            
            <tag> è®¡åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Reference and Pointer</title>
      <link href="/2022/09/18/bian-cheng-zhi-dao/reference-he-pointer/"/>
      <url>/2022/09/18/bian-cheng-zhi-dao/reference-he-pointer/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ğŸ’¡ æœ¬ç¯‡çš„å†…å®¹æ¥è‡ªC++ Primerä¸­çš„2.3èŠ‚</p></blockquote><p>åœ¨C++ä¸­é™¤äº†åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿˜åŒ…æ‹¬å¤æ‚æ•°æ®ç±»å‹ï¼Œä¸»è¦æœ‰2ç§ï¼š</p><ul><li>reference å¼•ç”¨</li><li>pointer æŒ‡é’ˆ</li></ul><blockquote><p>A compound type is a type that is deï¬ned in terms of another type.</p></blockquote><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><blockquote><p>Technically speaking, when we use the term reference, we mean â€œlvalue reference.â€</p></blockquote><h2 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h2><ul><li>A reference deï¬nes an <strong>alternative name</strong> for an <strong>object</strong>;</li><li>A reference type â€œrefers toâ€ another type;</li></ul><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> ival <span class="token operator">=</span> <span class="token number">1024</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>refVal <span class="token operator">=</span> ival<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// right, refVal refers to(is another name for) ival</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>refVal2<span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// error, å¼•ç”¨å¿…é¡»è¢«åˆå§‹åŒ–</span></code></pre><h3 id="å®šä¹‰è¿‡ç¨‹"><a href="#å®šä¹‰è¿‡ç¨‹" class="headerlink" title="å®šä¹‰è¿‡ç¨‹"></a>å®šä¹‰è¿‡ç¨‹</h3><ul><li>å¼•ç”¨åªèƒ½æ˜¯objectçš„åˆ«åï¼›<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token operator">&amp;</span>refVal4 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 10 ä¸æ˜¯å˜é‡</span></code></pre></li><li>å¼•ç”¨çš„ç±»å‹ä¸å…¶æ‰€æŒ‡å‘çš„å¯¹è±¡çš„ç±»å‹è¦åŒ¹é…ï¼›<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">double</span> dval <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>refVal5 <span class="token operator">=</span> dval<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// é”™è¯¯ï¼Œç±»å‹ä¸åŒ¹é…</span></code></pre></li></ul><h2 id="å†…éƒ¨æœºåˆ¶"><a href="#å†…éƒ¨æœºåˆ¶" class="headerlink" title="å†…éƒ¨æœºåˆ¶"></a>å†…éƒ¨æœºåˆ¶</h2><p>å¯¹äºåŸºæœ¬ç±»å‹çš„å˜é‡è€Œè¨€ï¼Œå½“åˆå§‹åŒ–ä¸€ä¸ªå˜é‡æ—¶ï¼Œç”¨äºåˆå§‹åŒ–çš„å¯¹è±¡çš„å€¼è¢«æ‹·è´åˆ°åˆ›å»ºçš„å¯¹è±¡ä¸Šã€‚ä½†æ˜¯å½“åˆ›å»ºreferenceæ—¶ï¼Œä¸æ‹·è´è¯¥å€¼ï¼Œè€Œæ˜¯å°†referenceä¸è¯¥å¯¹è±¡ç»‘å®šã€‚</p><p>è¿™ä¸€ç‚¹å¯¹äºéœ€è¦æ€§èƒ½çš„åœºæ™¯å¾ˆé‡è¦ï¼Œä¸å¸Œæœ›æ‹·è´æ•°æ®ï¼Œåªå¸Œæœ›å¼•ç”¨åŒæ ·çš„æ•°æ®ï¼Œè¿™æ ·é¿å…äº†æ‹·è´æ“ä½œã€‚</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul><li>æ‰€æœ‰å¯¹è±¡å¼•ç”¨çš„å£°æ˜éƒ½å¿…é¡»è¦åˆå§‹åŒ–ï¼›</li><li>å¼•ç”¨ä¸€æ—¦åˆå§‹åŒ–ï¼Œæ²¡æœ‰ä»»ä½•æ–¹å¼èƒ½å¤Ÿè§£ç»‘å…¶å¼•ç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œå³æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå’Œåˆå§‹åŒ–å¯¹è±¡â€œæ­»ç£•â€ï¼›</li><li>å½“å¼•ç”¨ä¸åˆå§‹åŒ–å¯¹è±¡ç»‘å®šåï¼Œæ‰€æœ‰é’ˆå¯¹è¯¥å¼•ç”¨æ“ä½œå¼•èµ·çš„å˜åŒ–éƒ½ä¼šåæ˜ åˆ°åˆå§‹åŒ–å¯¹è±¡ä¸Šï¼›<pre class=" language-cpp"><code class="language-cpp">refVal2 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ­¤æ—¶ï¼Œivalä¹Ÿæ˜¯2ï¼›</span></code></pre></li><li>Reference is not an object, and it is just another name for an already existing object.  å› æ­¤æˆ‘ä»¬ä¸ä¼šå®šä¹‰referenceçš„referenceï¼Œå› ä¸ºreferenceåªèƒ½å®šä¹‰objectçš„åˆ«åï¼›</li><li>ä¸€ä¸ªæŠ€å·§ï¼šç”±äºreferenceä½¿ç”¨çš„&amp;åç»­çš„è·å–å˜é‡çš„åœ°å€æ—¶ä¹Ÿä¼šä½¿ç”¨ï¼Œå› æ­¤ä¼šè®©äººå›°æƒ‘ï¼Œ  å› æ­¤ä¸€ç§è¯»æ³•æ˜¯ï¼Œå¦‚ä¸‹ï¼š<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>val <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//val refers to a int variable a. ä»å³å‘å·¦è¯»ï¼Œ&amp;æ¢æˆrefer to </span></code></pre></li></ul><h1 id="Pointer"><a href="#Pointer" class="headerlink" title="Pointer"></a>Pointer</h1><h2 id="å«ä¹‰è¯´æ˜"><a href="#å«ä¹‰è¯´æ˜" class="headerlink" title="å«ä¹‰è¯´æ˜"></a>å«ä¹‰è¯´æ˜</h2><blockquote><p>A pointer is a compound type that â€œpoints toâ€ another type.</p></blockquote><p>ä¸referenceå¯¹æ¯”ï¼š</p><ul><li>a pointer is an object in its own right.<ul><li>reference is not an object;</li></ul></li><li>Pointers can be assigned and copied;</li><li>a single pointer can point to several different objects over its lifetime;</li><li>a pointer need not be initialized at the time it is deï¬ned;</li></ul><h2 id="å£°æ˜å’Œä½¿ç”¨æ–¹å¼"><a href="#å£°æ˜å’Œä½¿ç”¨æ–¹å¼" class="headerlink" title="å£°æ˜å’Œä½¿ç”¨æ–¹å¼"></a>å£°æ˜å’Œä½¿ç”¨æ–¹å¼</h2><ul><li>ä½¿ç”¨<code>*</code><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// dp1æ˜¯æŒ‡é’ˆï¼Œdpæ˜¯æµ®ç‚¹æ•°</span><span class="token keyword">double</span> dp<span class="token punctuation">,</span> <span class="token operator">*</span>dp1<span class="token punctuation">;</span></code></pre></li><li>the types of the pointer and the object to which it points must match;<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">double</span> dval<span class="token punctuation">;</span><span class="token keyword">double</span> <span class="token operator">*</span> pd <span class="token operator">=</span> <span class="token operator">&amp;</span>dval<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok: initializer is the address of a double </span><span class="token keyword">double</span> <span class="token operator">*</span> pd2 <span class="token operator">=</span> pd<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ok: initializer is a pointer to double </span><span class="token keyword">int</span> <span class="token operator">*</span> pi <span class="token operator">=</span> pd<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error: types of pi and pd differ </span>pi <span class="token operator">=</span> <span class="token operator">&amp;</span>dval<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// error: assigning the address of a double to a pointer to int</span></code></pre></li><li>use the dereference operator (the * operator) to access that object;<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> ival <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>ival<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span> p<span class="token punctuation">;</span></code></pre></li><li>åŒæ—¶å®šä¹‰å¤šä¸ªå˜é‡æ—¶çš„è¯¯è§£<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token operator">*</span>i<span class="token punctuation">,</span> j<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// iä¸ºæŒ‡å‘intçš„æŒ‡é’ˆï¼Œjä¸ºintå˜é‡ï¼Œä¸æ˜¯æŒ‡é’ˆï¼› </span></code></pre>  è¿™ç§å†™åœ¨ä¸€èµ·æ—¶ä¼šå¼•å‘è¯¯è§£ï¼Œä¸¤ç§æ–¹æ³•å¯ä»¥é¿å…ï¼š<ol><li>å†™æˆ int  <em>i, è€Œä¸æ˜¯ int</em> i;</li><li>å†™åœ¨ä¸¤ä¸ªå£°æ˜è¯­å¥ä¸­ï¼Œå°±ä¸ä¼šè¯¯è§£ï¼›</li></ol></li></ul><h2 id="PointeræŒ‡å‘å¯¹è±¡åœ°å€"><a href="#PointeræŒ‡å‘å¯¹è±¡åœ°å€" class="headerlink" title="PointeræŒ‡å‘å¯¹è±¡åœ°å€"></a>PointeræŒ‡å‘å¯¹è±¡åœ°å€</h2><ul><li>A pointer holds the address of another object;</li><li>Because references are not objects, they donâ€™t have addresses. Hence, <strong>we may not deï¬ne a pointer to a reference</strong>.</li><li>Because a pointer is an object, we can deï¬ne a reference to a pointer.<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">&amp;</span>r <span class="token operator">=</span> p<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// r is a reference to the pointer p</span>r <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// æ›´æ”¹ræ‰€å¼•ç”¨å¯¹è±¡çš„å€¼</span></code></pre></li><li>we can store the address of a pointer in another pointer as pointers are also objects.<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>val<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// p is a pointer to val;</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>pp <span class="token operator">=</span> <span class="token operator">&amp;</span>p<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// pp is a pointer to pointer to p.</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"val is "</span> <span class="token operator">&lt;&lt;</span> val <span class="token operator">&lt;&lt;</span> <span class="token string">" by val"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"val is "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p <span class="token operator">&lt;&lt;</span> <span class="token string">" by *p"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"val is "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span><span class="token operator">*</span>pp <span class="token operator">&lt;&lt;</span> <span class="token string">" by **pp"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></code></pre>  å¯¹äºå­˜åœ¨å¤šç§ç¬¦å·ï¼Œå¦‚&amp;ï¼Œ *ç­‰æ¶‰åŠreferenceæˆ–è€…pointerçš„å£°æ˜æ—¶ï¼Œéµå®ˆä»¥ä¸‹åŸåˆ™å°±ä¸ä¼šå‡ºé”™ï¼›<ul><li>The easiest way to understand the type of r is to read the deï¬nition right to left.</li><li>The symbol closest to the name of the variable (in this case the &amp; in &amp;r) is the one that has the most immediate effect on the variableâ€™s type.</li></ul>  å°†* ç§°ä¸ºpointer to, &amp; ç§°ä¸ºreference to.</li></ul><h2 id="Pointer-Value"><a href="#Pointer-Value" class="headerlink" title="Pointer Value"></a>Pointer Value</h2><p>æŒ‡é’ˆåœ¨å®è·µä¸­å¾ˆå®¹æ˜“å‡ºé”™ï¼Œä½†æ˜¯pointerçš„valueåªèƒ½æ˜¯ä¸‹é¢4ç§ä¹‹ä¸€ï¼š</p><ol><li>point to an object; ï¼ˆæ­£å¸¸ï¼Œæˆ‘ä»¬å¸Œæœ›çš„çŠ¶æ€ï¼‰</li><li>point to the location just immediately past the end of an object; è¿™ç§æƒ…å†µå¦‚ä½•ç†è§£å‘¢ï¼Ÿæ¯”å¦‚åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„ä½ç½®ï¼Œåœ¨å¾ªç¯å’Œè¿­ä»£å™¨ä¸­ï¼Œæˆ‘ä»¬ä¼šæœ‰æŒ‡å‘æœ€åå…ƒç´ ä¹‹åçš„å…ƒç´ çš„æŒ‡é’ˆï¼Œå¯ä»¥é˜…è¯»<a href="https://stackoverflow.com/questions/21850108/what-is-pointer-past-the-end-of-an-object-means">è¿™ç¯‡æ–‡ç« </a>ï¼›</li><li>null pointer: not bound to any object; ï¼ˆæ³¨é‡æ³¨æ„çš„æƒ…å†µï¼‰</li><li>invalid: é™¤äº†ä¸Šè¿°ä¸‰è€…ä¹‹å¤–çš„æ‰€æœ‰æƒ…å†µï¼›ï¼ˆæåŠ›é¿å…ï¼‰<ul><li>It is an error to copy or otherwise try to access the value of an invalid pointer.</li><li>The result of accessing an invalid pointer is undeï¬ned.</li></ul></li></ol><h2 id="Null-Pointers"><a href="#Null-Pointers" class="headerlink" title="Null Pointers"></a>Null Pointers</h2><h3 id="å…·ä½“å«ä¹‰"><a href="#å…·ä½“å«ä¹‰" class="headerlink" title="å…·ä½“å«ä¹‰"></a>å…·ä½“å«ä¹‰</h3><blockquote><p>A null pointer does not point to any object.</p></blockquote><h3 id="è·å–null-pointers"><a href="#è·å–null-pointers" class="headerlink" title="è·å–null pointers"></a>è·å–null pointers</h3><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// method 1</span><span class="token keyword">int</span> <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// method 2</span><span class="token keyword">int</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// method 3</span><span class="token keyword">int</span> <span class="token operator">*</span>p3 <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¿…é¡»#include &lt;cstdlib></span></code></pre><p>åœ¨è¿™ä¸‰ç§æ–¹æ³•ä¸­ï¼š</p><ul><li>æ³•1æœ€è¢«æ¨èä½¿ç”¨ï¼Œæ–°çš„æ ‡å‡†ï¼Œå¯ä»¥è½¬æ¢ä¸ºä»»æ„å…¶ä»–çš„æŒ‡é’ˆç±»å‹ï¼›</li><li>æ³•2æ˜¯ä¹‹å‰çš„æ–¹æ³•ï¼›  ä¸€ç§â€œéªšæ“ä½œâ€ï¼š<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">;</span><span class="token keyword">int</span> zero <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>pi <span class="token operator">=</span> zero<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// é”™è¯¯ï¼Œä¸å…è®¸å°†intèµ‹å€¼ç»™pointer</span></code></pre></li><li>æ³•3ç­‰ä»·äºæ³•2ï¼Œç»§æ‰¿è‡ªCè¯­è¨€ï¼ŒNULLæ˜¯ä¸€ä¸ªpreprocessor variableï¼Œåœ¨compilerç¼–è¯‘ä¹‹å‰ï¼Œä¼šå°†å…¶æ›¿æ¢ä¸º0ï¼›</li></ul><blockquote><p>ğŸ’¡ å¼ºçƒˆå»ºè®®ï¼šåœ¨pointerå£°æ˜æ—¶ï¼Œæœ€å¥½åˆå§‹åŒ–ï¼Œä»¥å…å‡ºç°æœªå®šä¹‰çš„pointerï¼›å¦‚æœä¸å®šä¹‰ï¼Œæœ€å¥½ä½¿ç”¨nullptrèµ‹å€¼ã€‚</p></blockquote><h2 id="Pointerçš„å…¶ä»–æ“ä½œ"><a href="#Pointerçš„å…¶ä»–æ“ä½œ" class="headerlink" title="Pointerçš„å…¶ä»–æ“ä½œ"></a>Pointerçš„å…¶ä»–æ“ä½œ</h2><h3 id="æ¡ä»¶è¯­å¥ä¸­"><a href="#æ¡ä»¶è¯­å¥ä¸­" class="headerlink" title="æ¡ä»¶è¯­å¥ä¸­"></a>æ¡ä»¶è¯­å¥ä¸­</h3><blockquote><p>if the pointer is 0, then the condition is false, any nonzero pointer evaluates as true.</p></blockquote><p>åªè¦pointerä¸ºnull pointer, å…¶æ¡ä»¶åˆ¤å®šå³ä¸º0ï¼›</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">{</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"p is null pointer"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"p is not null poiner"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// è¾“å‡ºï¼šp is not null poiner</span></code></pre><h3 id="æ¯”è¾ƒæ“ä½œ"><a href="#æ¯”è¾ƒæ“ä½œ" class="headerlink" title="æ¯”è¾ƒæ“ä½œ"></a>æ¯”è¾ƒæ“ä½œ</h3><p>Given two valid pointers of the same type, we can compare them using the equality (==) or inequality (!=) operators.</p><ul><li>Two pointers are equal if they hold the same address and unequal other-wise.</li><li>Two pointers hold the same address (i.e., are equal)<ul><li>if they are both null,</li><li>if they address the same object,</li><li>or if they are both pointers one past the same object.</li></ul></li><li>Using an invalid pointer as a condition or in a comparison is undeï¬ned. è¿™ç§æƒ…å†µæŒ‡çš„æ˜¯ï¼Œpointer valuesä¸­çš„ç¬¬å››ç§æƒ…å†µã€‚</li></ul><h2 id="void-Pointers"><a href="#void-Pointers" class="headerlink" title="void * Pointers"></a>void * Pointers</h2><ul><li>The type void * is a special pointer type that can hold the address of any object.</li><li>a void * pointer holds an address, but the type of the object at that address is unknown:</li></ul><blockquote><p>ğŸ’¡ ä¹‹å‰æˆ‘ä¸€ç›´ä»¥ä¸ºè¿™æ˜¯æŒ‡å‘ä¸€ä¸ªvoidåœ°å€ï¼Œè¿™ä¸ªèµ·åå¤ªå¥‡æ€ªäº†ã€‚</p></blockquote><p>è™½ç„¶è¿™ç§æŒ‡é’ˆç±»å‹å¯ä»¥æŒ‡å‘ä»»æ„ç±»å‹çš„æŒ‡é’ˆï¼Œä½†æ˜¯å…¶åªæ”¯æŒæœ‰é™çš„æ“ä½œã€‚</p><ul><li>We can compare it to another pointer,</li><li>we can pass it to or return it from a function,</li><li>and we can assign it to another void * pointer.</li></ul><p>ä½†æ˜¯ä¸å¯ä»¥ï¼š</p><ul><li>use a void * to operate on the object it addresses<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token operator">*</span>vp <span class="token operator">=</span> p<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"p points to "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>p <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"vp points to "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>vp <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// é”™è¯¯</span></code></pre></li></ul><h1 id="å¯¹æ¯”Referenceå’ŒPointer"><a href="#å¯¹æ¯”Referenceå’ŒPointer" class="headerlink" title="å¯¹æ¯”Referenceå’ŒPointer"></a>å¯¹æ¯”Referenceå’ŒPointer</h1><h2 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h2><ul><li>Both pointers and references give indirect access to other objects.</li></ul><blockquote><p>ğŸ’¡ åœ¨Referenceå’ŒPointerä¸­ï¼Œ&amp;å’Œ*å‡ºç°çš„é¢‘ç‡å¾ˆé«˜ï¼Œä½†æ˜¯åœ¨ä¸åŒcontextä¸­ä»£è¡¨çš„å«ä¹‰ä¸åŒï¼Œè¿™ä¸€ç‚¹å°¤å…¶éœ€è¦æ³¨æ„ã€‚</p></blockquote><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>r <span class="token operator">=</span> i<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// &amp;ä»£è¡¨r refers to i</span><span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>i<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// *ä»£è¡¨p points to i, &amp;ä»£è¡¨å–içš„åœ°å€</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>r2 <span class="token operator">=</span> <span class="token operator">*</span>p<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// &amp;ä»£è¡¨r2 refers to the object which p points to.</span></code></pre><h2 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h2><table><thead><tr><th></th><th>Reference</th><th>Pointer</th></tr></thead><tbody><tr><td>å†…å­˜åœ°å€</td><td>ä¸æ˜¯ç‹¬ç«‹å¯¹è±¡ï¼Œä¹Ÿå°±æ²¡æœ‰ç‹¬ç«‹çš„å†…å­˜åœ°å€ï¼Œè€Œæ˜¯é™„å±åœ¨ç‰¹å®šçš„å¯¹è±¡ä¸Šã€‚</td><td>ä½œä¸ºç‹¬ç«‹çš„å¯¹è±¡ï¼ŒåƒåŸºæœ¬ç±»å‹çš„å¯¹è±¡ä¸€æ ·å­˜åœ¨å†…å­˜åœ°å€ã€‚</td></tr><tr><td>å¯å˜æ€§</td><td>ä½œä¸ºå¼•ç”¨æœ¬èº«ï¼Œæ— æ³•æ”¹å˜æˆé’ˆå¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼›ä½†æ˜¯å¯ä»¥æ”¹å˜å¼•ç”¨å¯¹è±¡æœ¬èº«çš„å€¼ã€‚</td><td>å¯ä»¥æ”¹å˜æŒ‡å‘å¯¹è±¡çš„å€¼ï¼Œä¹Ÿå¯ä»¥æ”¹å˜æŒ‡å‘çš„å¯¹è±¡ã€‚</td></tr><tr><td>åˆå§‹åŒ–</td><td>å£°æ˜æ—¶ï¼Œå¿…é¡»åˆå§‹åŒ–ã€‚</td><td>å£°æ˜æ—¶ï¼Œä¸å¿…åˆå§‹åŒ–ï¼Œä½†æ˜¯å¦‚æœä¸åˆå§‹åŒ–ï¼Œåˆ™ä¼šæœ‰ä¸€ä¸ªundefinedçš„å€¼ã€‚</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹ä¹‹é“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¼•ç”¨ </tag>
            
            <tag> æŒ‡é’ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-13-01-Ray Tracing - Basics &amp; Methods</title>
      <link href="/2022/09/18/ji-suan-ji-tu-xing-xue/games/games101-13-01-ray-tracing-basics-methods/"/>
      <url>/2022/09/18/ji-suan-ji-tu-xing-xue/games/games101-13-01-ray-tracing-basics-methods/</url>
      
        <content type="html"><![CDATA[<p>å…‰çº¿è¿½è¸ªå’Œå…‰çŠåŒ–æ˜¯ä¸¤ä¸ªä¸åŒçš„æˆåƒæ–¹æ³•ã€‚</p><h1 id="ä¸ºä»€ä¹ˆç”¨Ray-Tracing"><a href="#ä¸ºä»€ä¹ˆç”¨Ray-Tracing" class="headerlink" title="ä¸ºä»€ä¹ˆç”¨Ray Tracing"></a>ä¸ºä»€ä¹ˆç”¨Ray Tracing</h1><ul><li>åœ¨rasterizationä¸­ä¸€äº›äº‹æƒ…ä¸èƒ½å¾ˆå¥½çš„å¤„ç†ï¼š<ol><li>ä¸èƒ½å¾ˆå¥½åœ°å¤„ç†global effect<ul><li>å¦‚ä¸Šä¸€èŠ‚ä¸­æåˆ°çš„shadow mapping, åªèƒ½å®ç°hard shadow;</li><li>glossy reflection å…‰æ»‘çš„åå°„ï¼›</li><li>indirect illumination é—´æ¥å…‰ç…§</li></ul> ç‰¹åˆ«æ˜¯ï¼Œå½“å…‰ç»è¿‡å¤šæ¬¡åå°„æ‰èƒ½åˆ°è¾¾äººçœ¼çš„åœºæ™¯ä¸‹ï¼Œå…‰æ …åŒ–çš„æ•ˆæœéƒ½ä¸å¤ªå¥½ï¼› <img src="/images/games101/13/bad_rasterization.png" alt="å…‰çŠåŒ–åšä¸å¥½çš„äº‹æƒ…"></li><li>å…‰æ …åŒ–å¾ˆå¿«ï¼Œä½†æ˜¯è´¨é‡ç›¸å¯¹è¾ƒä½ï¼›</li></ol></li><li>Ray tracing å¾ˆå‡†ç¡®ï¼Œä½†æ˜¯éå¸¸æ…¢  å…‰æ …åŒ–å¯ä»¥realtimeï¼Œè€Œray tracingä¸€èˆ¬æ˜¯offlineã€‚  ä¸€èˆ¬ä¸‹ï¼Œåœ¨å®é™…åœºæ™¯ä¸­æ¸²æŸ“ä¸€å¸§éœ€è¦10k CPU core hours. </li></ul><h1 id="åŸºæœ¬Ray-Tracingç®—æ³•"><a href="#åŸºæœ¬Ray-Tracingç®—æ³•" class="headerlink" title="åŸºæœ¬Ray Tracingç®—æ³•"></a>åŸºæœ¬Ray Tracingç®—æ³•</h1><h2 id="Light-Rayså®šä¹‰"><a href="#Light-Rayså®šä¹‰" class="headerlink" title="Light Rayså®šä¹‰"></a>Light Rayså®šä¹‰</h2><p>åœ¨å›¾å½¢å­¦ä¸­ä¸€äº›å‡è®¾ï¼š</p><ul><li>å…‰çº¿ç›´çº¿ä¼ æ’­ï¼›</li><li>ä¸¤ä¸ªå…‰çº¿ç›¸é‡æ—¶ï¼Œä¸ä¼šå‘ç”Ÿç¢°æ’ï¼›</li><li>reciprocity: å…‰çº¿æ˜¯å¯é€†çš„, å®é™…æ˜¯ä»å…‰æºç»è¿‡å„ç§åå°„åˆ°çœ¼ç›ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ˜¯ä»çœ¼ç›å‘å‡ºå›æº¯åˆ°å…‰æºï¼›</li></ul><h2 id="é¦–å…ˆâ€”â€”Ray-Casting-å…‰çº¿æŠ•å°„"><a href="#é¦–å…ˆâ€”â€”Ray-Casting-å…‰çº¿æŠ•å°„" class="headerlink" title="é¦–å…ˆâ€”â€”Ray Casting å…‰çº¿æŠ•å°„"></a>é¦–å…ˆâ€”â€”Ray Casting å…‰çº¿æŠ•å°„</h2><p>å…‰çº¿æŠ•å°„ä»çœ¼ç›å¼€å§‹ï¼Œæœ›å‘ç‰©ä½“ï¼Œå‡è®¾åœ¨çœ¼ç›é¢å‰å­˜åœ¨ä¸€ä¸ªå±å¹•ï¼Œé‡Œè¾¹è¢«åˆ†ä¸ºå„ç§åƒç´ ç‚¹ã€‚</p><ol><li>å°†çœ¼ç›å’Œç‰©ä½“è¿æ¥èµ·æ¥çš„å…‰çº¿ä¸å±å¹•ç›¸äº¤çš„åœ°æ–¹å½¢æˆä¸€ä¸ªç‚¹ï¼Œå¤šä¸ªç‚¹å½¢æˆä¸€ä¸ªimage;</li><li>å¹¶å°†æŠ•å°„åˆ°ç‰©ä½“ä¸Šçš„å…‰çº¿å›æº¯åˆ°å…‰æºï¼Œä»¥ç¡®å®šå…‰æºèƒ½çœ‹è§ç‰©ä½“ä¸Šçš„è¯¥ç‚¹ï¼Œä»è€ŒéªŒè¯æœ‰æ— æŠ•å½±ï¼›</li></ol><blockquote><p>ğŸ’¡ åœ¨å…‰çº¿è¿½è¸ªä¸­ï¼Œä½¿ç”¨çš„æ˜¯<a href="https://en.wikipedia.org/wiki/Pinhole_camera_model">Pinhole camera model</a>ï¼Œå³çœ¼ç›è§†ä¸ºç‚¹å…‰æºã€‚</p></blockquote><h3 id="ç¬¬ä¸€æ­¥ï¼šgenerate-eye-rays"><a href="#ç¬¬ä¸€æ­¥ï¼šgenerate-eye-rays" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šgenerate eye rays"></a>ç¬¬ä¸€æ­¥ï¼šgenerate eye rays</h3><p>ä»çœ¼ç›å¼€å§‹ï¼Œæœ›å‘ç‰©ä½“ï¼Œå¾—åˆ°<strong>æœ€è¿‘</strong>çš„ç‰©ä½“ä¸Šçš„ç‚¹ã€‚ä¸€æ¡eye rayå¯ä»¥ä¸å¾ˆå¤šç‚¹ç›¸äº¤ï¼Œä½†æ˜¯è¿™ä¸€æ­¥åªå–æœ€è¿‘çš„ç‚¹ï¼Œç›¸å½“äºåšäº†<strong>æ·±åº¦æµ‹è¯•</strong>ã€‚</p><p><img src="/images/games101/13/generate_ray.png" alt="ç”Ÿæˆå…‰çº¿"></p><h3 id="ç¬¬äºŒæ­¥ï¼šShading-pixels"><a href="#ç¬¬äºŒæ­¥ï¼šShading-pixels" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šShading pixels"></a>ç¬¬äºŒæ­¥ï¼šShading pixels</h3><p>å°†è·å¾—çš„è·ç¦»å±å¹•æœ€è¿‘çš„ç‚¹ä¸å…‰æºç›¸è¿ï¼Œç¡®å®šè¯¥ç‚¹æ˜¯å¦å¯è§ã€‚ç„¶åå¯¹äºè¯¥æœ€è¿‘çš„ç‚¹è€Œè¨€ï¼Œå…¶å¾—åˆ°äº†ä¸¤æ¡çº¿ï¼Œä»è€Œå¯ä»¥ç¡®å®šæ³•çº¿ï¼Œä»¥ä¾¿åˆ©ç”¨ç€è‰²æ¨¡å‹(Blinn Phong Modelç­‰)å®Œæˆé¢œè‰²çš„è®¡ç®—ï¼Œç„¶åå†™ä¼šåˆ°å±å¹•å¯¹åº”çš„åƒç´ ä¸Šã€‚</p><p><img src="/images/games101/13/basic_rt.png" alt="Shading pixels"></p><p>ä¸Šè¿°ç®€å•çš„å…‰çº¿è¿½è¸ªï¼š</p><ul><li>åŸºæœ¬å¯ä»¥è¾¾åˆ°å…‰æ …åŒ–ä¸€æ ·çš„æ•ˆæœï¼›</li><li>ä½†æ˜¯å…‰çº¿åªèƒ½bounceä¸€æ¬¡ï¼›</li></ul><h1 id="Recursive-Whitted-Style-Ray-Tracing"><a href="#Recursive-Whitted-Style-Ray-Tracing" class="headerlink" title="Recursive(Whitted-Style) Ray Tracing"></a>Recursive(Whitted-Style) Ray Tracing</h1><p>ä¸ºäº†è§£å†³ä¸Šè¿°æ¨¡å‹ä¸­å…‰çº¿åªèƒ½å¼¹å°„ä¸€æ¬¡çš„é—®é¢˜ã€‚</p><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>å½“eye rayå°„å‡ºæ¥åï¼Œç…§åˆ°ä¸€ä¸ªç»ç’ƒçƒä¸Šï¼Œä¼šå‡ºç°åå°„å’ŒæŠ˜å°„ï¼Œåœ¨ä¸€ä¸ªç‚¹ä¸Šå¯ä»¥æ— é™åœ°bounceã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè®¡ç®—ç€è‰²å€¼çš„æ–¹å¼ä¸ä¸Šè¿°æ¨¡å‹ä¸åŒã€‚åœ¨ä¸Šè¾¹åªä¼šè®¡ç®—ä¸€ä¸ªæœ€è¿‘ç‚¹ä¸å…‰æºç›¸äº¤åå¾—åˆ°çš„ç€è‰²å€¼ï¼Œç°åœ¨éœ€è¦è®¡ç®—æ‰€æœ‰çš„ç‚¹ä¸å…‰æºç›¸è¿åçš„ç€è‰²å€¼ï¼Œå› æ­¤whitted-styleä¸‹ï¼Œéœ€è¦å°†æ¯ä¸ªå¼¹å°„ç‚¹è®¡ç®—å¾—åˆ°çš„ç€è‰²åªåŠ åˆ°ä¸€èµ·å†™åˆ°å¯¹åº”çš„åƒç´ ä¸Šï¼ˆé™¤äº†é˜´å½±ä¸‹çš„ç‚¹ï¼‰ã€‚</p><p>å¯¹æ¯ä¸€ä¸ªå¼¹å°„ç‚¹éƒ½éœ€è¦é¦–å…ˆç¡®å®šæ˜¯å¦èƒ½è¢«å…‰æºçœ‹è§ï¼Œæ¥ç¡®å®šæ˜¯å¦åŒ…å«å…¶è´¡çŒ®çš„ç€è‰²å€¼ã€‚</p><p><img src="/images/games101/13/ws_rt.png" alt="Recursive(Whitted-Style) Ray Tracing"></p><p>å‡ ä¸ªå®šä¹‰ï¼š</p><ul><li>primary ray: ä¸ç¬¬1ä¸ªå¼¹å°„ç‚¹å¯¹åº”çš„ray</li><li>secondary ray: é™¤äº†ç¬¬1ä¸ªå¼¹å°„ç‚¹å¯¹åº”çš„å…¶ä»–ray</li><li>shadow ray: ä¸å…‰æºè¿æ¥çš„ray;</li></ul><h2 id="Ray-Surface-Intersection"><a href="#Ray-Surface-Intersection" class="headerlink" title="Ray-Surface Intersection"></a><strong>Ray-Surface Intersection</strong></h2><h3 id="Ray-equation"><a href="#Ray-equation" class="headerlink" title="Ray equation"></a>Ray equation</h3><p>å…‰çº¿åœ¨æ•°å­¦ä¸Šçš„å®šä¹‰å¦‚ä¸‹ï¼Œ</p><p><strong>Ray is defined by its origin and a direction vector.</strong></p><ul><li>å…‰çº¿èµ·ç‚¹ $\mathbf{o}$ï¼›</li><li>æ²¿ç€æ–¹å‘çš„å•ä½å‘é‡ï¼›</li></ul><p>$$<br>\mathbf{r}(t) = \mathbf{o} + t\mathbf{d}; \quad 0 \le t \le \infty<br>$$</p><ul><li>å…¶ä¸­ï¼Œ$t$ä¸ºæ—¶é—´ï¼›</li></ul><h3 id="Ray-Intersection-With-Sphere"><a href="#Ray-Intersection-With-Sphere" class="headerlink" title="Ray Intersection With Sphere"></a><strong>Ray Intersection With Sphere</strong></h3><p>å¯¹äºçƒçš„è¡¨è¾¾ï¼š</p><ul><li>å®šä¹‰çƒå¿ƒ $\mathbf{c}$;</li><li>çƒä¸Šä»»æ„ä¸€ç‚¹ $\mathbf{p}$ï¼›</li></ul><p>åˆ™å¯¹äºçƒé¢ä¸Šçš„ä»»æ„ä¸€ç‚¹è¡¨ç¤ºå¦‚ä¸‹ï¼Œ</p><p>$$<br>(\mathbf{p} - \mathbf{c})^2 - R^2 = 0<br>$$</p><p>å½“æ±‚è§£å…‰çº¿ä¸çƒä½“çš„äº¤ç‚¹æ—¶ï¼Œéœ€è¦æ»¡è¶³ï¼š</p><p>$$<br>(\mathbf{o} + t\mathbf{d} - \mathbf{c})^2 - R^2 = 0<br>$$</p><p>æ±‚è§£tå³å¯ï¼ŒäºŒæ¬¡å‡½æ•°æ±‚è§£ï¼Œè¦ä¿è¯tä¸ºæ­£å®æ•°ã€‚æ ¹æ®è§£çš„æ•°é‡çš„ä¸åŒå¯ä»¥æœ‰3ç§æƒ…å†µï¼š</p><ul><li>ç›¸ç¦»ï¼šæ— è§£ï¼›</li><li>ç›¸åˆ‡ï¼šä¸€ä¸ªè§£</li><li>ç›¸äº¤ï¼šä¸¤ä¸ªè§£</li></ul><h3 id="Ray-Intersection-With-Implicit-Surface"><a href="#Ray-Intersection-With-Implicit-Surface" class="headerlink" title="Ray Intersection With Implicit Surface"></a><strong>Ray Intersection With Implicit Surface</strong></h3><p>å°†æƒ…å†µæ¨å¹¿åˆ°ä»»æ„çš„éšå¼å¹³é¢ï¼Œå¯¹äºä»»æ„å¹³é¢ï¼Œæ ¹æ®ä¹‹å‰çš„å‡ ä½•éƒ¨åˆ†çš„çŸ¥è¯†ï¼Œè¡¨ç¤ºå¦‚ä¸‹ï¼š</p><p>$$<br>f(\mathbf{p}) = 0<br>$$</p><p>å› ä¸ºä¸ºäº†æ±‚è§£äº¤ç‚¹ï¼Œå¾—åˆ°å¦‚ä¸‹è¡¨ç¤ºï¼š</p><p>$$<br>f(\mathbf{o} + t\mathbf{d}) = 0<br>$$</p><p>ä¸‹ä¸€æ­¥å°±æ˜¯åˆ©ç”¨å„ç§æ•°å€¼è®¡ç®—çš„æ–¹æ³•å’Œè½¯ä»¶å®Œæˆè®¡ç®—å³å¯ã€‚</p><h3 id="Ray-Intersection-With-Triangle-Meshï¼ˆæ˜¾å¼è¡¨ç¤ºï¼‰"><a href="#Ray-Intersection-With-Triangle-Meshï¼ˆæ˜¾å¼è¡¨ç¤ºï¼‰" class="headerlink" title="Ray Intersection With Triangle Meshï¼ˆæ˜¾å¼è¡¨ç¤ºï¼‰"></a><strong>Ray Intersection With Triangle Meshï¼ˆæ˜¾å¼è¡¨ç¤ºï¼‰</strong></h3><p><strong><code>ç®€å•çš„æ–¹æ³•</code></strong></p><ul><li>å°†å…‰çº¿ä¸æ¯ä¸ªä¸‰è§’å½¢åˆ†åˆ«è®¡ç®—ï¼Œå¸¦æ¥çš„é—®é¢˜å¿…ç„¶å¾ˆæ…¢ã€‚</li><li>è¿™é‡Œæˆ‘ä»¬ï¼Œæˆ‘ä»¬åªè€ƒè™‘å…‰çº¿å’Œä¸‰è§’å½¢æœ‰0æˆ–è€…1ä¸ªäº¤ç‚¹çš„æƒ…å†µï¼Œä¸æ¶‰åŠå¹³è¡Œçš„æƒ…å†µã€‚</li></ul><p>å¯¹äºä¸€ä¸ªmeshï¼Œæˆ‘ä»¬é¦–å…ˆè€ƒè™‘é’ˆå¯¹ä¸€ä¸ªä¸‰è§’å½¢çš„äº¤ç‚¹æ±‚è§£ï¼Œç„¶åè¿­ä»£å³å¯ã€‚</p><p>å°†å…‰çº¿ä¸ä¸‰è§’å½¢æ±‚äº¤åˆ†è§£ä¸º2éƒ¨åˆ†ï¼š</p><ol><li>ray-plane intersection;</li><li>test if hit point is inside triangle;</li></ol><p>æ ¹æ®é«˜æ•°ä¸­å¹³é¢æ–¹ç¨‹ï¼Œå¯ä»¥é€šè¿‡å¹³é¢çš„æ³•çº¿å’Œé¢ä¸Šçš„ä¸€ç‚¹æ¥ç¡®å®šå¹³é¢æœ¬èº«ã€‚</p><blockquote><p>Plane is defined by normal vector and a point on plane.</p></blockquote><p>å¯¹äºå¹³é¢ä¸Šçš„ä»»æ„ä¸€ç‚¹ $\mathbf{p}$ï¼Œç»™å®šæ³•çº¿ \mathbf{N}å’Œç»™å®šä¸€ç‚¹ $\mathbf{p}^{\prime}$ï¼Œå¾—åˆ°ä»¥ä¸‹è¡¨ç¤ºï¼š</p><p>$$<br>(\mathbf{p} - \mathbf{p}^{\prime}) \cdot \mathbf{N} = 0<br>$$</p><p>å¾—åˆ°è¡¨ç¤ºï¼Œå°±å¯ä»¥æ±‚è§£äº¤ç‚¹äº†ï¼Œæ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p><p>$$<br>(\mathbf{p} - \mathbf{p}^{\prime}) \cdot \mathbf{N} = (\mathbf{o} + t\mathbf{d} - \mathbf{p}^{\prime})\cdot \mathbf{N} = 0<br>$$</p><p>å¾—åˆ°ï¼š</p><p>$$<br>t = \frac{(\mathbf{p}^{\prime} - \mathbf{o}) \cdot \mathbf{N} }{\mathbf{d} \cdot \mathbf{N}}<br>$$</p><p>æœ€ååˆ«å¿˜äº†ä¸€æ­¥ï¼Œåˆ¤æ–­tå¯¹åº”çš„äº¤ç‚¹æ˜¯ä¸æ˜¯åœ¨ä¸‰è§’å½¢å†…éƒ¨ã€‚</p><p><strong><code>MoÌˆller Trumbore Algorithm</code></strong><br>ä¸Šé¢çš„æ–¹æ³•æ‰€æœ‰ç®€å•ï¼Œå®¹æ˜“ç†è§£ï¼Œä½†æ˜¯è¿‡äºç¹çã€‚</p><p>æœ‰ä¸€ç§å¿«é€Ÿçš„æ–¹æ³•ï¼Œå¯ä»¥ä¸€ä¸‹å¾—åˆ°ç­”æ¡ˆã€‚</p><blockquote><p>ğŸ“Œ ä¸€ç§æ€è€ƒæ–¹å¼ï¼šä¸‰è§’å½¢å†…éƒ¨ä¸€ç‚¹å¯ä»¥ä½¿ç”¨é‡å¿ƒåæ ‡è¡¨ç¤ºï¼Œå› æ­¤åˆ¤å®šå…‰çº¿ä¸ä¸‰è§’å½¢ç›¸äº¤ï¼Œå°±å¯ä»¥å°†å…¶è¡¨ç¤ºä¸ºé‡å¿ƒåæ ‡çš„å½¢å¼ã€‚</p></blockquote><p>$$<br>\mathbf{o} + t\mathbf{d} = (1- b_1-b_2) \mathbf{p}_0 + b_1\mathbf{p}_1 + b_2\mathbf{p}_2<br>$$</p><p>è¿™ä¸ªæ–¹ç¨‹æœ¬è´¨ä¸Šæ˜¯æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ï¼Œä½¿ç”¨<a href="https://en.wikipedia.org/wiki/Cramer%27s_rule">Cramerâ€™s rule</a>å®Œæˆæ±‚è§£ï¼ˆè¿˜è®°å¾—è¿™æ˜¯å½“åˆå­¦çº¿æ€§ä»£æ•°æ—¶ç¬¬ä¸€ä¸ªä¸»è¦å†…å®¹ï¼‰ã€‚</p><p>å®Œæˆæ±‚è§£åéœ€è¦éªŒè¯ï¼š</p><ul><li>tä¸ºæ­£å®æ•°</li><li>$b_1, b_2, 1-b_1 - b_2$ ä¸ºæ­£å®æ•°ï¼Œä¿è¯åœ¨ä¸‰è§’å½¢å†…éƒ¨ï¼›</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ray Tracing </tag>
            
            <tag> Recursive Ray Tracing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ—¥æœ¬å‡ºäº†é—®é¢˜ï¼šã€Šä¸œäº¬è´«å›°å¥³å­ã€‹å‘ˆç°çš„ç¤¾ä¼šç°è±¡</title>
      <link href="/2022/07/15/du-shu-gan-wu/ri-ben-chu-liao-wen-ti-dong-jing-pin-kun-nu-zi-cheng-xian-de-she-hui-xian-xiang/"/>
      <url>/2022/07/15/du-shu-gan-wu/ri-ben-chu-liao-wen-ti-dong-jing-pin-kun-nu-zi-cheng-xian-de-she-hui-xian-xiang/</url>
      
        <content type="html"><![CDATA[<p>è¿™æœ¬ä¹¦æˆ‘æ˜¯å»å¹´å¼€å§‹è¯»çš„ï¼Œè¯»è¿™æœ¬ä¹¦çš„å¥‘æœºæ˜¯å› ä¸ºä¹‹å‰çœ‹è¿‡ä¸€ä¸ªæˆ‘ä¸ªäººè§‰å¾—å¾ˆæœ‰æ„æ€çš„æ—¥å‰§â€”â€”ã€Šæš—é‡‘ä¸‘å²›å›ã€‹ã€‚ä½†æ˜¯å½±è§†æ€»æœ‰ä¸€äº›è™šæ„çš„æˆåˆ†ï¼Œæ‰€ä»¥æƒ³äº†è§£ä¸€äº›çœŸå®çš„äº‹ä»¶ï¼Œæ°å¥½å‘ç°è¿™æœ¬ä¹¦ã€‚å»å¹´åˆšå¼€å§‹è¯»çš„æ—¶å€™ï¼Œè§‰å¾—æœ‰ç‚¹å‹æŠ‘ï¼Œä¸€åº¦è¯»ä¸ä¸‹å»ï¼Œæ°å¥½åˆèµ¶ä¸Šæ¯•ä¸šçš„äº‹æƒ…ï¼Œè€½æäº†ï¼Œç°åœ¨æ¯•ä¸šäº†åˆé‡æ–°æ‹¿èµ·æ¥ç»§ç»­è¯»ã€‚</p><p><img src="/images/%E8%AF%BB%E4%B9%A6%E6%84%9F%E6%82%9F/%E4%B8%9C%E4%BA%AC%E8%B4%AB%E5%9B%B0%E5%A5%B3%E5%AD%90/book.jpg" alt="ä¸œäº¬è´«å›°å¥³å­"></p><p>æ€»çš„æ¥è¯´ï¼Œè¿™æœ¬ä¹¦æ²¡æœ‰æ˜æ˜¾çš„å™äº‹ç»“æ„ï¼ŒåŸºæœ¬æ˜¯æŒ‰ç…§ä½œè€…é‡‡è®¿çš„çœŸå®äº‹ä»¶æ•´ç†è€Œæˆã€‚ä½œä¸ºä¸€æœ¬çºªå®æ–‡å­¦ï¼Œä¹¦ä¸­çš„æ–‡å­—å¾ˆå¹³å’Œï¼Œæ²¡æœ‰è¿‡å¤šçš„åä¸½çš„è¾è—»ï¼Œä½†æ˜¯ä»è¿™äº›æ–‡å­—ä¸­ï¼Œä½ èƒ½ä½“ä¼šåˆ°é˜µé˜µå¯’æ„ï¼Œå°¤å…¶è¿™äº›äº‹æƒ…éƒ½æ˜¯å‘ç”Ÿåœ¨å…¬è®¤ä¸ºå‘è¾¾å›½å®¶çš„æ—¥æœ¬ã€‚</p><p>å¦‚æœä½ æƒ³äº†è§£å½“ä»Šå’Œæœªæ¥çš„ä¸­å›½ï¼Œè¿™æœ¬ä¹¦ä½ åº”è¯¥è¯»ä¸€ä¸‹ï¼Œæˆ–ä¸ºè§£ç­”å†…å¿ƒçš„ç–‘è™‘ï¼Œæˆ–è€…ä¸ºè‰°éš¾çš„æœªæ¥åšå‡†å¤‡ã€‚å¦‚æœä½ èƒ½å¤Ÿæ¥å—æ—¥å‰§ï¼Œæˆ‘åŒæ—¶ä¹Ÿæ¨èä¸€ä¸‹ã€Šæš—é‡‘ä¸‘å²›å›ã€‹è¿™éƒ¨æ—¥å‰§ï¼Œä¸¤è€…ä¹‹é—´æœ‰å¾ˆå¤šçš„å…±åŒç‚¹ã€‚</p><p>æœ¬ä¹¦ä¸­å…±æ¶‰åŠäº†19ä¸ªå…·ä½“çš„å¥³å­è´«å›°çš„æ¡ˆä¾‹ï¼Œç”±3å¹´çš„é‡‡è®¿è®°å½•è€Œæ¥ã€‚ä¹¦ä¸­ä»¥å¯¹è¯çš„å½¢å¼å™è¿°äº†æ¯ä¸ªäººçš„æ‚²æƒ¨é­é‡ï¼Œä»¥åŠé€ æˆè¿™äº›é—®é¢˜çš„å¯èƒ½åŸå› ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºæ”¿åºœçš„åˆ¶åº¦ã€æ•´ä¸ªç¤¾ä¼šçš„æ°›å›´ã€å®¶åº­çš„ç¯å¢ƒã€ç”šè‡³å†å²çš„æ–‡åŒ–æƒ¯ä¾‹ç­‰ç­‰ã€‚ä»é˜…è¯»ä½“éªŒä¸Šæ¥è¯´ï¼Œè¯»è€…å¯ä»¥ä»ä»»æ„æ„Ÿå…´è¶£çš„ç« èŠ‚é˜…è¯»ï¼Œå› ä¸ºæ¯ä¸ªäººçš„ç»å†éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚</p><h1 id="æ—¥æœ¬å‡ºé—®é¢˜äº†"><a href="#æ—¥æœ¬å‡ºé—®é¢˜äº†" class="headerlink" title="æ—¥æœ¬å‡ºé—®é¢˜äº†"></a>æ—¥æœ¬å‡ºé—®é¢˜äº†</h1><p>ä½œè€…ä½œä¸ºä¸€ä¸ªè‡ªç”±æ’°ç¨¿äººï¼Œä¸€ç›´åœ¨å¯¹æˆäººå½±ç‰‡å¥³ä¼˜å’Œé£ä¿—ä¸šè¿›è¡Œé‡‡è®¿ï¼Œå› æ­¤æœ¬æ–‡çš„è§†è§’å¯èƒ½å¯¹å¤–å›½çš„è¯»è€…æœ‰ç‚¹å¥‡ç‰¹ã€‚æ‰€æœ‰çš„ç¼˜èµ·åœ¨äºä½œè€…åœ¨é‡‡è®¿ä¸­é€æ¸æ„è¯†åˆ°ï¼š</p><blockquote><p>è™½ç„¶æ²¡æœ‰æ„è¯†åˆ°è¿™æ˜¯ä¸€é¡¹å®åœ°è°ƒç ”ï¼Œä½†æˆ‘åœ¨2006å¹´åˆ°2007å¹´é—´ï¼Œæ¸æ¸äº§ç”Ÿäº†â€œæ—¥æœ¬ç¤¾ä¼šæ˜¯ä¸æ˜¯å‡ºé—®é¢˜äº†â€è¿™ç§æ¨¡ç³Šçš„ä¸å®‰æ„Ÿã€‚</p></blockquote><p>æˆ‘ä»¬è™½ç„¶åœ¨æ–°é—»å’ŒæŠ¥çº¸ä¸Šç»å¸¸çœ‹åˆ°â€œå¤±å»çš„30å¹´â€ç­‰è¯´æ³•ï¼Œä½†æ˜¯ä½œè€…ä»è‡ªå·±çš„ç»å†æå‡ºäº†â€œæ—¥æœ¬å‡ºé—®é¢˜â€è¿™ä¸ªè§‚ç‚¹ï¼Œå…·ä½“åŒ…æ‹¬ä¸¤ä»¶äº‹æƒ…ï¼š</p><ul><li>ä½œè€…è‡ªå·±ç»å†çš„é£ä¿—æŠ¥é“ï¼šæ¶Œå…¥è¿™ä¸ªè¡Œä¸šçš„å¥³å­æ—¥ç›Šå¢å¤šï¼Œä½†æ˜¯æ”¶ç›Šå´å¤§å¹…ä¸‹é™ï¼›</li><li>ä½œè€…è‡ªå·±ç»è¥äº†çœ‹æŠ¤æœºæ„ï¼Œå¯ä»¥è§†ä¸ºå›½å†…çš„â€œå…»è€é™¢â€ï¼šå‘ç°è¿™ç§ç¦åˆ©æœºæ„ä¸­å´åŒ…å«è¿™æ›´ä¸ºé»‘æš—çš„ä¸€é¢ï¼›</li></ul><p>å› æ­¤ä¹¦ä¸­åœ¨æ¢è®¨è´«å›°é—®é¢˜æ—¶ï¼Œå¯¹è¿™ä¸¤ä¸ªæ–¹é¢å¤šç§ä¾§é‡ã€‚è€Œå¯¹äºè´«å›°çš„åŸå› ï¼Œä½œè€…é¦–å…ˆæå‡ºäº†ä¸€ä¸ªè§‚ç‚¹ï¼š</p><blockquote><p>æ—¥æœ¬ç¤¾ä¼šé’ˆå¯¹è´«å›°çš„å½“äº‹äººæœ‰ä¸€ç§å¾ˆå¼ºçš„è´£ä»»è‡ªè´Ÿçš„è®¤è¯†ã€‚</p></blockquote><p>å¯¹äºè¿™ç§è§‚ç‚¹ï¼Œå›½å†…ç›¸æ¯”ä¹Ÿæœ‰åŒæ ·è®¤çŸ¥çš„äººç¾¤ï¼Œä»–ä»¬ç©·æ˜¯å› ä¸ºä»–ä»¬ä¸åŠªåŠ›ï¼Œè¿™æ ·çš„è®¤è¯†ä¸æ•™è‚²ç¨‹åº¦æ— å…³ï¼Œå¯èƒ½åªæ˜¯ä»–ä»¬é è‡ªå·±çš„åŠªåŠ›å¹¸è¿åœ°æ‘†è„±äº†è´«å›°ã€‚æˆ‘æƒ³ï¼Œåœ¨æœ¬ä¹¦ä¸­ï¼Œä½œè€…å¹¶ä¸å¦å®šä¸ªäººçš„åŸå› å¯¼è‡´è´«å›°ï¼Œä½†æ˜¯æ›´å¤šåœ°æ˜¯å¼ºè°ƒè¿™ä¸æ˜¯å”¯ä¸€çš„åŸå› ï¼Œç”šè‡³ä¸æ˜¯æœ€é‡è¦çš„åŸå› ã€‚å› ä¸ºâ€œæ—¥æœ¬å‡ºé—®é¢˜äº†â€æ‰æ˜¯å¯¼è‡´è¿™ä¸€åˆ‡çš„åŸå› ã€‚</p><h1 id="æ—¥æœ¬çš„è´«å›°å¥³å­ä»¬"><a href="#æ—¥æœ¬çš„è´«å›°å¥³å­ä»¬" class="headerlink" title="æ—¥æœ¬çš„è´«å›°å¥³å­ä»¬"></a>æ—¥æœ¬çš„è´«å›°å¥³å­ä»¬</h1><blockquote><p>è´«å›°ï¼Œæ˜¯åœ¨å‡ºèº«å’Œæˆé•¿ç»å†ã€å®¶åº­ç¯å¢ƒã€å¥åº·çŠ¶æ€ã€å°±ä¸šã€æ”¿ç­–ã€åˆ¶åº¦ã€ä¸ªäººå’Œé…å¶çš„æ€§æ ¼åŠäººæ ¼ç­‰å¤šé‡å› ç´ çš„å½±å“ä¸‹å‘ç”Ÿçš„ã€‚</p></blockquote><p>ä½œè€…åœ¨ä¹¦ä¸­ç€é‡æè¿°äº†ä¸¤ç±»ç¾¤ä½“ä½œä¸ºè´«å›°å¥³å­çš„ä»£è¡¨ï¼š</p><ul><li>ä¸€ä¸ªæ˜¯å¥³å¤§å­¦ç”Ÿï¼›</li><li>ä¸€ä¸ªæ˜¯ç¦»å¼‚çš„å•èº«æ¯äº²ï¼›</li></ul><p>æˆ‘ä»¬ç›´è§‰æ„Ÿå—ï¼Œè¿™ä¸¤ç±»äººç¡®å®æ˜¯ä¼šè´«å›°çš„äººç¾¤ï¼Œä½†æ˜¯ä¹¦ä¸­é™ˆè¿°çš„äº‹å®æ˜¾ç„¶è¶…å‡ºäº†æˆ‘çš„æƒ³è±¡ã€‚</p><h2 id="å¥³å¤§å­¦ç”Ÿä»¬æ€ä¹ˆäº†"><a href="#å¥³å¤§å­¦ç”Ÿä»¬æ€ä¹ˆäº†" class="headerlink" title="å¥³å¤§å­¦ç”Ÿä»¬æ€ä¹ˆäº†"></a>å¥³å¤§å­¦ç”Ÿä»¬æ€ä¹ˆäº†</h2><blockquote><p>å¤§å­¦ç”Ÿï¼Œæ˜¯çœŸçš„æ²¡é’±ã€‚å¤§å­¦æ ¡å›­ï¼Œå°±æ˜¯è´«å›°çš„å·¢çªŸã€‚</p></blockquote><p>ä½œè€…å¦‚æ­¤çš„çœ‹æ³•æ˜¯ä¸­å›½å­¦ç”Ÿä»¬ä¸èƒ½ç†è§£çš„ï¼ˆèµ·ç æˆ‘å¼€å§‹ä¸èƒ½ç†è§£ï¼‰ã€‚ä¸­å›½çš„å¤§å­¦å¤šæ˜¯å…¬ç«‹å¤§å­¦ï¼Œè€Œä¸”æœ‰ä¸€ä¸ªè·Ÿå›½å¤–å¤§å­¦è¿¥å¼‚çš„ç‰¹ç‚¹â€”â€”å¤§å­¦è¶Šå¥½ï¼Œå­¦è´¹è¶Šä¾¿å®œã€‚å­¦æ ¡ä»å›½å®¶æ‹¿åˆ°çš„è´¢æ”¿è¡¥è´´è¶Šå¤šï¼Œå› æ­¤ä½ ä¸Šäº†ä¸€ä¸ªå¥½å¤§å­¦ï¼Œå¤šåŠä¸ç”¨ä¸ºå­¦è´¹å’Œç”Ÿæ´»è´¹å‘æ„ã€‚ä½†æ˜¯å›½å¤–çš„å¥½å¤§å­¦å¤šæ•°æ˜¯ç§ç«‹ï¼Œè€Œæ˜¯ä¸ºäº†ä¿æŒâ€œç‹¬ç«‹æ€§â€ï¼Œå¾ˆå°‘ä»å›½å®¶ç›´æ¥æ‹¿è¡¥è´´ï¼Œå› æ­¤è¿™éƒ¨åˆ†è´Ÿæ‹…å°±ç”±å­¦ç”Ÿæ‰¿æ‹…ï¼Œå› æ­¤å›½å¤–çš„å­¦ç”Ÿç›¸æ¯”äºå›½å†…å­¦ç”Ÿçš„ç»æµå‹åŠ›æ›´å¤§ï¼Œå°¤å…¶æ˜¯çˆ¶æ¯ä¸èƒ½æä¾›æ”¯æŒçš„å‰æä¸‹ã€‚</p><blockquote><p>å¤§å­¦ç”Ÿçš„è´«ç©·ä¹ƒè‡³è´«å›°çš„èƒŒåï¼Œæ˜¯çˆ¶æ¯ä¸€ä»£æ”¶å…¥çš„ä¸‹é™å’ŒåŸåˆ™ä¸Šåº”ç”±å—ç›Šè€…æ‰¿æ‹…çš„å­¦è´¹çš„æŒç»­ä¸Šæµ®ã€‚</p></blockquote><p>è€Œç»æµå‹åŠ›çš„åŠ é‡å¤šåŠä¸å›½å®¶çš„ç»æµå‡ºç°é—®é¢˜æœ‰å…³ï¼Œå¯¹æ­¤å¥³å¤§å­¦ç”Ÿä»¬çš„è§£å†³æ–¹æ³•æ²¡æœ‰å¤ªå¤šé€‰æ‹©ï¼š</p><ul><li>å¾é›†å¹²çˆ¹ï¼š</li><li>é¢†å–æ—¥æœ¬å­¦ç”Ÿæ”¯æ´æœºæ„åŠ©å­¦é‡‘ï¼š</li></ul><p>å¾é›†å¹²çˆ¹å°±æ˜¯æ‰€è°“çš„æ´äº¤ï¼Œè¿™ç§ç¾åŒ–çš„è¯´æ³•å¹¶ä¸èƒ½æ©ç›–å…¶ä¸­çš„è‰°è¾›ã€‚</p><blockquote><p>ç•™è¨€æ¿ä¸Šçš„å¹²çˆ¹å¾é›†ï¼Œå…¶å®å°±æ˜¯å–èº«å§ã€‚ç°åœ¨å’Œæˆ‘ä¿æŒè”ç»œçš„æœ‰ä¸¤ä¸ªäººã€‚éƒ½æ˜¯40å¤šå²ï¼Œè¯¦ç»†æƒ…å†µæˆ‘ä¸çŸ¥é“ã€‚æˆ‘ä¹Ÿä¸å–œæ¬¢è¿™äº›äººã€‚æˆ‘ä»¬åªæ˜¯å¶å°”ä¸€å—å„¿åƒé¥­ï¼Œä¸ŠåºŠï¼Œç„¶åæ‹¿é’±ã€‚ä¸è¿‡ï¼Œæˆ‘å®Œå…¨ä¸ä¹ æƒ¯è¿™æ ·â€¦â€¦å’Œç‰¹å®šçš„äººå¤šè§å‡ æ¬¡é¢å°±è§‰å¾—å®³æ€•ï¼Œè€Œä¸”æˆ‘æœ¬èº«ä¹Ÿä¸æƒ³è§ä»–ä»¬ã€‚</p></blockquote><p>ä½œè€…æåˆ°è¿™æ ·çš„ç›®çš„æ˜¯ç»´æŒåŸºæœ¬ç”Ÿæ´»ï¼Œå› ä¸ºä¹‹å‰åœ¨è¶…å¸‚æ‰“å·¥çš„è–ªæ°´å¹¶ä¸èƒ½æ»¡è¶³è¿™äº›å¥³å¤§å­¦ç”Ÿçš„ç”Ÿæ´»æ‰€éœ€ï¼Œè€Œå®¶åº­æ— æ³•æä¾›ä»»ä½•æ”¯æ’‘ï¼Œè¶…å¸‚æ—¶è–ª920æ—¥å…ƒï¼ˆ45RMBï¼‰,ä¸€å¤©æœ€å¤šå·¥ä½œ4å°æ—¶ï¼Œä¹Ÿå°±æ˜¯180RMBï¼Œè€Œä¸€å¹´çš„å­¦è´¹æ˜¯53.58ä¸‡æ—¥å…ƒï¼ˆ26000RMBï¼‰ã€‚æ€ä¹ˆç®—å°±æ— æ³•è¦†ç›–å­¦è´¹ï¼Œå› æ­¤å»é£ä¿—åº—æ‰“å·¥æ˜¯é€¼ä¸å¾—å·²çš„é€‰æ‹©ã€‚</p><blockquote><p>ç®€å•æ¥è¯´å°±æ˜¯ï¼Œä¸€ä¸ªä»åœ°æ–¹ä¸Šæ¥ï¼Œä¸”å¾—ä¸åˆ°çˆ¶æ¯èµ„åŠ©çš„å•èº«å¤§å­¦ç”Ÿï¼Œå¦‚æœä¸å»é™ªé…’æˆ–åšé£ä¿—ä¸šï¼Œå°±æ²¡æ³•ç»´ç³»æ±‚å­¦ç”Ÿæ´»ã€‚</p></blockquote><p>è™½ç„¶å›½å®¶å¯¹å­¦ç”Ÿæ±‚å­¦æä¾›äº†åŠ©å­¦é‡‘åˆ¶åº¦ï¼Œä½†æ˜¯è¿™ç§åˆ¶åº¦æœ‰ä¸€ç§èµ„æœ¬å®¶å‰¥å‰Šç©·äººçš„æ„Ÿè§‰ï¼Œåœ¨ä½œè€…çœ‹æ¥ã€‚</p><blockquote><p>åŠ©å­¦é‡‘åˆ¶åº¦çš„è®¾ç«‹ï¼Œè¡¨é¢ä¸Šæ˜¯ä¸ºäº†è®©è´«å›°å®¶åº­çš„å­©å­ä¹Ÿæœ‰æœºä¼šæ¥å—é«˜ç­‰æ•™è‚²ã€‚ç„¶è€Œï¼Œè®©èº«åæ²¡æœ‰é€€è·¯çš„è´«å›°å®¶åº­çš„å­©å­ä»¬èƒŒè´Ÿè¶³ä»¥è®©ä»–ä»¬ä¸ªäººç ´äº§çš„å€ºåŠ¡ï¼Œäº‹å®ä¸Šä¸ä»…ä¸èƒ½åˆ©ç”¨é«˜ç­‰æ•™è‚²æ¥é˜²æ­¢è´«å›°çš„è¿é”æ•ˆåº”ï¼Œæ›´ä¼šä½¿ä¸å°‘å­¦ç”Ÿè¿›ä¸€æ­¥é™·å…¥è´Ÿå€ºçš„æ·±æ¸Šã€‚</p></blockquote><p>ç”³è¯·åŠ©å­¦é‡‘åˆ¶åº¦æœ‰å‡ ä¸ªé—®é¢˜è¦è€ƒè™‘ï¼š</p><ul><li>ä¸€ä¸ªæ˜¯æŠ•å…¥çš„æˆæœ¬æ— æ³•è·å¾—å›æŠ¥ï¼›<blockquote><p>é å€Ÿæ¬¾å‡å­¦å°±ç­‰åŒäºä¸€ç§å•†ä¸šæŠ•èµ„ï¼Œå¦‚æœä¸èƒ½å¾—åˆ°å¤§äºæŠ•èµ„çš„å›æŠ¥ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ï¼Œè¿‡åº¦åœ°æŠ•èµ„å°±ä¼šå¯¼è‡´ç ´äº§ã€‚</p></blockquote>  æ—¥æœ¬ç»æµçš„ä¸æ™¯æ°”ï¼Œå¯¼è‡´å¤§å­¦ç”Ÿå¹¶ä¸èƒ½å¾ˆå®¹æ˜“çš„æ‰¾åˆ°å·¥ä½œã€‚</li><li>è¿›ä¸€æ­¥åŠ é‡è‡ªå·±çš„å€ºåŠ¡è´Ÿæ‹…  å› ä¸ºåŠ©å­¦é‡‘ä¸­å­˜åœ¨æœ€é«˜3%çš„åˆ©æ¯ï¼Œæœ‰äº›äººè¯»å®Œå¤§å­¦ç´¯è®¡éœ€è¦è¿˜æ¬¾1000ä¸‡æ—¥å…ƒï¼ˆ48.65ä¸‡RMBï¼‰ï¼Œè¿™å¯¹äºåˆšè¿›å…¥ç¤¾ä¼šçš„äººæ— ç–‘æ˜¯ä¸€ç§æå¤§çš„è´Ÿæ‹…ã€‚</li></ul><p>åŠ©å­¦é‡‘çš„è´Ÿæ‹…æ— ç–‘åˆå°†è¿™äº›å¥³å¤§å­¦ç”Ÿæ¨å‘é£ä¿—è¡Œä¸šï¼Œä¸¤è€…å½¢æˆä¸€ç§è´Ÿå‘çš„åé¦ˆã€‚</p><h2 id="å•èº«æ¯äº²çš„æ— å¥ˆ"><a href="#å•èº«æ¯äº²çš„æ— å¥ˆ" class="headerlink" title="å•èº«æ¯äº²çš„æ— å¥ˆ"></a>å•èº«æ¯äº²çš„æ— å¥ˆ</h2><p>ç¦»å¼‚ã€å•èº«çš„æ¯äº²åœ¨ä»»ä½•å›½å®¶éƒ½æ˜¯æ˜¾è€Œæ˜“è§çš„å¼±åŠ¿ç¾¤ä½“ï¼Œä½†åƒæ—¥æœ¬ç¤¾ä¼šè¿™æ ·ä¸€æ—¦ç¦»å©šå°±ç«‹å³å˜ä¸ºè´«å›°çš„ç°è±¡ä»ç„¶è®©äººéœ‡æƒŠã€‚</p><p>ä¹¦ä¸­é€šè¿‡æ¡ˆä¾‹åˆ—ä¸¾äº†å•èº«æ¯äº²é¢ä¸´çš„æŒ‘æˆ˜ï¼š</p><ul><li>å‰å¤«ä¸ä»˜æŠšå…»è´¹ï¼šå¯¹äºè¿™ç§è¡Œä¸ºåªèƒ½ä»é“å¾·ä¸Šè°´è´£ï¼Œä½†æ˜¯æ³•å¾‹ä¸Šå´æ— æ³•è¿½ç©¶ï¼Œæˆ‘ä¸æ˜ç™½æ—¥æœ¬çš„æ³•å¾‹ä¸ºä½•æ— æ³•å¤„ç†è¿™ç§æƒ…å†µï¼›</li><li>éæ­£å¼é›‡ä½£ï¼Œä¹Ÿå°±æ˜¯â€œä¸´æ—¶å·¥â€ï¼šè¿™æ˜¯å•èº«æ¯äº²èƒ½æ‰¾åˆ°æœ€å¤šçš„å·¥ä½œæ–¹å¼ï¼Œæ²¡æœ‰ä»»ä½•ä¿éšœã€å¯ä»¥éšæ—¶è¢«è§£é›‡ã€‚åœ¨æˆ‘ä»¬çš„å°è±¡é‡Œï¼Œæ—¥æœ¬éƒ½æ˜¯â€œå¹´åŠŸåºåˆ—åˆ¶â€ï¼Œè¿™ç§æ–‡åŒ–åœ¨å½“ä»Šä¹Ÿæ˜¯åšæŒä¸ä¸‹å»çš„ã€‚<blockquote><p>éæ­£å¼é›‡ç”¨æ˜¯è‡ª1999å¹´ã€ŠåŠ³åŠ¨è€…æ´¾é£æ³•ã€‹å®æ–½å¹¶åœ¨2004å¹´è¯¥æ³•ä¿®è®¢ä¹‹åå¼€å§‹æ¿€å¢è¿›è€Œæ™®åŠçš„ä¸€ç§é›‡ç”¨å½¢æ€ã€‚</p></blockquote>  è€Œéæ­£å¼é›‡ä½£åŠ å‰§äº†é˜¶çº§åˆ†åŒ–ï¼Œè¿™ä¸€ç‚¹å¯¹äºå¥³æ€§è¿‡äºæ®‹é…·ã€‚<blockquote><p>ä¼ä¸šä¸€èˆ¬å¾ˆå°‘ä¼šç‰¹æ„å°†éæ­£å¼è˜ç”¨çš„åŠ³åŠ¨è€…è½¬æˆæ­£å¼è˜ç”¨ï¼Œæ‰€ä»¥ç¤¾ä¼šåº•å±‚çš„äººå‡ ä¹æ²¡æ³•çˆ¬ä¸Šæ¥ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œè´«å›°çš„å›ºåŒ–ä½¿å¾—â€œè´«å¯Œå·®è·â€å‘å±•ä¸ºâ€œä¸åŒé˜¶çº§â€ã€‚</p></blockquote>  å› ä¸ºä¸ç”¨è´Ÿä»»ä½•è´£ä»»ï¼Œä¾¿å‚¬åŒ–äº†æƒåŠ›æ¬ºå‹å’Œæ€§éªšæ‰°ç­‰é’ˆå¯¹å¥³æ€§çš„æ¶æ€§è¡Œä¸ºã€‚<blockquote><p>å¦‚æœæ­£å¼å‘˜å·¥é—®ä½ çš„é—®é¢˜ä½ æ²¡èƒ½ç­”ä¸Šæ¥ï¼Œå°±å¯èƒ½ä¼šè¢«ç”©ä¸€å¥â€œé‚£ä½ æ˜å¤©ä¸ç”¨æ¥ä¸Šç­äº†â€ï¼Œç„¶åç«‹åˆ»è¢«è§£é›‡ã€‚æˆ‘ä»¬ç®¡è¿™ä¸ªå«â€œå‡ºç¦â€ã€‚æ¯•ç«Ÿä¸æ˜¯ç›´æ¥é›‡ç”¨çš„å…³ç³»ï¼Œæ‰€ä»¥è¢«å¦‚æ­¤å†·é…·åœ°å¯¹å¾…ä¹Ÿå¾ˆæ­£å¸¸ã€‚æˆ‘ä»¬å”¯ä¸€çš„é€‰æ‹©å°±åªæœ‰éµå®ˆç¤¾å‘˜çš„å‘½ä»¤ï¼Œæ²¡æœ‰å€Ÿå£å’Œæ€¨è¨€ï¼Œç»å¯¹æœä»ã€‚</p></blockquote></li><li>å¹´é¾„é™åˆ¶ï¼šå³ä¾¿æ˜¯éæ­£å¼é›‡ä½£ï¼Œå½“è¶…è¿‡äº†45å²ï¼Œè¿™äº›å¥³æ€§ä¹Ÿå½»åº•çš„æ²¡æœ‰äº†æœºä¼šã€‚è¿™è®©æˆ‘æƒ³èµ·äº†å›½å†…çš„35å²é—¨æ§›ï¼Œä¹Ÿæœ‰ä¸€ç§åŒç—…ç›¸æ€œçš„æ„Ÿå—ã€‚</li></ul><blockquote><p>æ—¥æœ¬å¯¹æ›¾åšè¿‡ä¸“èŒä¸»å¦‡çš„å¥³æ€§è¿˜æœ‰å•äº²å®¶åº­ï¼Œéƒ½å¤ªä¸¥è‹›äº†ï¼Œè¿ä¸€ä¸ªäººçš„åŸºæœ¬ç”Ÿæ´»éƒ½ä¿éšœä¸äº†ï¼Œè¿˜ä¸ç»™æˆ‘ä»¬æœºä¼šã€‚</p></blockquote><p>è¿™æ˜¯æ¤è‰å¥³å£«å¯¹å½“ä»Šæ—¥æœ¬ç¤¾ä¼šçš„æŠ±æ€¨ï¼Œä¹Ÿæ­ç¤ºäº†æ”¿åºœæˆ–è€…ç¤¾ä¼šåœ¨å…³æ³¨å¼±åŠ¿ç¾¤ä½“æ–¹é¢çš„å†·æ¼ ã€‚</p><blockquote><p>å³ä½¿å—è¿‡é«˜ç­‰æ•™è‚²ï¼Œä¸€ä¸ªå¥³æ€§åªè¦åšäº†å®¶åº­ä¸»å¦‡ï¼Œç¤¾ä¼šå°±ä¸ä¼šå†ç»™äºˆå¥¹å‘æŒ¥è‡ªå·±èƒ½åŠ›å’Œä»·å€¼çš„æœºä¼šäº†å—ï¼Ÿä¸ä»…æ˜¯å·¥ä½œï¼Œä¸€æ—¦è¢«ä¸ˆå¤«è¦æ±‚ç¦»å©šï¼Œå…¶ç»“æœå°±æ˜¯ï¼Œå¥¹ä¼šå¤±å»å·¥ä½œåŒæ—¶å¤±å»å®¶äººã€‚</p></blockquote><p>è¿™äº›å•èº«æ¯äº²ä»¬çš„è´«å›°å‡ ä¹æ˜¯100%çš„ä¼šä¼ é€’åˆ°ä¸‹ä¸€ä»£ï¼Œå› ä¸ºæ— æ³•åœ¨ç»æµä¸Šæ”¯æŒå­©å­ä»¬ï¼Œä»–ä»¬çš„å­©å­åªèƒ½ä¸Šä¸å¥½çš„å­¦æ ¡ï¼Œé è‡ªå·±è¿›å…¥é£ä¿—åº—èµšé’±ç¼´çº³å­¦è´¹ï¼Œç„¶åé‡å¤å¥³å¤§å­¦ç”Ÿä»¬çš„ç”Ÿæ´»ï¼Œç„¶åè¿™ç§ç”Ÿæ´»é€ æˆå¥¹ä»¬æˆå¹´åå¯¹äºå®¶åº­çš„ä¸ä¿¡ä»»ï¼Œå› æ­¤ç¦»å©šæˆäº†æ— æ³•é¿å…çš„é€‰æ‹©ï¼Œç”šè‡³æ˜¯ä¸å©šã€‚</p><h1 id="æˆ‘ä»¬æ€ä¹ˆåŠ"><a href="#æˆ‘ä»¬æ€ä¹ˆåŠ" class="headerlink" title="æˆ‘ä»¬æ€ä¹ˆåŠ"></a>æˆ‘ä»¬æ€ä¹ˆåŠ</h1><p>æœ¬ä¹¦çš„ä½œè€…å¼ºè°ƒäº†æ”¿åºœå’Œç¤¾ä¼šåˆ¶åº¦åœ¨å¯¼è‡´å¥³æ€§è´«å›°æ–¹é¢æ‰®æ¼”çš„è´Ÿé¢è§’è‰²ï¼Œå¯¹äºä½œè€…é¿è€Œä¸è°ˆè‡ªæˆ‘åŸå› å¯¼è‡´çš„è´«å›°ï¼Œæˆ‘ä¸€å¼€å§‹æ˜¯æ— æ³•è®¤åŒçš„ã€‚ä½†æ˜¯è®¾èº«å¤„åœ°æ€è€ƒï¼Œå¯¹äºä¸€ä¸ªç¼ºå¤±å®¶åº­æ”¯æŒçš„16å²å¥³å­©ï¼Œå»ä¸Šå¤§å­¦åˆ™è¦é¢ä¸´æ¯å¹´çš„å­¦è´¹å’Œç”Ÿæ´»è´¹ï¼Œä¸ä¸Šå­¦åˆ™æ— æ³•æ‘†è„±è´«å›°ï¼Œç›´æ¥è¿›å…¥é£ä¿—è¡Œä¸šï¼Œæˆ‘ä»¬è¿™äº›å±€å¤–äººæ— æ³•è½»æ¾åœ°è¯´å‡ºâ€œå¤šæ‰“å·¥èµšé’±ï¼Œå°‘èŠ±é’±â€è¿™æ ·çš„é£å‡‰è¯ã€‚</p><p>è¿™æœ¬ä¹¦å¯¹äºæˆ‘ä»¬æœ‰æ€æ ·çš„å¯å‘ï¼Œæˆ‘è§‰å¾—æ˜¯å€¼å¾—æ€è€ƒçš„é—®é¢˜ã€‚</p><p>æ—¥æœ¬æ˜¯ä¸€ä¸ªå‘è¾¾å›½å®¶ï¼Œå…¶ç¤¾ä¼šä¿éšœä½“ç³»æ¯”æˆ‘ä»¬è¦å…¨é¢ï¼Œè¿™ä¸€ç‚¹æ¯‹åº¸è®³è¨€ã€‚å³ä¾¿æ˜¯åœ¨è¿™æ ·çš„ç¤¾ä¼šï¼Œä»ç„¶å­˜åœ¨ä¹¦ä¸­æå†™çš„è´«å›°äººå£ï¼Œæ˜¾ç„¶å•é å›½å®¶çš„ä¿éšœåˆ¶åº¦ï¼Œæ— æ³•ä½¿æˆ‘ä»¬å®‰å…¨åº¦è¿‡è¿™ä¸€ç”Ÿï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±è®¡åˆ’ï¼Œæ‰ä¸ä¼šé™·å…¥æ— åŠ©å’Œæ··ä¹±ã€‚</p><p>è™½ç„¶å¾ˆå¤šçš„å›½å®¶åˆ¶åº¦ï¼Œæˆ‘ä»¬æ— æ³•å·¦å³ï¼Œå¦‚ä½œè€…æ‰€è¨€ï¼š</p><blockquote><p>æ—¥æœ¬çš„åˆ¶åº¦è®¾è®¡å°±æ˜¯è®©å¥³æ€§åœ¨æœ€ä½ç”Ÿæ´»ä¿éšœæ°´å‡†çº¿ä¸Šå·¥ä½œå’Œç”Ÿæ´»ã€‚æˆ‘åªæ˜¯è¿æ°”å¥½é€ƒç¦»äº†æ³¥æ²¼ï¼Œè¿˜æœ‰å¾ˆå¤šæ™®é€šçš„å¥³æ€§è¿‡å¾—è¿˜ä¸å¦‚è´«æ°‘çªŸçš„äººã€‚</p></blockquote><p>è™½ç„¶å¾ˆç—›è‹¦ï¼Œä½†æ˜¯è¿˜è¦æ´»ä¸‹å»ï¼Œè¿™æ˜¯ä½œè€…ç•™ä¸‹çš„æ„Ÿå¹ã€‚å¦‚æœä½ æ„Ÿåˆ°ç„¦è™‘æˆ–è€…ç—›è‹¦ï¼Œå¯èƒ½è¿˜æ˜¯ç»å†çš„ä¸å¤Ÿå¤šï¼Œå½“çœ‹è§ä¹¦ä¸­äººç‰©çš„çœŸå®ç»å†æ—¶ï¼Œæˆ–è®¸æˆ‘ä»¬é¢å¯¹çš„å¹¶ä¸æ˜¯é‚£ä¹ˆç³Ÿç³•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è¯»ä¹¦æ„Ÿæ‚Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç»æµ </tag>
            
            <tag> ç¤¾ä¼š </tag>
            
            <tag> è´«å›° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨Notion API+Github Actionså›é¡¾é˜…è¯»çš„æ–‡ç« </title>
      <link href="/2022/05/22/xiao-lu-sheng-huo/li-yong-notion-api-github-actions-hui-gu-yue-du-de-wen-zhang/"/>
      <url>/2022/05/22/xiao-lu-sheng-huo/li-yong-notion-api-github-actions-hui-gu-yue-du-de-wen-zhang/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æ¯å¤©çœ‹ç€ä¸æ–­æ¨é€çš„æ‰‹æœºæ¶ˆæ¯ï¼Œæ˜çŸ¥é“å…¶ä¸­æœ‰ä»·å€¼çš„å¹¶ä¸å¤šï¼Œä½†æ˜¯åˆæ€•é”™è¿‡æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œè¿™ç§å¿ƒæ€åœ¨å½“ä»Šæ˜¯ä¸€ç§å¾ˆæ™®éçš„å¿ƒæ€ã€‚å› æ­¤ï¼Œé¢å¯¹è¿™ç§å±€é¢ï¼Œ<a href="https://www.tmtpost.com/5947407.html">å¦‚ä½•æ‘†è„±æµ·é‡ä¿¡æ¯çš„å†²å‡»å’Œæ— ä»·å€¼ä¿¡æ¯çš„ç¦é”¢</a>ï¼Œæ˜¯é¢å¯¹çš„ä¸€ä¸ªè‰°å·¨çš„æŒ‘æˆ˜ã€‚ä¹‹å‰çœ‹åˆ°ä¸€ç¯‡æ–‡ç« â€”â€”<a href="https://catcoding.me/p/get-better-info/">ä¼˜åŒ–è‡ªå·±çš„ä¿¡æ¯æº</a>ï¼Œå»ºè®®ä¸»åŠ¨è·å–ä¿¡æ¯ã€‚å›æƒ³æˆ‘çš„ä¿¡æ¯ç®¡ç†æ–¹æ³•ï¼Œå·®ä¸å¤šä¹Ÿæ˜¯æŒ‰ç…§è¿™ä¸ªæ€è·¯æ¥çš„ï¼Œä¸€èˆ¬æ˜¯ï¼š</p><ul><li>æ”¶é›†ï¼šåˆæ­¥åŠ ä¸Šæ ‡ç­¾å’Œåˆ†ç±»ï¼›</li><li>é¢„å¤„ç†ï¼šæ£€è§†é˜…è¯»ï¼Œæ‰¾å‡ºå…¶ä¸­è¦ç‚¹ï¼›</li><li>æ·±åº¦é˜…è¯»ï¼šé˜…è¯»ï¼ŒåŠ ä¸Šæ‘˜è¦å’Œæ€è€ƒå†…å®¹ï¼›</li></ul><p>æœ€åè¿™äº›æ ‡æ³¨å’Œå†…å®¹éƒ½æ±‡æ€»åˆ°æˆ‘çš„notionæ•°æ®åº“ä¸­ï¼Œä½†æ˜¯é€æ¸å‘ç°ç¼ºä¹å›é¡¾çš„ç¯èŠ‚ï¼Œæ‰‹åŠ¨å»è·å–è¿™äº›ç§¯ç´¯çš„ä¿¡æ¯ï¼Œä¹Ÿå­˜åœ¨å®é™…æ“ä½œæ€§ä¸å¼ºçš„é—®é¢˜ï¼Œ<a href="https://sspai.com/post/71518">æˆ‘æ˜¯å¦‚ä½•è‰°éš¾åœ°å…‹æœã€Œæ•ˆç‡æˆç˜¾ã€çš„ï¼Ÿ</a>å»ºè®®æˆ‘ä»¬è¦è‡ªåŠ¨åŒ–ä¸€äº›æ“ä½œæ¥æå‡æ•ˆç‡ã€‚</p><p>å› æ­¤ï¼Œæˆ‘å¸Œæœ›é€šè¿‡è‡ªåŠ¨åŒ–çš„æ–¹æ³•æ¥å›é¡¾æˆ‘çœ‹è¿‡å’Œæ€è€ƒçš„å†…å®¹ã€‚</p><h1 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h1><h2 id="æ•´ä½“è®¾è®¡"><a href="#æ•´ä½“è®¾è®¡" class="headerlink" title="æ•´ä½“è®¾è®¡"></a>æ•´ä½“è®¾è®¡</h2><ol><li>Notion APIè‡ªåŠ¨åŒ–è·å–ä¿¡æ¯ï¼›</li><li>Github Actionsæä¾›workflowï¼›</li><li>å¾®ä¿¡æ¥æ”¶â€”â€”Notionæ‰“å¼€ï¼›</li></ol><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><ol><li>ä¿¡æ¯å­˜å‚¨åœ¨Notionä¸­ï¼Œå› æ­¤ä½¿ç”¨å…¶æä¾›çš„APIå®ç°è‡ªåŠ¨åŒ–çš„è·å–ï¼›</li><li>å…·ä½“çš„å›é¡¾æ–¹å¼ï¼šæ¯å¤©å®šæ—¶å‘é€ï¼Œå› æ­¤éœ€è¦äº‹ä»¶è§¦å‘æœºåˆ¶â€”â€”å®šæ—¶å‘¨æœŸå‘é€ï¼Œè¿™ç§å®ç°æ–¹æ³•æœ‰å¾ˆå¤šï¼Œæœ¬æ–‡é‡‡ç”¨Github Actionsï¼Œå› ä¸ºå…è´¹ä¸”å¯ç”¨æ€§å¾ˆå¼ºï¼›</li><li>æ¥æ”¶æ–¹å¼ï¼šå¾®ä¿¡æ¥æ”¶æœ€æ–¹é¢ï¼Œä½†æ˜¯å…¶SDKå­˜åœ¨ä¸€äº›éº»çƒ¦ï¼Œå› æ­¤ä¸€ç§é—´æ¥çš„æ–¹å¼æ˜¯é€šè¿‡å‘é‚®ä»¶åˆ°QQé‚®ç®±ï¼Œç„¶ååœ¨å¾®ä¿¡ä¸­æ¥æ”¶ï¼Œç„¶ååˆ©ç”¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€Notionçš„é“¾æ¥ï¼›</li></ol><h1 id="å…·ä½“è¿‡ç¨‹"><a href="#å…·ä½“è¿‡ç¨‹" class="headerlink" title="å…·ä½“è¿‡ç¨‹"></a>å…·ä½“è¿‡ç¨‹</h1><h2 id="Notion-API"><a href="#Notion-API" class="headerlink" title="Notion API"></a>Notion API</h2><blockquote><p>æœ¬æ–‡ä¸ä¼šä»‹ç»Notionã€‚</p></blockquote><p>è¿™é‡Œ<a href="https://developers.notion.com/reference/post-database-query">ä½¿ç”¨Notion APIæ¥æŸ¥è¯¢æ•°æ®åº“</a>ã€‚å…¶ä¸­æ³¨æ„ä½¿ç”¨çš„æ˜¯filterå’Œsortã€‚å…¶ä¸­éœ€è¦è€ƒè™‘çš„é—®é¢˜æ˜¯ï¼š</p><ul><li>æŸ¥è¯¢API endpointsçš„æ–¹æ³•ï¼›<ul><li><a href="https://ralphjsmit.com/api-endpoint-webhook-github-actions">åœ¨workflowä¸­ä½¿ç”¨curl</a>ï¼šç®€å•ã€ç›´æ¥ï¼Œä½†æ˜¯ä¸èƒ½è¿›è¡Œå¤æ‚é€»è¾‘çš„æ“ä½œï¼Œæ¯”å¦‚ç”Ÿæˆéšæœºæ•°ï¼›</li><li>ä½¿ç”¨JavaScriptæŸ¥è¯¢ï¼šè¿™ä¸ªå¯ä»¥ç›´æ¥ç”¨åŸç”ŸjsæŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥<a href="https://github.com/makenotion/notion-sdk-js">ä½¿ç”¨Notionæä¾›çš„SDK</a>ã€‚</li></ul></li><li>APIå“åº”ç»“æœçš„è§£æ<ul><li>è¿™ä¸ªéœ€è¦è¿›è¡Œæµ‹è¯•ï¼Œæˆ‘æ„Ÿè§‰Notionç»™å‡ºçš„APIæ–‡æ¡£è¯´çš„ä¸å¤Ÿæ¸…æ¥šï¼Œéœ€è¦è‡ªå·±å»è¯•ï¼Œå¯èƒ½ä¼šå‡ºç°å¾ˆå¤šé—®é¢˜ï¼›</li><li>è¿™é‡Œæˆ‘ä½¿ç”¨postmanè¿›è¡Œæ¥å£çš„æµ‹è¯•ï¼›</li><li>è¿˜æœ‰ä¸€ä¸ªè¦åæ§½çš„æ˜¯ï¼šNotion APIä¸­å¥½åƒæ²¡æœ‰è·å–æ•´ç¯‡æ–‡æ¡£çš„æ¥å£å’Œé€‰æ‹©ï¼Œåªèƒ½è·å–pageçš„urlï¼›</li></ul></li></ul><h2 id="Github-Actions"><a href="#Github-Actions" class="headerlink" title="Github Actions"></a>Github Actions</h2><h3 id="1-è§¦å‘äº‹ä»¶"><a href="#1-è§¦å‘äº‹ä»¶" class="headerlink" title="1. è§¦å‘äº‹ä»¶"></a>1. è§¦å‘äº‹ä»¶</h3><ol><li>æ‰‹åŠ¨å‡ºå‘ï¼šä¾¿äºè°ƒè¯•ï¼›</li><li>å®šæ—¶è§¦å‘ï¼š<a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule">schedule</a> å…¶ä¸­éœ€è¦crontabè¡¨è¾¾å¼ï¼Œä¸å¤ªäº†è§£çš„å¯ä»¥å‚è€ƒ<a href="https://crontab.guru/">è¿™é‡Œ</a>ã€‚</li></ol><h3 id="2-è®¾è®¡actions"><a href="#2-è®¾è®¡actions" class="headerlink" title="2. è®¾è®¡actions"></a>2. è®¾è®¡actions</h3><p>æœ¬æ–‡è®¾è®¡äº†ä¸¤ä¸ªworkflowï¼Œå…¶å®ä¹Ÿä¸ä¸€å®šè¿™æ ·è®¾è®¡ï¼Œä¸»è¦æˆ‘æ˜¯ä¸ºäº†å¤šäº†è§£ä¸€ä¸‹Github Actionsçš„ä½¿ç”¨ï¼Œå¦‚æœä½ è§‰å¾—éº»çƒ¦å¯ä»¥æ”¾åˆ°ä¸€ä¸ªworkflowé‡Œï¼Œè¯´åˆ°è¿™é‡Œï¼Œæƒ³èµ·ä¹‹å‰çœ‹åˆ°çš„ä¸€ç¯‡æ–‡ç« â€”â€”<a href="https://juejin.cn/post/6898953413250252814">æ–°æŠ€æœ¯å­¦ä¹ ä¸å®Œå…¨æŒ‡åŒ—ï¼šä»¥ Rust ä¸ºä¾‹</a>ã€‚å…¶ä¸­æœ‰ä¸€ä¸ªè§‚ç‚¹ï¼Œ<strong>è¶…çº²è®­ç»ƒæ˜¯å·©å›ºçŸ¥è¯†çš„å¯é æ–¹å¼ï¼Œ</strong>æˆ‘è¿™é‡Œä¹Ÿç®—è¶…çº²è®­ç»ƒä¸€ä¸‹ã€‚</p><p>ç¬¬ä¸€ä¸ªworkflowç”¨æ¥è·å–Notionä¸­çš„ä¿¡æ¯ï¼Œä½¿ç”¨Notionæä¾›çš„JavaScript SDKå®ç°ï¼Œå…·ä½“åŒ…æ‹¬ï¼š</p><ul><li>æŸ¥è¯¢Notion databaseï¼Œå¹¶æ ¹æ®å±æ€§è¿‡æ»¤å’Œæ’åºæ–‡ç« åˆ—è¡¨ï¼Œä»¥å®ç°éšæœºè·å–æ–‡ç« ï¼›</li><li>ç”Ÿæˆæ–‡ç« æ‘˜è¦æ¨¡æ¿ï¼Œç”¨äºåç»­çš„é‚®ä»¶å‘é€ï¼›</li></ul><p>ç¬¬äºŒä¸ªworkflowä¸»è¦æ˜¯åˆ©ç”¨ä¸Šä¸€ä¸ªworkflowç”Ÿæˆçš„ä¿¡æ¯å¹¶å‘é€é‚®ä»¶ï¼Œå…¶ä¸­éœ€è¦å®ç°ï¼š</p><ul><li>ç¼–æ’ä¸åŒçš„jobsï¼›</li><li>è·å–jobsä¹‹é—´å…±äº«çš„ä¿¡æ¯ï¼Œå¹¶å‘é€å‡ºå»ï¼šè¿™é‡Œä½¿ç”¨<a href="https://github.com/dawidd6/action-send-mail">å·²æœ‰çš„actionså®Œæˆé‚®ä»¶çš„å‘é€</a>ï¼›</li></ul><h1 id="æŠ€æœ¯ç»†èŠ‚"><a href="#æŠ€æœ¯ç»†èŠ‚" class="headerlink" title="æŠ€æœ¯ç»†èŠ‚"></a>æŠ€æœ¯ç»†èŠ‚</h1><h2 id="é‡ç”¨workflow"><a href="#é‡ç”¨workflow" class="headerlink" title="é‡ç”¨workflow"></a>é‡ç”¨workflow</h2><p>ç”±äºæœ¬æ–‡è®¾è®¡äº†ä¸¤ä¸ªworkflowsï¼Œä»ç¨‹åºè®¾è®¡çš„è§’åº¦çœ‹ï¼Œå…¶å®æ˜¯ä¸ºäº†è§£è€¦ä»¥å®ç°é‡ç”¨å·²æœ‰çš„workflowã€‚ç±»ä¼¼äºå‡½æ•°çš„è®¾è®¡ï¼Œéœ€è¦éµä»ä¸€å®šçš„è§„èŒƒï¼Œæ¯”å¦‚ï¼šä¸ºäº†å®‰å…¨æ€§ï¼Œæœ‰äº›å‡½æ•°é€šè¿‡åŠ é™å®šç¬¦è§„å®šåªèƒ½è¢«åŒä¸€ä¸ªæ¨¡å—ä¸‹çš„å‡½æ•°è°ƒç”¨ã€‚Github Actionsä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„è§„å®šï¼Œä¸å…¶è¯´è¿™äº›workflowåƒå‡½æ•°ï¼Œä¸å¦‚è¯´å®ƒä»¬æ›´åƒRPCã€‚æ¯ä¸ªworkflowéƒ½å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªjobsï¼Œä¹Ÿå°±å¯ä»¥è§†ä¸ºä¸€ä¸ªæˆ–è€…å¤šä¸ªè¿›ç¨‹ã€‚</p><p>ä¸ºäº†é‡ç”¨å¯å…±äº«çš„workflowï¼Œè¦æ±‚ï¼š</p><ul><li>éœ€è¦å¤ç”¨çš„workflowæ”¯æŒ <code>workflow_call</code> å‡ºå‘äº‹ä»¶ï¼›<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> notion<span class="token punctuation">-</span>article<span class="token punctuation">-</span>query<span class="token comment" spellcheck="true"># Controls when the workflow will run</span><span class="token key atrule">on</span><span class="token punctuation">:</span>  <span class="token key atrule">workflow_call</span><span class="token punctuation">:</span></code></pre></li></ul><p>è¿™æ ·ï¼Œæ­¤workflowæ‰èƒ½åœ¨åˆ«çš„workflowä¸­ä½¿ç”¨ï¼Œè¯¥workflowåªèƒ½åœ¨åˆ«çš„workflowçš„jobsä¸­ä½¿ç”¨ï¼Œè€Œä¸æ˜¯stepsã€‚å¹¶ä¸”<a href="https://docs.github.com/en/actions/using-workflows/reusing-workflows#access-to-reusable-workflows">éœ€è¦æ»¡è¶³ä¸€å®šçš„æ¡ä»¶</a>ï¼Œå³å¦‚ä¸‹å…¶ä¸€ï¼š</p><ul><li>ä¸¤ä¸ªworkflowséœ€è¦åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼›</li><li>è¢«é‡ç”¨çš„workflowéœ€è¦å­˜å‚¨åœ¨å…±æœ‰ä»“åº“å¹¶ä¸”ç»„ç»‡å…è®¸ä½ ä½¿ç”¨è¿™äº›å…¬æœ‰ä»“åº“ï¼›</li></ul><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> notion<span class="token punctuation">-</span>article<span class="token punctuation">-</span>review<span class="token key atrule">on</span><span class="token punctuation">:</span>  <span class="token key atrule">schedule</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">cron</span><span class="token punctuation">:</span> <span class="token string">'0 4 * * *'</span>  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span><span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">article-query</span><span class="token punctuation">:</span>    <span class="token key atrule">uses</span><span class="token punctuation">:</span> ./.github/workflows/notion<span class="token punctuation">-</span>article<span class="token punctuation">-</span>query.yml    <span class="token key atrule">secrets</span><span class="token punctuation">:</span> inherit  <span class="token key atrule">article-review</span><span class="token punctuation">:</span>        <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest</code></pre><p>æ›´å¤šå¤æ‚çš„åŠŸèƒ½å¯ä»¥å‚è€ƒ<a href="https://docs.github.com/en/actions/using-workflows/reusing-workflows">Github Actionsçš„æ–‡æ¡£</a>ã€‚</p><h2 id="jobsä¹‹é—´å…±äº«æ•°æ®"><a href="#jobsä¹‹é—´å…±äº«æ•°æ®" class="headerlink" title="jobsä¹‹é—´å…±äº«æ•°æ®"></a>jobsä¹‹é—´å…±äº«æ•°æ®</h2><p>é¦–å…ˆä»ç›´è§‰ä¸Šæ¥çœ‹ï¼Œä¸åŒçš„jobså¯èƒ½åœ¨ä¸åŒçš„è™šæ‹Ÿæœºä¸Šï¼Œå› æ­¤é€šè¿‡æ–‡ä»¶ç­‰æ–¹å¼æ˜¯æ— æ³•å®Œæˆæ•°æ®æ˜¯å…±äº«çš„ï¼Œè¿™ä¸RPCä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚ç…§ç€è¿™ä¸ªæ€è·¯æ¥æƒ³ï¼š</p><ul><li>å¼•å…¥ç¬¬ä¸‰æ–¹<ul><li>ä½¿ç”¨ç¼“å­˜æœåŠ¡å™¨ï¼šå¦‚Redisï¼Œåœ¨Github Actionså¯ä»¥ä½¿ç”¨<a href="https://docs.github.com/en/actions/using-workflows/caching-dependencies-to-speed-up-workflows">Cache</a>ï¼Œå®˜æ–¹æä¾›äº†å¯ä»¥<a href="https://github.com/marketplace/actions/cache">ç›´æ¥ä½¿ç”¨çš„Cache Action</a>ï¼›</li><li>ä½¿ç”¨æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ï¼šåœ¨Github Actionsä¸­<a href="https://docs.github.com/en/actions/using-workflows/storing-workflow-data-as-artifacts">ä½¿ç”¨Artifacts</a>å®ç°ï¼›</li></ul>  ä¸¤è€…çš„åŒºåˆ«ä¸»è¦æ˜¯ï¼š<blockquote><p><strong>Caching</strong>Â is used to re-use data/files between jobs or workflows whileÂ <strong>Artifacts</strong> are used to save files after workflow ended.</p></blockquote>  å¯ä»¥å‚è€ƒ<a href="https://levelup.gitconnected.com/github-actions-how-to-share-data-between-jobs-fc1547defc3e">è¿™é‡Œ</a>ã€‚</li><li>workflowæ‰§è¡Œè¿”å›<ul><li>ä½¿ç”¨å‘½ä»¤è¡Œï¼šå®šä¹‰jobsçš„è¾“å‡ºå¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œçš„æ–¹å¼ï¼Œ<a href="https://docs.github.com/en/actions/using-jobs/defining-outputs-for-jobs">å®˜æ–¹ç›´æ¥ç»™å‡ºä¾‹å­</a>ï¼Œå…¶ä¸­çš„å‘½ä»¤æ˜¯Github Actionsä¸“æœ‰çš„å‘½ä»¤ï¼Œå¯ä»¥å‚è€ƒæ–‡æ¡£ <a href="https://docs.github.com/en/actions/using-workflows/workflow-commands-for-github-actions">Workflow commands for GitHub Actions</a>ï¼Œå‘Šè¯‰ä½ æ€ä¹ˆå®Œæˆoutputçš„è®¾ç½®ï¼›<pre class=" language-bash"><code class="language-bash"><span class="token keyword">echo</span> <span class="token string">"::workflow-command parameter1={data},parameter2={data}::{command value}"</span></code></pre>  è¿™ä¸€ç‚¹æœ¬æ–‡æ²¡æœ‰ä½¿ç”¨ã€‚</li><li>ä½¿ç”¨JavaScriptï¼šè¿™ç§é€‚åˆå¤æ‚é€»è¾‘çš„åœºæ™¯ï¼Œæœ¬æ–‡ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œé€šè¿‡å¼•å…¥<code>@actions/core</code> å®Œæˆè¾“å…¥å’Œè¾“å‡ºçš„è®¾ç½®ï¼Œæœ¬æ–‡åˆ©ç”¨è¿™ä¸ªå®ç°æ–‡ç« æ‘˜è¦çš„ä¼ é€’ã€‚<pre class=" language-bash"><code class="language-bash">const core <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">"@actions/core"</span><span class="token punctuation">)</span><span class="token keyword">let</span> context <span class="token operator">=</span> `  <span class="token operator">&lt;</span>html<span class="token operator">></span>   <span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta http-equiv<span class="token operator">=</span><span class="token string">"Content-Type"</span> content<span class="token operator">=</span><span class="token string">"text/html; charset=utf-8"</span><span class="token operator">></span>   <span class="token operator">&lt;</span>/head<span class="token operator">></span>    <span class="token operator">&lt;</span>body<span class="token operator">></span>      <span class="token operator">&lt;</span>p<span class="token operator">></span>é¢˜ç›®ï¼š<span class="token variable">${title}</span><span class="token operator">&lt;</span>/p<span class="token operator">></span>      <span class="token operator">&lt;</span>p<span class="token operator">></span>æ ‡ç­¾ï¼š<span class="token variable">${tags}</span><span class="token operator">&lt;</span>/p<span class="token operator">></span>      <span class="token operator">&lt;</span>p<span class="token operator">></span>æ€»ç»“ï¼š<span class="token variable">${summary}</span><span class="token operator">&lt;</span>/p<span class="token operator">></span>      <span class="token operator">&lt;</span>p<span class="token operator">></span>é“¾æ¥ï¼š<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"<span class="token variable">${url}</span>"</span><span class="token operator">></span>æ–‡ç« å†…å®¹<span class="token operator">&lt;</span>/a<span class="token operator">></span><span class="token operator">&lt;</span>/p<span class="token operator">></span>    <span class="token operator">&lt;</span>/body<span class="token operator">></span>  <span class="token operator">&lt;</span>/html<span class="token operator">></span>`<span class="token punctuation">;</span>core.setOutput<span class="token punctuation">(</span><span class="token string">'article-item'</span>, context<span class="token punctuation">)</span></code></pre>  æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªstepä¸­å®ç°çš„è¾“å‡ºï¼Œä¸ºäº†åœ¨é‡ç”¨çš„workflowä¸­è¾“å‡ºæ•°æ®ï¼Œéœ€è¦å°†stepsä¸­çš„è¾“å‡ºæ˜ å°„åˆ°jobsä¸­ï¼Œå¦‚ä¸‹ï¼š<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">on</span><span class="token punctuation">:</span>  <span class="token key atrule">workflow_call</span><span class="token punctuation">:</span>    <span class="token key atrule">outputs</span><span class="token punctuation">:</span>      <span class="token key atrule">article-item</span><span class="token punctuation">:</span>        <span class="token key atrule">description</span><span class="token punctuation">:</span> <span class="token string">"article items"</span>        <span class="token key atrule">value</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> jobs.query<span class="token punctuation">-</span>article.outputs.output1 <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">query-article</span><span class="token punctuation">:</span>    <span class="token key atrule">outputs</span><span class="token punctuation">:</span>      <span class="token key atrule">output1</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> steps.query<span class="token punctuation">-</span>step.outputs.article<span class="token punctuation">-</span>item <span class="token punctuation">}</span><span class="token punctuation">}</span>    <span class="token key atrule">steps</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Query Notion Articles        <span class="token key atrule">id</span><span class="token punctuation">:</span> query<span class="token punctuation">-</span>step                <span class="token comment" spellcheck="true"># å¯¹åº”ä¸Šè¿°index.jsçš„æ‰§è¡Œå’Œè¾“å‡º</span>        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install &amp;&amp; npm run server</code></pre>  åœ¨å…¶ä»–çš„workflowä¸­ä½¿ç”¨æ—¶ï¼Œå¦‚ä¸‹ï¼š<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">article-query</span><span class="token punctuation">:</span>    <span class="token key atrule">uses</span><span class="token punctuation">:</span> ./.github/workflows/notion<span class="token punctuation">-</span>article<span class="token punctuation">-</span>query.yml    <span class="token key atrule">secrets</span><span class="token punctuation">:</span> inherit  <span class="token key atrule">article-review</span><span class="token punctuation">:</span>    <span class="token key atrule">needs</span><span class="token punctuation">:</span> article<span class="token punctuation">-</span>query    <span class="token key atrule">steps</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> send mail        <span class="token key atrule">uses</span><span class="token punctuation">:</span> dawidd6/action<span class="token punctuation">-</span>send<span class="token punctuation">-</span>mail@master        <span class="token key atrule">with</span><span class="token punctuation">:</span>          <span class="token key atrule">html_body</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> needs.article<span class="token punctuation">-</span>query.outputs.article<span class="token punctuation">-</span>item <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>  å…¶ä¸­<code>needs</code> æ˜¯ç”¨äºç¼–æ’ä¸åŒçš„jobsçš„ï¼Œåç»­ä¼šè¯´æ˜ï¼Œç›´æ¥å¼•ç”¨è¿™é‡Œä½¿ç”¨çš„workflowå¹¶è·å–å¯¹åº”çš„è¾“å‡ºçš„å‚æ•°å³å¯ã€‚</li></ul></li></ul><h2 id="ç¼–æ’jobs"><a href="#ç¼–æ’jobs" class="headerlink" title="ç¼–æ’jobs"></a>ç¼–æ’jobs</h2><p>å¦‚æœæ²¡æœ‰åŠ é™åˆ¶ï¼Œä¸åŒçš„jobsä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œä¾‹å¦‚ä¸Šè¿°çš„ä¸¤ä¸ªworkflowä½œä¸ºä¸¤ä¸ªjobsä½¿ç”¨æ—¶ï¼Œå¦‚æœä¸åŠ é™åˆ¶ï¼Œarticle-reviewå¯èƒ½æ— æ³•è·å–article-queryçš„article-itemç»“æœï¼Œå› ä¸ºå®ƒå¯èƒ½å…ˆæ‰§è¡Œç»“æŸï¼Œå› æ­¤<a href="https://docs.github.com/en/actions/learn-github-actions/contexts#needs-context">éœ€è¦ <code>needs</code> æ¥ä¿è¯ä¸åŒçš„jobsçš„æ‰§è¡Œé¡ºåº</a>ï¼Œä»è€Œæ„å»ºä¸€ä¸ªdependency graphï¼Œä½¿å¾—ä¸åŒçš„jobsä¹‹é—´å¯ä»¥ä¸²è¡Œã€å¹¶è¡Œç­‰ã€‚</p><p>æœ¬æ–‡éœ€è¦ä¿è¯ article-review åœ¨article-queryä¹‹åæ‰§è¡Œï¼Œå› æ­¤éœ€è¦<code>needs</code>æ¥ç»´æŠ¤ä¾èµ–å…³ç³»ã€‚</p><h2 id="æ³¨æ„secrets"><a href="#æ³¨æ„secrets" class="headerlink" title="æ³¨æ„secrets"></a>æ³¨æ„secrets</h2><h3 id="å­˜å‚¨secrets"><a href="#å­˜å‚¨secrets" class="headerlink" title="å­˜å‚¨secrets"></a>å­˜å‚¨secrets</h3><p>æ•æ„Ÿçš„ä¿¡æ¯ä¿è¯ä¸å­˜åœ¨åœ¨ä»£ç ä¸­ï¼ŒGithubæä¾›ä¸€ç§ä¸å…¬å¼€çš„æ–¹å¼ï¼ŒåŒæ—¶è¿˜å®šä¹‰äº†ä¸åŒçš„ç²’åº¦ï¼Œ<a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets">å¯ä»¥å‚è€ƒå…·ä½“æ–‡æ¡£</a>ã€‚</p><p><img src="/images/eff/not_git/secrets.png" alt="Untitled"></p><h3 id="ä½¿ç”¨secrets"><a href="#ä½¿ç”¨secrets" class="headerlink" title="ä½¿ç”¨secrets"></a>ä½¿ç”¨secrets</h3><p>è¿™äº›secretså¯ä»¥ä½œä¸ºç¯å¢ƒå˜é‡åœ¨workflowä¸­ä½¿ç”¨ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨Github Actionsæä¾›çš„ <code>secrets</code> contextå®ç°ï¼Œ<a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets#using-encrypted-secrets-in-a-workflow">å…·ä½“å‚è€ƒæ–‡æ¡£</a>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Query Notion Articles    <span class="token key atrule">id</span><span class="token punctuation">:</span> query<span class="token punctuation">-</span>step    <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install &amp;&amp; npm run server    <span class="token key atrule">env</span><span class="token punctuation">:</span>       <span class="token comment" spellcheck="true"># Required mail server address:</span>      <span class="token key atrule">NOTION_API_KEY</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.NOTION_API_KEY <span class="token punctuation">}</span><span class="token punctuation">}</span>      <span class="token comment" spellcheck="true"># Required mail server port:</span>      <span class="token key atrule">DATABASE_ID</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ARTICLE_DATABASE_ID <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="ä¸åŒworkflowä¹‹é—´ä¼ é€’secrets"><a href="#ä¸åŒworkflowä¹‹é—´ä¼ é€’secrets" class="headerlink" title="ä¸åŒworkflowä¹‹é—´ä¼ é€’secrets"></a>ä¸åŒworkflowä¹‹é—´ä¼ é€’secrets</h3><p>è¿™ä¸ªé—®é¢˜å¯èƒ½å¾ˆå°‘æœ‰äººæåˆ°ï¼Œæˆ‘åœ¨æ„å»ºçš„æ—¶å€™é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œåœ¨é‡ç”¨å·²æœ‰çš„workflowæ—¶ï¼Œå¦‚æœä¹Ÿå­˜åœ¨secretséœ€è¦ä¿å¯†ï¼Œéœ€è¦åœ¨è°ƒç”¨workflowä¸­å£°æ˜å¼•ç”¨çš„workflowå°†é›†æˆæœ¬workflowä¸‹çš„æ‰€æœ‰secretsï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p><pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">jobs</span><span class="token punctuation">:</span>  <span class="token key atrule">article-query</span><span class="token punctuation">:</span>    <span class="token key atrule">uses</span><span class="token punctuation">:</span> ./.github/workflows/notion<span class="token punctuation">-</span>article<span class="token punctuation">-</span>query.yml    <span class="token key atrule">secrets</span><span class="token punctuation">:</span> inherit   <span class="token key atrule">article-review</span><span class="token punctuation">:</span>        <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest</code></pre><p>å…·ä½“ç»†èŠ‚å¯ä»¥<a href="https://docs.github.com/en/actions/using-workflows/reusing-workflows#passing-inputs-and-secrets-to-a-reusable-workflow">å‚è€ƒæ–‡æ¡£</a>ã€‚</p><h2 id="é‚®ä»¶æ¨¡æ¿"><a href="#é‚®ä»¶æ¨¡æ¿" class="headerlink" title="é‚®ä»¶æ¨¡æ¿"></a>é‚®ä»¶æ¨¡æ¿</h2><p>æœ¬æ–‡åªæ˜¯è®¾è®¡äº†ä¸€ä¸ªç®€å•æ–‡ç« æ‘˜è¦ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>é¢˜ç›®</li><li>æ ‡ç­¾</li><li>æ€»ç»“</li><li>æ–‡ç« å†…å®¹çš„urlï¼›</li></ul><p>ä¸€ç§é”¦ä¸Šæ·»èŠ±çš„æ“ä½œæ˜¯ä½¿ç”¨HTML Emailï¼Œ<a href="http://www.ruanyifeng.com/blog/2013/06/html_email.html">é˜®ä¸€å³°ä¸“é—¨é’ˆå¯¹è¿™ä¸ªå†™äº†ä¸€ç¯‡æ–‡ç« </a>ï¼Œå¯ä»¥å‚è€ƒã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ•´ä¸ªé¡¹ç›®çš„ä»£ç åœ¨<a href="https://github.com/limeya/NotionReview">ä»“åº“</a>ï¼Œæœ€ç»ˆçš„ç»“æœå¦‚ä¸‹ï¼š</p><p><img src="/images/eff/not_git/result.png" alt="Untitled"></p><p>æ€»çš„æ¥çœ‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ï¼š</p><ul><li>ç†Ÿæ‚‰äº†Notion APIå’ŒGithub Actionsçš„æ“ä½œï¼›</li><li>æ‰“å¼€äº†Github Actionsçš„æœ‰è¶£çš„ä¸–ç•Œï¼Œæœ‰å¾ˆå¤šçš„é¡¹ç›®å¯ä»¥å€Ÿé‰´ï¼š<ul><li><a href="https://blog.owenyoung.com/zh/posts/actionsflow/">Actionsflowï¼Œä¹Ÿå¯ä»¥æ›¿ä»£Github Actionså®ç°workflow</a><strong><strong>ã€‚</strong></strong></li><li><a href="https://cloud.tencent.com/developer/article/1909652">è‡ªåŠ¨åŒæ­¥åšå®¢æ–‡ç« åˆ°Github</a>ï¼Œè¿™ä¸ªåè¾¹å‡†å¤‡åŠ å…¥åˆ°æˆ‘çš„ä»“åº“ä¸­ï¼›</li><li><a href="https://sspai.com/post/73188">æ•´ç†Newsletter</a>ï¼›</li></ul></li><li>æ›´å¤§çš„æ”¶è·ï¼Œåº”è¯¥æ˜¯è®©è‡ªå·±çœ‹è¿‡çš„å’Œæ€è€ƒçš„å†…å®¹ä¸å†å †åœ¨æŸä¸ªå……æ»¡å°˜åœŸçš„è§’è½é‡Œï¼Œè®©çŸ¥è¯†å’Œæ€æƒ³æµåŠ¨èµ·æ¥ï¼</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•ˆç‡ç”Ÿæ´» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Notion </tag>
            
            <tag> Github Actions </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101ï¼šRasterization - Shadow Mapping</title>
      <link href="/2022/05/06/ji-suan-ji-tu-xing-xue/games/games101-rasterization-shadow-mapping/"/>
      <url>/2022/05/06/ji-suan-ji-tu-xing-xue/games/games101-rasterization-shadow-mapping/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><ul><li>ç€è‰²æ˜¯å±€éƒ¨çš„ï¼Œè¿™ç§æ–¹ä¾¿ä½†ä¸å¯¹ï¼›</li><li>shadingä¸­æ— æ³•è§£å†³é˜´å½±é—®é¢˜ï¼›</li></ul><p>é‚£ä¹ˆï¼šHow to draw shadows using rasterization?</p><h1 id="æ–¹æ³•ï¼šShadow-Mapping"><a href="#æ–¹æ³•ï¼šShadow-Mapping" class="headerlink" title="æ–¹æ³•ï¼šShadow Mapping"></a>æ–¹æ³•ï¼šShadow Mapping</h1><h2 id="idea"><a href="#idea" class="headerlink" title="idea"></a>idea</h2><blockquote><p>the points NOT in shadow must be seen both <strong>by the light</strong> and <strong>by the camera</strong></p></blockquote><p>åœ¨è¯¥æ–¹æ³•ä¸­ï¼Œå¦‚æœç‚¹ä¸åœ¨â€œé˜´å½±â€ä¸­ï¼ŒæŒ‡çš„æ˜¯å…¶æ—¢èƒ½è¢«å…‰çœ‹è§ï¼Œä¹Ÿèƒ½è¢«äººçœ¼çœ‹è§ã€‚æ¢å¥è¯è¯´ï¼Œå½“ä¸€ä¸ªç‚¹åœ¨é˜´å½±ä¸­æ—¶ï¼Œè¯´æ˜å…¶æˆ–è€…ä¸èƒ½è¢«å…‰çœ‹è§ï¼Œæˆ–è€…ä¸èƒ½è¢«äººçœ¼çœ‹è§ã€‚</p><h2 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h2><p>è¯¥æ–¹æ³•æ˜¯An Image-space Algorithmï¼Œå¦‚ä½•ç†è§£ï¼Ÿ</p><blockquote><p>no knowledge of sceneâ€™s geometry during shadow computation</p></blockquote><p>åœ¨ç”Ÿæˆé˜´å½±çš„è¿‡ç¨‹ä¸­ä¸éœ€è¦æ‰¾åˆ°å‡ ä½•ä¿¡æ¯ã€‚</p><h2 id="å…·ä½“è¿‡ç¨‹"><a href="#å…·ä½“è¿‡ç¨‹" class="headerlink" title="å…·ä½“è¿‡ç¨‹"></a>å…·ä½“è¿‡ç¨‹</h2><p><img src="/images/games101/ext/1/sm_process.png" alt="Shadow Mappingå…·ä½“è¿‡ç¨‹"></p><p>è¯¥è¿‡ç¨‹åŒ…å«ä¸¤ä¸ªæ­¥éª¤ï¼š</p><ul><li>ä»å…‰æºçœ‹å‘å…·ä½“çš„ç‰©ä½“ï¼›</li><li>ä»äººçœ¼çœ‹å‘å…·ä½“çš„ç‰©ä½“ï¼›</li></ul><p>å…·ä½“å¦‚ä¸Šå›¾æ‰€ç¤ºï¼š</p><ol><li>é¦–å…ˆï¼Œä»å…‰æºçœ‹å‘ç‰©ä½“ï¼Œå¯ä»¥å¾—åˆ°å…‰æºèƒ½å¤Ÿçœ‹åˆ°çš„å›¾ï¼Œè¯¥å›¾ä¸è¿›è¡Œç€è‰²ï¼Œåªè®°å½•çœ‹åˆ°çš„ç‚¹çš„æ·±åº¦ä¿¡æ¯ï¼›<blockquote><p>Depth image from light source</p></blockquote></li><li>ä»äººçœ¼çœ‹å‘å…·ä½“çš„ç‰©ä½“ï¼Œå¯¹äºçœ‹åˆ°çš„ç‰©ä½“ä¸Šçš„ç‚¹ï¼Œå°†å…¶æŠ•å½±å›ä»å…‰æºè§’åº¦çœ‹å¾—åˆ°çš„å¹³é¢ï¼Œå¦‚ç¬¬3éƒ¨åˆ†ï¼Œèƒ½å¤Ÿå¾—åˆ°è¯¥ç‚¹å¯¹åº”æ·±åº¦å›¾ä¸Šçš„å“ªä¸ªåƒç´ ï¼›<blockquote><p>Standard image (with depth) from eye</p></blockquote><blockquote><p>Project visible points in eye view back to light source</p></blockquote></li><li>æ¯”è¾ƒæŠ•å½±åˆ°Depth imageä¸Šçš„ç‚¹çš„æ·±åº¦ä¿¡æ¯ï¼Œä¸Depth imageçš„æ·±åº¦ä¿¡æ¯ï¼Œå¯ä»¥å¾—åˆ°ä¸¤ä¸ªç»“æœï¼š<ul><li>(Reprojected) depths match for light and eyeï¼šè¯´æ˜è¯¥ç‚¹èƒ½å¤Ÿè¢«çœ‹è§ï¼Œä¸åœ¨é˜´å½±ä¸­ï¼›</li><li>depths from light and eye are not the sameï¼šè¯¥ç‚¹ä¸èƒ½è¢«çœ‹è§ï¼Œåœ¨é˜´å½±ä¸­ï¼›</li></ul></li></ol><h2 id="å®ä¾‹æ“ä½œè¿‡ç¨‹"><a href="#å®ä¾‹æ“ä½œè¿‡ç¨‹" class="headerlink" title="å®ä¾‹æ“ä½œè¿‡ç¨‹"></a>å®ä¾‹æ“ä½œè¿‡ç¨‹</h2><ol><li><p>The <strong>depth buffer</strong> from the lightâ€™s point-of-view</p><p> <img src="/images/games101/ext/1/step1.png" alt="æ­¥éª¤1"></p></li><li><p>Comparing Dist(light, shading point) with shadow map</p><p> <img src="/images/games101/ext/1/step2.png" alt="æ­¥éª¤2"></p></li></ol><h2 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h2><p><img src="/images/games101/ext/1/shadow_effect.png" alt="æœ‰æ— é˜´å½±æ•ˆæœ"></p><h2 id="é—®é¢˜-1"><a href="#é—®é¢˜-1" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><h3 id="ç²¾åº¦é—®é¢˜"><a href="#ç²¾åº¦é—®é¢˜" class="headerlink" title="ç²¾åº¦é—®é¢˜"></a>ç²¾åº¦é—®é¢˜</h3><blockquote><p>Involves equality comparison of floating point depth values means issues of scale, bias, tolerance.</p></blockquote><p>ç”±äºéœ€è¦åˆ¤æ–­æ·±åº¦ä¿¡æ¯æ˜¯å¦ç›¸ç­‰ï¼Œå½“æ„å»ºé˜´å½±æ—¶ï¼Œä¼šå› ä¸ºæµ®ç‚¹æ•°éš¾ä»¥åˆ¤æ–­ç›¸ç­‰ï¼Œå¯¼è‡´é˜´å½±éå¸¸â€œè„â€ã€‚å¦‚ä¸Šå›¾ä¸­çš„ç»¿è‰²å›¾ç‰‡æ‰€ç¤ºã€‚</p><p>ä¸€äº›æ–¹æ³•ï¼š</p><ul><li>ä¸åˆ¤æ–­ç›¸ç­‰ï¼Œåˆ¤æ–­å¤§å°ï¼›</li><li>åŒæ—¶ï¼ŒåŠ ä¸€ä¸ªå°çš„è¯¯å·®èŒƒå›´ï¼›</li></ul><p>ä½†è¿™äº›æ–¹æ³•ä¸èƒ½æ ¹æœ¬è§£å†³é—®é¢˜ã€‚</p><h3 id="Depth-imageåˆ†è¾¨ç‡çš„å½±å“"><a href="#Depth-imageåˆ†è¾¨ç‡çš„å½±å“" class="headerlink" title="Depth imageåˆ†è¾¨ç‡çš„å½±å“"></a>Depth imageåˆ†è¾¨ç‡çš„å½±å“</h3><blockquote><p>Quality depends on shadow map resolution (general problem with image-based techniques).</p></blockquote><p>å½“shadow mapçš„åˆ†è¾¨ç‡å¾ˆä½æ—¶ï¼Œå…¶å¯¹åº”çš„æ·±åº¦ä¿¡æ¯å¯ä»¥è¦†ç›–å¤šä¸ªé‡æŠ•å½±åˆ°è¯¥å›¾ä¸Šçš„ç‚¹ï¼Œå› æ­¤ä¼šå‡ºç°èµ°æ ·çš„é—®é¢˜ï¼Œå› æ­¤must deal with aliasing artifactsã€‚å¢åŠ åˆ†è¾¨ç‡èƒ½è§£å†³é—®é¢˜ï¼Œä½†æ˜¯å¼€é”€å¢åŠ ã€‚</p><h3 id="åªèƒ½ç”¨äºç‚¹å…‰æº"><a href="#åªèƒ½ç”¨äºç‚¹å…‰æº" class="headerlink" title="åªèƒ½ç”¨äºç‚¹å…‰æº"></a>åªèƒ½ç”¨äºç‚¹å…‰æº</h3><p>è¯¥æ–¹æ³•åªèƒ½å¤„ç†ç‚¹å…‰æºï¼šå› æ­¤å…¶ä¸­çš„é˜´å½±ï¼Œé0å³1ï¼Œå³è¦ä¹ˆåœ¨é˜´å½±ä¸­ï¼Œè¦ä¹ˆä¸åœ¨â€”â€”ç¡¬é˜´å½±ã€‚</p><ul><li>ç¡¬é˜´å½±ï¼šå®Œå…¨çœ‹ä¸åˆ°å…‰ï¼Œç•Œé™æ˜æ˜¾ï¼Œå…‰æºæ˜¯ç‚¹å…‰æºï¼›</li><li>è½¯é˜´å½±ï¼šèƒ½çœ‹åˆ°éƒ¨åˆ†å…‰ï¼Œç•Œé™åœ†æ»‘ï¼Œå…‰æºæœ‰ä¸€å®šå¤§å°ï¼›</li></ul><p><img src="/images/games101/ext/1/hard_vs_soft.png" alt="Hard shadows vs. Soft shadows"></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>å³ä¾¿æœ‰å¾ˆå¤šé—®é¢˜ï¼Œä»ç„¶æ˜¯Well known rendering techniqueï¼›</li><li>Basic shadowing technique for early animations and 3D video gameï¼›</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å…‰æ …åŒ– </tag>
            
            <tag> Rasterization </tag>
            
            <tag> Shadow Mapping </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-12ï¼šGeometry - Mesh Operations</title>
      <link href="/2022/05/06/ji-suan-ji-tu-xing-xue/games/games101-12-geometry-mesh-operations/"/>
      <url>/2022/05/06/ji-suan-ji-tu-xing-xue/games/games101-12-geometry-mesh-operations/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>å‰é¢æåˆ°å¾ˆå¤šå‡ ä½•å›¾å½¢çš„Explicit Representationsï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>triangle meshes</li><li>Bezier curves &amp; surfaces</li><li>point clouds</li></ul><p>è™½ç„¶ä¹‹å‰è¯¦è¿°äº†Bezier curves &amp; surfacesï¼Œä½†æ˜¯åœ¨å›¾å½¢å­¦ä¸­æœ€å¸¸ç”¨çš„æ–¹å¼æ˜¯Polygon Meshï¼Œå› ä¸ºå…¶æœ‰ä¸€äº›å¥½çš„æ€§è´¨ï¼š</p><blockquote><p>Easier to do processing / simulation, adaptive sampling</p></blockquote><p>å› æ­¤ï¼ŒPerhaps most common representation in graphicsã€‚</p><p>å¯¹äºMeshç½‘ç»œï¼Œå…¶å­˜åœ¨å¯¹åº”çš„å‡ ä½•æ“ä½œï¼š</p><ul><li>Mesh subdivisionï¼ˆupsamplingï¼‰ï¼šç»†åŒ–ä¸‰è§’å½¢æ•°é‡ï¼Œå®ç°äº†Increase resolutionçš„æ•ˆæœï¼›  <img src="/images/games101/12/subdivision.png" alt="Mesh subdivision"></li><li>Mesh simplificationï¼ˆdownsamplingï¼‰ï¼šæ­£å¥½ä¸Mesh subdivisionçš„æ•ˆæœç›¸åï¼›<blockquote><p>Decrease resolution; try to preserve shape/appearance.</p></blockquote>  <img src="/images/games101/12/simplify.png" alt="Mesh simplification"></li><li>Mesh regularizationï¼šä½¿æ‰€æœ‰çš„ä¸‰è§’å½¢ç›¸åŒï¼›<blockquote><p>Modify sample distribution to improve quality</p></blockquote>  è¿™ç§æ–¹å¼æœ‰åˆ©äºè§£å†³å› ä¸‰è§’å½¢å¤§å°ä¸åŒå¯¼è‡´çš„æ¸²æŸ“å›°éš¾ç­‰é—®é¢˜ï¼Œåœ¨æ”¹å–„ä¸‰è§’å½¢è¡¨ç¤ºçš„åŒæ—¶ï¼Œä¸èƒ½æŸå¤±æ¨¡å‹çš„è¡¨ç¤ºæ•ˆæœã€‚  <img src="/images/games101/12/regular.png" alt="Mesh regularization"></li></ul><p>è¿™ä¸€èŠ‚ä¸»è¦æ˜¯å¯¹Meshçš„å‡ ä½•æ“ä½œï¼ˆGeometry Processingï¼‰è¿›è¡Œè¯´æ˜ã€‚</p><p><img src="/images/games101/12/gp.png" alt="Geometry Processing"></p><h1 id="Mesh-Subdivision"><a href="#Mesh-Subdivision" class="headerlink" title="Mesh Subdivision"></a>Mesh Subdivision</h1><h2 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h2><p>æ‰€è°“çš„subdivisionå…·ä½“æŒ‡ä¸¤ä¸ªæ“ä½œï¼š</p><ol><li>First, create more triangles (vertices)</li><li>Second, tune their positionsï¼šä½¿å¾—å‡ ä½•å½¢çŠ¶æ›´å¹³æ»‘ï¼›</li></ol><p>è¿™ä¸¤æ­¥æ˜¯ Common subdivision rule for triangle meshesã€‚</p><h2 id="æ–¹æ³•1ï¼šLoop-Subdivision"><a href="#æ–¹æ³•1ï¼šLoop-Subdivision" class="headerlink" title="æ–¹æ³•1ï¼šLoop Subdivision"></a>æ–¹æ³•1ï¼šLoop Subdivision</h2><h3 id="åˆ’åˆ†ä¸‰è§’å½¢"><a href="#åˆ’åˆ†ä¸‰è§’å½¢" class="headerlink" title="åˆ’åˆ†ä¸‰è§’å½¢"></a>åˆ’åˆ†ä¸‰è§’å½¢</h3><p>è¯¥æ–¹æ³•åªé’ˆå¯¹ä¸‰è§’å½¢ï¼Œå°†æ¯æ¡è¾¹çš„ä¸­ç‚¹è¿æ¥ä»è€Œå½¢æˆ4ä¸ªä¸‰è§’å½¢ã€‚</p><blockquote><p>Split each triangle into four.</p></blockquote><p><img src="/images/games101/12/split_tri.png" alt="åˆ’åˆ†ä¸‰è§’å½¢"></p><h3 id="è°ƒæ•´ä½ç½®"><a href="#è°ƒæ•´ä½ç½®" class="headerlink" title="è°ƒæ•´ä½ç½®"></a>è°ƒæ•´ä½ç½®</h3><p>å®Œæˆä¸‰è§’å½¢åˆ’åˆ†åï¼Œéœ€è¦è°ƒæ•´ä¸‰è§’å½¢é¡¶ç‚¹çš„ä½ç½®ã€‚</p><blockquote><p>Assign new vertex positions according to weights</p></blockquote><p>å¯¹äºæ–°çš„é¡¶ç‚¹å’Œæ—§çš„é¡¶ç‚¹é‡‡ç”¨ä¸åŒçš„æ–¹æ³•è¿›è¡Œè°ƒæ•´ã€‚</p><blockquote><p>New / old vertices updated differently</p></blockquote><ul><li>å¯¹æ–°é¡¶ç‚¹ï¼šå¯¹ä¸­å¿ƒçš„æ–°é¡¶ç‚¹ï¼Œå…¶æ–°çš„ä½ç½®å–å†³äºå‘¨å›´çš„æ—§èŠ‚ç‚¹ï¼›  <img src="/images/games101/12/loop_new_pos.png" alt="å¯¹æ–°é¡¶ç‚¹è°ƒæ•´ä½ç½®"></li><li>å¯¹æ—§èŠ‚ç‚¹ï¼šå…¶æ–°çš„ä½ç½®å–å†³äºè‡ªå·±åŸæ¥çš„ä½ç½®ï¼Œå’Œå…¶å‘¨å›´èŠ‚ç‚¹çš„ä½ç½®ã€‚  å¯¹äºä¸€ä¸ªèŠ‚ç‚¹æ¥è¯´ï¼Œå½“å…¶åº¦å¾ˆå¤§çš„æ—¶å€™ï¼Œå…¶è‡ªèº«çš„å½±å“å¯ä»¥å¿½ç•¥ä¸è®¡ï¼›å½“åº¦å¾ˆå°çš„æ—¶å€™ï¼Œå…¶éœ€è¦æ›´å¤šçš„è€ƒè™‘è‡ªèº«ä¹‹å‰çš„èŠ‚ç‚¹ä½ç½®ã€‚  <img src="/images/games101/12/loop_old_pos.png" alt="å¯¹æ—§é¡¶ç‚¹è°ƒæ•´ä½ç½®"></li></ul><h3 id="æ–¹æ³•æ•ˆæœ"><a href="#æ–¹æ³•æ•ˆæœ" class="headerlink" title="æ–¹æ³•æ•ˆæœ"></a>æ–¹æ³•æ•ˆæœ</h3><p><img src="/images/games101/12/ls_effect.png" alt="Loop Subdivisionçš„æ•ˆæœ"></p><h2 id="æ–¹æ³•2ï¼šCatmull-Clark-Subdivision"><a href="#æ–¹æ³•2ï¼šCatmull-Clark-Subdivision" class="headerlink" title="æ–¹æ³•2ï¼šCatmull-Clark Subdivision"></a>æ–¹æ³•2ï¼šCatmull-Clark Subdivision</h2><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>Loop Subdivisionåªèƒ½é’ˆå¯¹ç½‘æ ¼ä¸­çš„ä¸‰è§’å½¢è¿›è¡Œç»†åˆ†ï¼Œæ— æ³•ä½œä¸ºé€šç”¨çš„å‡ ä½•å›¾å½¢ç»†åˆ†æ–¹æ³•ã€‚</p><h3 id="æ¦‚å¿µå®šä¹‰"><a href="#æ¦‚å¿µå®šä¹‰" class="headerlink" title="æ¦‚å¿µå®šä¹‰"></a>æ¦‚å¿µå®šä¹‰</h3><ul><li>Non-quad faceï¼šä¸æ˜¯å››è¾¹å½¢æ„æˆçš„é¢ï¼›</li><li>Extraordinary vertexï¼šé¡¶ç‚¹çš„åº¦ä¸ä¸º4(degree != 4) ï¼›</li></ul><p><img src="/images/games101/12/concept_def.png" alt="æ¦‚å¿µå®šä¹‰"></p><h3 id="å¢åŠ ä¸‰è§’å½¢"><a href="#å¢åŠ ä¸‰è§’å½¢" class="headerlink" title="å¢åŠ ä¸‰è§’å½¢"></a>å¢åŠ ä¸‰è§’å½¢</h3><p>ä¸ºäº†å¢åŠ ä¸‰è§’å½¢ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>Add vertex in each face</li><li>Add midpoint on each edge</li><li>Connect all new vertices</li></ul><p><img src="/images/games101/12/ccs_add_tri.png" alt="å¢åŠ ä¸‰è§’å½¢"></p><p>åœ¨åˆ’åˆ†å½¢çŠ¶çš„è¿‡ç¨‹ä¸­ï¼Œç»è¿‡ä¸€æ¬¡åˆ’åˆ†åï¼š</p><ul><li>extraordinary verticesæ•°é‡ï¼šåŸå§‹extraordinary verticesæ•°é‡+åŸå§‹non-quad facesæ•°é‡</li><li>non-quad facesæ•°é‡ï¼šæ— </li></ul><p>ç»è¿‡ä¸€æ¬¡åˆ’åˆ†åï¼Œä¹‹åextraordinary verticeså’Œnon-quad facesæ•°é‡ä¸å†å˜åŒ–ã€‚</p><h3 id="è°ƒæ•´ä½ç½®-1"><a href="#è°ƒæ•´ä½ç½®-1" class="headerlink" title="è°ƒæ•´ä½ç½®"></a>è°ƒæ•´ä½ç½®</h3><p>å°†é¡¶ç‚¹åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š</p><p><img src="/images/games101/12/tune_pos.png" alt="æ ¹æ®ä¸åŒç±»å‹è°ƒæ•´é¡¶ç‚¹ä½ç½®"></p><h1 id="Mesh-simplification"><a href="#Mesh-simplification" class="headerlink" title="Mesh simplification"></a>Mesh simplification</h1><h2 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h2><blockquote><p>reduce number of mesh elements while maintaining the overall shape.</p></blockquote><p><img src="/images/games101/12/simple_goal.png" alt="Mesh simplification"></p><p>ä¸åŒçš„åœºæ™¯ä¸‹ï¼Œé€‰æ‹©çš„ä¸‰è§’å½¢çš„æ•°é‡ä¹Ÿä¸åŒï¼Œä¸»è¦æ˜¯è€ƒè™‘æ€§èƒ½ã€å­˜å‚¨ç©ºé—´ï¼Œæˆ–è€…ä¸éœ€è¦è€ƒè™‘ç»†èŠ‚ã€‚</p><h2 id="ä¸€ç§æ–¹æ³•ï¼šCollapsing-An-Edge"><a href="#ä¸€ç§æ–¹æ³•ï¼šCollapsing-An-Edge" class="headerlink" title="ä¸€ç§æ–¹æ³•ï¼šCollapsing An Edge"></a>ä¸€ç§æ–¹æ³•ï¼šCollapsing An Edge</h2><h3 id="å«ä¹‰-1"><a href="#å«ä¹‰-1" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h3><blockquote><p>simplify a mesh using <strong>edge collapsing</strong></p></blockquote><p>å³å°†ä¸€æ¡è¾¹è½¬æ¢ä¸ºä¸€ä¸ªé¡¶ç‚¹ã€‚</p><h3 id="Collapseå“ªæ¡è¾¹â€”Quadric-Error-Metrics"><a href="#Collapseå“ªæ¡è¾¹â€”Quadric-Error-Metrics" class="headerlink" title="Collapseå“ªæ¡è¾¹â€”Quadric Error Metrics"></a>Collapseå“ªæ¡è¾¹â€”Quadric Error Metrics</h3><p>åœ¨ç¡®å®šé€šè¿‡åç¼©ä¸€æ¡è¾¹æ¥ç®€åŒ–å›¾å½¢åï¼Œä¸€ä¸ªé—®é¢˜æ˜¯ï¼šåº”è¯¥åç¼©å“ªæ¡è¾¹ï¼Œèƒ½å¤Ÿä¿æŒåŸæ¥çš„å‡ ä½•å½¢çŠ¶ï¼Ÿæˆ–è®¸è¿™ä¸ªé—®é¢˜æ¢ç§è¯´æ³•ï¼šåç¼©åçš„è¾¹å½¢æˆçš„èŠ‚ç‚¹åº”è¯¥åœ¨ä»€ä¹ˆä½ç½®ï¼Œä½¿å¾—èƒ½å¤Ÿä¿æŒå‡ ä½•å½¢çŠ¶ï¼Ÿå˜ä¸ºè¿™ä¸ªé—®é¢˜åï¼Œå°±ä¸ç”¨åˆ¤æ–­å“ªæ¡è¾¹é‡è¦ï¼Œåªè¦èƒ½å¤Ÿä¿æŒåŸæœ‰å½¢çŠ¶ï¼Œç¡®å®šæ–°èŠ‚ç‚¹çš„ä½ç½®å³å¯ã€‚</p><p>å¦‚ä½•ç¡®å®šæ–°èŠ‚ç‚¹çš„ä½ç½®å‘¢ï¼Ÿ</p><ul><li>å–ç›¸é‚»ç‚¹çš„å¹³å‡å€¼ï¼›</li><li>å–åç¼©ç‚¹çš„å¹³å‡å€¼ï¼›</li><li>â€¦â€¦</li></ul><p>Quadric Error Metricsï¼ˆâ¼†æ¬¡è¯¯å·®åº¦é‡ï¼‰ç”¨ä¸€ç§åº¦é‡çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯¥æ–¹æ³•é—®ä¸€ä¸ªé—®é¢˜ï¼š</p><blockquote><p>How much geometric error is introduced by simplification?</p></blockquote><p>å…¶æ€æƒ³åœ¨äºï¼š</p><blockquote><p>Quadric error: new vertex should minimize its <strong>sum of square distance (L2 distance) to previously related triangle planes</strong>!</p></blockquote><p><img src="/images/games101/12/qem_compare.png" alt="Quadric Error Metricsä¸å…¶ä»–æ–¹æ³•å¯¹æ¯”"></p><p>å› ä¸º Quadric Error Metrics èƒ½å¤Ÿç¡®å®šæ–°çš„é¡¶ç‚¹ä½ç½®ï¼Œå› æ­¤ç¡®å®šåç¼©å“ªæ¡è¾¹ï¼Œå¯ä»¥è½¬æ¢ä¸ºï¼šåç¼© Quadric Error Metrics æœ€å°çš„è¾¹ï¼Œè¿™æ ·ä¿è¯èƒ½å¤Ÿä¿æŒåŸæœ‰çš„å½¢çŠ¶ï¼Œç„¶åå†ä¸€æ¬¡åç¼©ç¬¬äºŒå°çš„ï¼Œç­‰ç­‰ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•åç¼©å‡ ä½•å›¾å½¢å‘¢ï¼Ÿä¸€ç§æ–¹å¼æ˜¯å¯¹æ•´ä¸ªå‡ ä½•å›¾å½¢çš„æ‰€æœ‰è¾¹éƒ½è¿›è¡Œåç¼©ï¼Œç„¶åè®¡ç®—æ¯æ¬¡åç¼©æ“ä½œå¯¹åº”çš„Quadric Errorï¼Œç„¶åæ’åºï¼Œå–æœ€å°è¯¯å·®å¯¹åº”çš„è¾¹è¿›è¡Œåç¼©ã€‚</p><p><strong>ä¸€ä¸ªé—®é¢˜ï¼šå½“åç¼©ä¸€æ¡è¾¹åï¼Œå…¶è¿æ¥çš„è¾¹ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œä¹‹å‰å¯¹åº”è¯¥è¾¹çš„Quadric Errorä¹Ÿå°±å‘ç”Ÿäº†å˜åŒ–ã€‚å³Quadric Erroréšåç¼©è¿‡ç¨‹ä¼šå‘ç”ŸåŠ¨æ€å˜åŒ–ã€‚</strong></p><p><img src="/images/games101/12/dynamic.png" alt="ä¸€æ¡è¾¹åç¼©ä¼šå¼•èµ·å…¶ä»–è¾¹å‘ç”Ÿå˜åŒ–"></p><p>å› æ­¤ï¼Œä¸Šè¿°çš„åšæ³•æ˜¯è¡Œä¸é€šçš„ã€‚</p><p>å®é™…çš„åšæ³•æ˜¯ï¼š</p><ol><li>é¦–å…ˆå¯¹æ•´ä¸ªå‡ ä½•ç‰©ä½“çš„æ¯æ¡è¾¹è¿›è¡Œåç¼©ï¼Œå–æœ€å°Quadric Errorå¯¹åº”çš„è¾¹ï¼›</li><li>å°†ä¸è¯¥è¾¹è¿æ¥çš„å…¶ä»–è¾¹å¯¹åº”çš„Quadric Erroræ›´æ–°ï¼Œå†è®¡ç®—å‰©ä½™æœ€å°Quadric Errorå¯¹åº”çš„è¾¹ï¼›</li><li>å¯¹ä¸Šè¿°è¿‡ç¨‹ä¸æ–­é‡å¤ï¼›</li></ol><p>è¯¥è¿‡ç¨‹éœ€è¦åº”ç”¨æœ‰ä¼˜å…ˆé˜Ÿåˆ—æˆ–è€…å †æ¥å®ç°ã€‚</p><p><strong>ä¸€ä¸ªé—®é¢˜ï¼šæŒ‰ç…§ä¸Šè¿°è¿‡ç¨‹çš„é¡ºåºå¾—åˆ°çš„æ‰€æœ‰è¾¹ï¼Œå¯¹åº”çš„Quadric Errorä¹Ÿæ˜¯ä»æœ€å°åˆ°æœ€å¤§å—ï¼Ÿæ˜¾ç„¶ä¸ä¸€å®šï¼Œå…¶åªæ˜¯å±€éƒ¨æœ€å°ï¼Œå› æ­¤æ˜¯é€šè¿‡ç”¨å±€éƒ¨æœ€å°ä»£æ›¿å…¨å±€æœ€å°</strong>â€”â€”greedy algorithmã€‚ä½†æ˜¯åœ¨å®é™…ä¸­ï¼Œè¿™ç§æ–¹æ³•çš„æ•ˆæœå¾—åˆ°äº†è®¤å¯ã€‚</p><h3 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h3><p><img src="/images/games101/12/collapse_effect.png" alt="Untitled"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Geometry </tag>
            
            <tag> Mesh </tag>
            
            <tag> Mesh Operations </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-11-2ï¼šGeometry - BÃ©zier Surfaces</title>
      <link href="/2022/05/06/ji-suan-ji-tu-xing-xue/games/games101-11-2-geometry-bezier-surfaces/"/>
      <url>/2022/05/06/ji-suan-ji-tu-xing-xue/games/games101-11-2-geometry-bezier-surfaces/</url>
      
        <content type="html"><![CDATA[<h1 id="Bezier-Surfaces"><a href="#Bezier-Surfaces" class="headerlink" title="BÃ©zier Surfaces"></a>BÃ©zier Surfaces</h1><blockquote><p>Extend BÃ©zier curves to surfaces.</p></blockquote><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p><img src="/images/games101/11/2/bs.png" alt="BÃ©zier Surfacesä¾‹å­"></p><h2 id="ç»˜åˆ¶Bezier-Surfaces"><a href="#ç»˜åˆ¶Bezier-Surfaces" class="headerlink" title="ç»˜åˆ¶BÃ©zier Surfaces"></a>ç»˜åˆ¶BÃ©zier Surfaces</h2><h3 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><blockquote><p>Bezier surface and 4 x 4 array of control points.</p></blockquote><p><img src="/images/games101/11/2/bs_patch.png" alt="Bicubic BÃ©zier Surface Patch"></p><h3 id="å…·ä½“æ“ä½œ"><a href="#å…·ä½“æ“ä½œ" class="headerlink" title="å…·ä½“æ“ä½œ"></a>å…·ä½“æ“ä½œ</h3><p>ä»¥bi-cubic Bezier surfaceä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</p><ul><li>è¾“å…¥ï¼š$4 \times 4$ control pointsï¼›</li><li>è¾“å‡ºï¼š2D surface parameterized by $(u,v)$ in $[0,1]^2$ï¼›</li></ul><p>ä¸BÃ©zier curvesåŒæ ·çš„è¿‡ç¨‹ï¼Œåªä¸è¿‡è¿™é‡Œæ˜¯åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šè¿›è¡ŒåŒçº¿æ€§æ’å€¼ã€‚</p><p><img src="/images/games101/11/2/step1.png" alt="æ­¥éª¤1"></p><p>è¯¥æ–¹æ³•ç§°ä¹‹ä¸ºâ€”â€”Separable 1D de Casteljau Algorithmã€‚ç”±äºåœ¨è´å¡å°”æ›²çº¿çš„ç”Ÿæˆä¸­ï¼Œéœ€è¦åˆ©ç”¨ä¸€ä¸ªæ—¶é—´ $t$ æ¥ç”Ÿæˆå¯¹åº”çš„æ›²çº¿ï¼Œæ³›åŒ–åˆ°ä¸‰ç»´ç©ºé—´ä¸­ï¼Œåˆ™éœ€è¦ä¸¤ä¸ªæ—¶é—´æ¥ç”Ÿæˆæ›²é¢ï¼Œè¿™é‡Œå®šä¹‰ä¸º $u, v$ã€‚ </p><p>å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>é¦–å…ˆï¼Œåœ¨æ—¶é—´ $u$ æ–¹å‘ä¸Šç”Ÿæˆå¯¹åº”çš„è´å¡å°”æ›²çº¿ï¼Œè¿™é‡Œå®šä¹‰ä½¿ç”¨ $4 \times 4$ çš„æ§åˆ¶ç‚¹æ„å»ºæ›²é¢ï¼Œå› æ­¤è¿™ä¸€æ­¥éœ€è¦ç”Ÿæˆ4æ¡å¯¹åº”çš„è´å¡å°”æ›²çº¿ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ä»»æ„æ—¶é—´ $u_i$ ä¸‹çš„æœ€ç»ˆçš„æ’å€¼ç»“æœã€‚</li><li>å°†ç¬¬ä¸€æ­¥å¾—åˆ°çš„4ä¸ªæ’å€¼ç‚¹è§†ä¸º $v$ æ–¹å‘ä¸Šçš„æ§åˆ¶ç‚¹ï¼Œç„¶åå†è¿›è¡ŒåŒæ ·çš„æ’å€¼æ“ä½œï¼Œç„¶åå½¢æˆæ›²é¢ä¸Šçš„ä¸€ä¸ªç‚¹ï¼›</li><li>æŒ‰ç…§ä¸Šè¿°è¿‡ç¨‹ï¼Œä¸æ–­é€’å½’ï¼Œä»è€Œå½¢æˆæœ€ç»ˆæ‰€æœ‰çš„æ›²é¢ä¸Šçš„ç‚¹ã€‚</li></ol><p><img src="/images/games101/11/2/step2.png" alt="æ­¥éª¤2"></p><p>åŠ¨ç”»æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/images/games101/11/2/animation_effect.gif" alt="åŠ¨ç”»æ•ˆæœ"></p><h2 id="è¿›ä¸€æ­¥é˜…è¯»"><a href="#è¿›ä¸€æ­¥é˜…è¯»" class="headerlink" title="è¿›ä¸€æ­¥é˜…è¯»"></a>è¿›ä¸€æ­¥é˜…è¯»</h2><p>è¿™é‡Œç±»ä¼¼ä¹‹å‰åœ¨æ›²çº¿ä¸­è®¨è®ºçš„é—®é¢˜ï¼Œå¦‚ï¼š</p><ul><li>å„ä¸ªæ›²é¢å¦‚ä½•æ‹¼æ¥ï¼›</li><li>å¦‚æœä¿è¯æ›²é¢æ‹¼æ¥çš„â€œå¹³æ»‘â€ï¼›</li></ul><p>åœ¨æ›²çº¿ä¸­é‡åˆ°çš„é—®é¢˜åœ¨è¿™é‡Œå‡ä¼šé‡åˆ°ï¼Œå¯¹äºè¿›ä¸€æ­¥çš„å­¦ä¹ å¯ä»¥å‚è€ƒä¹‹å‰åœ¨æ›²çº¿ä¸­æåˆ°çš„å‚è€ƒèµ„æ–™ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Geometry </tag>
            
            <tag> BÃ©zier Surfaces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-11-1ï¼šGeometry - Curves</title>
      <link href="/2022/05/04/ji-suan-ji-tu-xing-xue/games/games101-11-1-geometry-curves/"/>
      <url>/2022/05/04/ji-suan-ji-tu-xing-xue/games/games101-11-1-geometry-curves/</url>
      
        <content type="html"><![CDATA[<h1 id="Explicit-Representations"><a href="#Explicit-Representations" class="headerlink" title="Explicit Representations"></a>Explicit Representations</h1><h2 id="Point-Cloud"><a href="#Point-Cloud" class="headerlink" title="Point Cloud"></a>Point Cloud</h2><ul><li>Easiest representation: list of points $(x,y,z)$<ul><li>ä¸ç›´æ¥å¯¹å‡ ä½•è¡¨é¢è¿›è¡Œè¡¨ç¤ºï¼Œè€Œæ˜¯å¯¹æ„æˆå›¾å½¢çš„ç‚¹çš„é›†åˆè¿›è¡Œè¡¨ç¤ºï¼›</li></ul></li><li>Easily represent any kind of geometry<ul><li>åªè¦ç‚¹è¶³å¤Ÿå¤šå’Œå¯†é›†ï¼Œå°±èƒ½å¤Ÿè¡¨ç¤ºä»»æ„çš„å‡ ä½•ç‰©ä½“ï¼›</li></ul></li><li>Useful for LARGE datasets (&gt;&gt;1 point/pixel)</li><li>Often converted into polygon mesh</li><li>Difficult to draw in undersampled regions<ul><li>å½“ç‚¹ä¸å¤Ÿå¯†é›†æ—¶ï¼Œåˆ™æ— æ³•æ„æˆå¹³é¢ï¼›</li></ul></li></ul><p><img src="/images/games101/11/1/cloud.png" alt="Point Cloud"></p><h2 id="Polygon-Mesh"><a href="#Polygon-Mesh" class="headerlink" title="Polygon Mesh"></a>Polygon Mesh</h2><ul><li>Perhaps most common representation in graphics<ul><li>æœ€å¹¿æ³›çš„åº”ç”¨</li></ul></li><li>Store vertices &amp; polygons (often triangles or quads)</li><li>Easier to do processing / simulation, adaptive sampling</li><li>More complicated data structures</li></ul><p><img src="/images/games101/11/1/mesh.png" alt="Polygon Mesh"></p><h2 id="The-Wavefront-Object-File-obj-Format"><a href="#The-Wavefront-Object-File-obj-Format" class="headerlink" title="The Wavefront Object File (.obj) Format"></a>The Wavefront Object File (.obj) Format</h2><ul><li>è¯¥æ–‡ä»¶æ ¼å¼ç”¨äºè¡¨ç¤ºä¸‰è§’å½¢é¢å½¢æˆçš„ç‰©ä½“</li><li>Just a text file that specifies vertices, normals, texture coordinates and their connectivities</li><li>å…¶ä¸­ï¼š<ul><li>vï¼šè¡¨ç¤ºé¡¶ç‚¹å‘é‡ï¼›</li><li>vtï¼šè¡¨ç¤ºçº¹ç†åæ ‡ï¼›</li><li>vnï¼šè¡¨ç¤ºé¡¶ç‚¹çš„æ³•çº¿å‘é‡ï¼›</li><li>fï¼šè¡¨ç¤ºä¸‰è§’å½¢çš„å„ä¸ªé¢ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„è¿æ¥å…³ç³»ï¼Œå…¶ä¸­ä¸‰ä¸ªåºå·ä¾æ¬¡ä¸ºï¼šé¡¶ç‚¹å‘é‡ã€çº¹ç†åæ ‡ã€æ³•çº¿å‘é‡ï¼›<ul><li>ä¾‹å¦‚ï¼š5/1/1    1/2/1    4/3/1 è¡¨ç¤ºç¬¬5ã€1ã€4ä¸ªé¡¶ç‚¹æ„æˆä¸‰è§’å½¢ï¼Œæ¯ä¸ªé¡¶ç‚¹å¯¹åº”çš„çº¹ç†åæ ‡å¯¹åº”ç¬¬1ã€2ã€3ä¸ªï¼Œæ³•çº¿å‘é‡å¯¹åº”1ã€1ã€1ä¸ªã€‚</li></ul></li></ul></li></ul><p><img src="/images/games101/11/1/obj.png" alt="The Wavefront Object File"></p><h1 id="Bezier-Curves"><a href="#Bezier-Curves" class="headerlink" title="BÃ©zier Curves"></a>BÃ©zier Curves</h1><p>è¿™æ˜¯ä¸€ç§å¯¹äºæ›²çº¿æ˜¾å¼è¡¨ç¤ºçš„æ–¹æ³•ã€‚</p><h2 id="Idea"><a href="#Idea" class="headerlink" title="Idea"></a>Idea</h2><p>ç”¨ä¸€ç³»åˆ—çš„æ§åˆ¶ç‚¹æ¥è¡¨ç¤ºæ›²çº¿ï¼Œä»¥æ»¡è¶³å…¶ç‰¹å®šçš„æ€§è´¨ã€‚</p><p>å…¶ä¸­ï¼š</p><ul><li>æ§åˆ¶ç‚¹èƒ½å”¯ä¸€ç¡®å®šä¸€æ¡æ›²çº¿ï¼›</li><li>ä½†æ˜¯ä¸è¦æ±‚æ›²çº¿èƒ½ç»è¿‡æ§åˆ¶ç‚¹ï¼Œæ›²çº¿åªéœ€è¦ç»è¿‡èµ·ç‚¹å’Œç»ˆç‚¹ï¼›</li></ul><p><img src="/images/games101/11/1/bc.png" alt="BÃ©zier Curves"></p><h2 id="ç»˜åˆ¶Bezier-Curves"><a href="#ç»˜åˆ¶Bezier-Curves" class="headerlink" title="ç»˜åˆ¶BÃ©zier Curves"></a>ç»˜åˆ¶BÃ©zier Curves</h2><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>å¦‚æœåˆ©ç”¨ä»»æ„å¤šä¸ªæ§åˆ¶ç‚¹ï¼Œç»˜åˆ¶ä¸€æ¡BÃ©zier Curvesï¼Ÿ</p><h3 id="è§£å†³æ–¹æ³•ï¼šde-Casteljau-Algorithm"><a href="#è§£å†³æ–¹æ³•ï¼šde-Casteljau-Algorithm" class="headerlink" title="è§£å†³æ–¹æ³•ï¼šde Casteljau Algorithm"></a>è§£å†³æ–¹æ³•ï¼šde Casteljau Algorithm</h3><p>è¯¥ç®—æ³•å¯ä»¥åˆ©ç”¨æ§åˆ¶ç‚¹ç”Ÿæˆæ›²çº¿ï¼Œå…¶æœ¬è´¨æ˜¯åœ¨ä¸åŒçš„çº¿æ®µä¸Šè¿›è¡Œæ’å€¼ï¼Œç„¶åå°†æ‰€æœ‰çš„æ’å€¼ç‚¹è§†ä¸ºåŸºç¡€ç‚¹ï¼Œä¸æ–­é€’å½’ï¼Œç›´åˆ°æœ€ç»ˆçš„ç»“æœä¸­åªæœ‰ä¸€ä¸ªæ’å€¼ç‚¹ï¼Œè¯¥æ’å€¼ç‚¹å³åœ¨ç”Ÿæˆçš„æ›²çº¿ä¸Šã€‚</p><p>ä¸ºäº†ç†è§£è¿™ä¸ªç®—æ³•çš„è¿‡ç¨‹ï¼Œä¸‹è¾¹ä»ï¼š</p><ul><li>å‡ ä½•è§’åº¦ï¼›</li><li>ä»£æ•°è§’åº¦ï¼›</li></ul><p>ä¸¤ä¸ªæ–¹é¢ç†è§£è¿™ä¸ªç®—æ³•ã€‚</p><h3 id="å‡ ä½•è§’åº¦"><a href="#å‡ ä½•è§’åº¦" class="headerlink" title="å‡ ä½•è§’åº¦"></a>å‡ ä½•è§’åº¦</h3><p>ä¸ºäº†è¯´æ˜ï¼Œè€ƒè™‘æœ‰ä¸‰ä¸ªæ§åˆ¶ç‚¹çš„æƒ…å†µï¼ˆè¿™ç§æƒ…å†µä¸‹ç”Ÿæˆçš„æ›²çº¿ç§°ä¸ºquadratic Bezierï¼‰ã€‚</p><p>åœ¨å¦‚ä¸‹3ä¸ªæ§åˆ¶ç‚¹ä¸­ï¼Œ$\bf{b}_0$ã€$\bf{b}_2$ åˆ†åˆ«ä¸ºèµ·ç‚¹å’Œç»ˆç‚¹ï¼Œ$\bf{b}_1$ ç¡®å®šæ›²çº¿çš„å¼¯æ›²æ–¹å‘ã€‚é‚£ä¹ˆå¦‚ä½•æ§åˆ¶æ›²çº¿çš„ç”Ÿæˆå‘¢ï¼Ÿ</p><p>ä¸€ç§æ–¹å¼æ˜¯ï¼Œä¸ºäº†ä» $\bf{b}_0$ åˆ° $\bf{b}_2$ ç»˜åˆ¶æ›²çº¿ï¼Œå°†ä» $\bf{b}_0$ å¼€å§‹çš„æ—¶é—´å®šä¸º0ï¼Œåˆ° $\bf{b}_2$ çš„æ—¶é—´å®šä¸º1ï¼Œé‚£ä¹ˆæ›²çº¿çš„ç»˜åˆ¶è¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯æ‰¾åˆ°åœ¨ $[0, 1]$ æ—¶é—´èŒƒå›´å†…ï¼Œæ›²çº¿ä¸Šçš„ç‚¹çš„ä½ç½®ã€‚å› æ­¤ï¼Œå°†ç»˜åˆ¶æ›²çº¿çš„ç®—æ³•è½¬æ¢ä¸ºå®šä½ä¸€ä¸ªç‚¹çš„ä½ç½®çš„æ–¹æ³•ã€‚</p><p>å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>Insert a point using linear interpolation å…·ä½“æ¥è¯´ï¼Œå³åœ¨$\bf{b}_0$ã€$\bf{b}_1$ä¹‹é—´æ’å€¼ä¸€ä¸ªç‚¹ $\mathbf{b}_0^1$ ï¼Œä½¿å¾—ï¼š $$<br> \mathbf{b}_0^1 = (1 - t) \mathbf{b}_0 + t \bf{b}_1<br> $$</li><li>Insert on both edges ä½¿ç”¨åŒæ ·çš„æ–¹å¼åœ¨$\bf{b}_1$ã€$\bf{b}_2$ä¹‹é—´æ’å€¼ä¸€ä¸ªç‚¹ $\mathbf{b}_1^1$ ï¼Œä½¿å¾—ï¼š $$<br> \mathbf{b}_1^1 = (1 - t) \mathbf{b}_1 + t \bf{b}_2<br> $$</li><li>Repeat recursively æŒ‰ç…§ä¸Šè¿°æ–¹å¼è¿›è¡Œé€’å½’è®¡ç®—ï¼Œåœ¨$\mathbf{b}_0^1$ å’Œ $\mathbf{b}_1^1$ä¸¤ä¸ªæ’å€¼ç‚¹ä¹‹é—´å†è¿›è¡Œæ’å€¼å¾—åˆ°æ–°çš„æ’å€¼ç‚¹ $\mathbf{b}_0^2$ ï¼Œä½¿å¾—ï¼š $$<br> \mathbf{b}_0^2 = (1 - t) \mathbf{b}_0^1 + t \mathbf{b}_1^1<br> $$ é—®é¢˜æ˜¯ï¼šé€’å½’çš„ç»“æŸæ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿå½“æ’å€¼ç‚¹åªæœ‰ä¸€ä¸ªæ—¶ï¼Œå³å®Œæˆäº†é€’å½’è¿‡ç¨‹ã€‚å¦‚åˆ©ç”¨3ä¸ªæ§åˆ¶ç‚¹ç”Ÿæˆæ›²çº¿çš„è¿‡ç¨‹ä¸­ï¼š<ul><li>ç¬¬1æ¬¡æ’å€¼ï¼šå¾—åˆ°2ä¸ªæ’å€¼ç‚¹ $\mathbf{b}_0^1$ å’Œ $\mathbf{b}_1^1$ï¼›</li><li>ç¬¬2æ¬¡æ’å€¼ï¼šå¾—åˆ°1ä¸ªæ’å€¼ç‚¹ $\mathbf{b}_0^2$ ï¼›</li></ul></li><li>Run the same algorithm for every t in $[0,1]$ å¯¹äºèŒƒå›´$[0,1]$ ä¸­çš„æ¯ä¸ª $t_i$ï¼Œå‡è¿›è¡Œä¸Šè¿°è¿‡ç¨‹ï¼Œå³å®Œæˆäº†æ›²çº¿çš„ç»˜åˆ¶ã€‚</li></ol><p><img src="/images/games101/11/1/casteljau.png" alt="de Casteljau Algorithm"></p><p>å¯¹äº4ä¸ªæ§åˆ¶ç‚¹ç”Ÿæˆæ›²çº¿ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/images/games101/11/1/cubic_bc.png" alt="Cubic BÃ©zier Curve"></p><p><strong>åŠ¨ç”»æ•ˆæœå¦‚ä¸‹ï¼š</strong></p><blockquote><p>å‚è€ƒèµ„æ–™ï¼šAnimation: Steven Wittens, Making Things with Maths, <a href="http://acko.net/">http://acko.net</a></p></blockquote><p><img src="/images/games101/11/1/bc_animation.gif" alt="è´å¡å°”æ›²çº¿åŠ¨ç”»"></p><h3 id="ä»£æ•°è§’åº¦"><a href="#ä»£æ•°è§’åº¦" class="headerlink" title="ä»£æ•°è§’åº¦"></a>ä»£æ•°è§’åº¦</h3><p>åœ¨è¯¥ç®—æ³•ä¸­ï¼Œé€šè¿‡å¯¹æ§åˆ¶ä¹‹é—´çš„çº¿æ®µä¸æ–­è¿›è¡Œæ’å€¼ï¼Œå¾—ä»¥å¾—åˆ°å¦‚ä¸‹çš„é‡‘å­—å¡”å½¢çŠ¶ã€‚</p><p><img src="/images/games101/11/1/coef.png" alt="de Casteljau Algorithmç³»æ•°è®¡ç®—"></p><ul><li>Every rightward arrow is multiplication by $t$ ;</li><li>Every leftward arrow by $(1â€“t)$ ;</li></ul><p>å¯¹äº<strong>3ä¸ªæ§åˆ¶ç‚¹</strong>å½¢æˆçš„è´å¡å°”æ›²çº¿ï¼Œå¯ä»¥å¾—åˆ°ï¼š</p><p>$$<br>\begin{array}{l}<br>\mathbf{b}_0^1 (t)= (1-t) \mathbf{b}_0+t \mathbf{b}_1 \\<br>\mathbf{b}_1^1 (t)= (1-t) \mathbf{b}_1+t \mathbf{b}_2<br>\end{array}<br>$$</p><p>$$<br>\begin{array}{l}<br>\mathbf{b}_0^2(t) = (1 - t) \mathbf{b}_0^1 + t \mathbf{b}_1^1<br>\\<br>\mathbf{b}_0^2(t)=(1-t)^2 \mathbf{b}_0+2 t(1-t) \mathbf{b}_1+t^2 \mathbf{b}_2<br>\end{array}<br>$$</p><h3 id="ç³»æ•°å±•å¼€å¼"><a href="#ç³»æ•°å±•å¼€å¼" class="headerlink" title="ç³»æ•°å±•å¼€å¼"></a>ç³»æ•°å±•å¼€å¼</h3><p>å¯¹äº $n+1$ ä¸ªæ§åˆ¶ç‚¹ï¼Œå¯ä»¥è¿›è¡Œ $n$ æ¬¡æ’å€¼è®¡ç®—ï¼Œå…¶ä¸­ç”Ÿæˆçš„è´å¡å°”æ›²çº¿ä¸Šçš„ä»»æ„ä¸€ç‚¹å‡æ˜¯æ§åˆ¶ç‚¹å‘é‡çš„çº¿æ€§ç»„åˆï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>$$<br>\mathbf{b}^{n}(t)=\mathbf{b}_{0}^{n}(t)= \sum_{j=0}^n \mathbf{b}_j B_j^n (t)<br>$$</p><!-- $$\mathbf{b}^{n}(t)=\mathbf{b}_{0}^{n}(t)=\sum_{j=0}^{n} \mathbf{b}_{j} B_{j}^{n}(t)$$ --><p>å…¶ä¸­ï¼š</p><ul><li>$\mathbf{b}^{n}(t)$ : BÃ©zier curve order $n$ (vector polynomial of degree $n$);</li><li>$\mathbf{b}_{j}$ : BÃ©zier control points (vector in $\mathbf{R}^N$);</li><li>$B_{j}^{n}(t)$ : Bernstein polynomial (scalar polynomial of degree $n$);</li></ul><p>è¯¥çº¿æ€§ç»„åˆçš„ç³»æ•° $B_{j}^{n}(t)$ æ˜¯ä¸€ä¸ªä¸æ—¶é—´ $t$ æœ‰å…³çš„å¤šé¡¹å¼ï¼Œç§°ä¹‹ä¸ºBernstein polynomialï¼Œå¦‚ä¸‹ï¼š</p><p>$$<br>B_{i}^{n}(t)=\left(\begin{array}{l}n \\ i\end{array}\right) t^{i}(1-t)^{n-i}<br>$$</p><p>æ•´ä¸ªBernstein polynomialå…¶å®æ˜¯ä¸€ä¸ªäºŒé¡¹åˆ†å¸ƒï¼Œå› æ­¤å¯¹äºä»»æ„çš„næ¬¡å±•å¼€å¼ï¼Œå…¶æ‰€æœ‰å¯¹åº”çš„ç³»æ•°ä¹‹å’Œä¸º1ã€‚</p><p><img src="/images/games101/11/1/bp1.png" alt="Bernstein polynomialç³»æ•°å’Œä¸ºï¼‘"></p><p>å…¶ä¸­ï¼Œæ§åˆ¶ç‚¹ä¸ä¸€å®šæ˜¯2Dçš„ï¼Œä¹Ÿå¯ä»¥æ˜¯3Dç©ºé—´ä¸­çš„ï¼Œä¾‹å¦‚å¯¹äº4ä¸ª3Dçš„æ§åˆ¶ç‚¹å¦‚ä¸‹ï¼š</p><p>$$<br>\mathbf{b}_0=(0,2,3), \mathbf{b}_1=(2,3,5), \mathbf{b}_2=(6,7,9), \mathbf{b}_3=(3,4,5)<br>$$</p><p>å¯ä»¥å¾—çŸ¥ä»»æ„æ—¶é—´ t ä¸‹ï¼Œå¯¹åº”çš„æ›²çº¿ä¸Šçš„ç‚¹ä¸ºï¼š</p><p>$$<br>\mathbf{b}^n (t)=\mathbf{b}_0 (1-t)^3 +\mathbf{b}_1 3 t(1-t)^2 +\mathbf{b}_2 3 t^2 (1-t)+\mathbf{b}_3 t^3<br>$$</p><h2 id="Bezier-Curvesçš„æ€§è´¨"><a href="#Bezier-Curvesçš„æ€§è´¨" class="headerlink" title="BÃ©zier Curvesçš„æ€§è´¨"></a>BÃ©zier Curvesçš„æ€§è´¨</h2><ol><li>Interpolates endpoints å¯¹äº4ä¸ªæ§åˆ¶ç‚¹ï¼ˆcubic BÃ©zierï¼‰ï¼Œåˆ™æœ‰ï¼š $$<br> \mathbf{b}(0)=\mathbf{b}_0 ; \quad \mathbf{b}(1)=\mathbf{b}_3<br> $$</li><li>Tangent to end segments å¯¹äº4ä¸ªæ§åˆ¶ç‚¹ï¼ˆcubic BÃ©zierï¼‰ï¼Œåˆ™æœ‰ï¼š $$<br> \mathbf{b}^{\prime}(0)=3\left(\mathbf{b}_1 -\mathbf{b}_0 \right) ; \quad \mathbf{b}^{\prime}(1)=3\left(\mathbf{b}_3 -\mathbf{b}_2 \right)<br> $$</li><li>Affine transformation property<blockquote><p>Transform curve by transforming control points.</p></blockquote> å¯¹äºè´å¡å°”æ›²çº¿ä¸­çš„æ¯ä¸ªç‚¹è¿›è¡Œä»¿å°„å˜æ¢å¾—åˆ°çš„è´å¡å°”æ›²çº¿ï¼Œä¸å¯¹è´å¡å°”æ›²çº¿çš„æ§åˆ¶ç‚¹è¿›è¡Œä»¿å°„å˜æ¢ç„¶åå†ç”Ÿæˆçš„è´å¡å°”æ›²çº¿ä¸€è‡´ã€‚å› æ­¤ï¼Œè‹¥è¦å¯¹è´å¡å°”æ›²çº¿è¿›è¡Œä»¿å°„å˜æ¢ï¼Œåªéœ€è¦å¯¹å…¶æ§åˆ¶ç‚¹è¿›è¡Œå˜æ¢å³å¯ï¼Œç„¶åå†ç”Ÿæˆæ›²çº¿ã€‚ è¿™ä¸ªæ€§è´¨åªé’ˆå¯¹ä»¿å°„å˜æ¢ï¼Œåœ¨æŠ•å½±ç­‰å˜æ¢ä¸‹ä¸æˆç«‹ã€‚</li><li>Convex hull property <a href="https://zh.wikipedia.org/zh-hans/%E5%87%B8%E5%8C%85">å‡¸åŒ…</a>æ€§è´¨<blockquote><p>Curve is within convex hull of control points.</p></blockquote></li></ol><h1 id="Piecewise-Bezier-Curves"><a href="#Piecewise-Bezier-Curves" class="headerlink" title="Piecewise BÃ©zier Curves"></a>Piecewise BÃ©zier Curves</h1><h2 id="é—®é¢˜-1"><a href="#é—®é¢˜-1" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>Higher-Order BÃ©zier Curvesä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼š</p><ul><li>å½“æ§åˆ¶ç‚¹å¾ˆå¤šæ—¶ï¼Œå¾ˆéš¾é’ˆå¯¹ç‰¹å®šæ§åˆ¶ç‚¹æ“ä½œï¼Œä»¥æ§åˆ¶æ•´ä½“æ›²çº¿çš„å½¢çŠ¶ï¼›</li></ul><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><h3 id="idea"><a href="#idea" class="headerlink" title="idea"></a>idea</h3><ul><li>ä¸ç”¨æ§åˆ¶ç‚¹ç”Ÿæˆä¸€æ¡å®Œæ•´çš„æ›²çº¿ï¼›</li><li>ä»£æ›¿ï¼Œä½¿ç”¨å°‘é‡çš„æ§åˆ¶ç‚¹ç”Ÿæˆä¸€æ®µæ›²çº¿ï¼Œç„¶åå°†æ‰€æœ‰çš„æ›²çº¿æ‹¼æ¥èµ·æ¥ï¼›<blockquote><p>chain many low-order BÃ©zier curve</p></blockquote></li></ul><h3 id="å…·ä½“æ–¹æ³•"><a href="#å…·ä½“æ–¹æ³•" class="headerlink" title="å…·ä½“æ–¹æ³•"></a>å…·ä½“æ–¹æ³•</h3><blockquote><p>Piecewise cubic BÃ©zier the most common technique</p></blockquote><p>å³ï¼Œå®è·µä¸­å¸¸ç”¨4ä¸ªæ§åˆ¶ç‚¹ç”Ÿæˆä¸€æ®µæ›²çº¿ã€‚</p><p><img src="/images/games101/11/1/pbc.png" alt="Piecewise BÃ©zier Curves"></p><blockquote><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://math.hws.edu/eck/cs424/notes2013/canvas/bezier.html">Bezier Curve Demos</a></p></blockquote><h3 id="é—®é¢˜ï¼šå¦‚ä½•ä¿è¯æ›²çº¿å…‰æ»‘è¿æ¥"><a href="#é—®é¢˜ï¼šå¦‚ä½•ä¿è¯æ›²çº¿å…‰æ»‘è¿æ¥" class="headerlink" title="é—®é¢˜ï¼šå¦‚ä½•ä¿è¯æ›²çº¿å…‰æ»‘è¿æ¥"></a>é—®é¢˜ï¼šå¦‚ä½•ä¿è¯æ›²çº¿å…‰æ»‘è¿æ¥</h3><p>ä¿è¯ä¸Šä¸€æ¡æ›²çº¿ç»ˆç‚¹çš„å¯¼æ•°ä¸ä¸‹ä¸€æ¡æ›²çº¿èµ·ç‚¹çš„å¯¼æ•°ç›¸åŒï¼ŒåŒ…æ‹¬æ–¹å‘å’Œå¤§å°ã€‚</p><p>åœ¨è¿™ä¸ªé—®é¢˜ä¸Šï¼Œå¯ä»¥æœ‰ä¸¤ç§ç±»å‹çš„è¿ç»­ï¼ˆContinuityï¼‰ï¼š</p><ul><li>$C^0$ continuityï¼šåªè¦ä¿è¯å‡ ä½•å›¾å½¢ä¸Šè¿æ¥å³å¯ï¼›  $$<br>  \mathbf{a}_n = \mathbf{b}_0<br>  $$  <img src="/images/games101/11/1/c0.png" alt="$C^0$ continuity"></li><li>$C^1$ continuityï¼šä¸ä»…å‡ ä½•ä¸Šè¿æ¥ï¼Œå¯¼æ•°ä¹Ÿè¦ç›¸åŒï¼›  $$<br>  \mathbf{a}_n = \mathbf{b}_0 = \frac{1}{2} (\mathbf{a}_{n-1} + \mathbf{b}_1)<br>  $$  <img src="/images/games101/11/1/c1.png" alt="$C^1$ continuity"></li></ul><p>åœ¨ä¸€äº›æ›´ä¸¥æ ¼çš„åœºåˆä¸­ï¼Œè¿˜æœ‰è¦æ±‚ $C^2$ continuityï¼Œå³äºŒé˜¶å¯¼æ•°ç›¸åŒã€‚</p><h1 id="Splines"><a href="#Splines" class="headerlink" title="Splines"></a>Splines</h1><blockquote><p>a continuous curve constructed so as to pass through a given set of points and have a certain number of continuous derivatives.</p></blockquote><blockquote><p>In short, a curve under control.</p></blockquote><h2 id="B-splines"><a href="#B-splines" class="headerlink" title="B-splines"></a>B-splines</h2><ul><li>Short for basis splines</li><li>Require more information than Bezier curves</li><li>Satisfy all important properties that BÃ©zier curves have (i.e. superset)</li></ul><p>æœ¬è¯¾ä¸­æœªè¯¦è¿°æ ·æ¡å†…å®¹ï¼Œå…·ä½“å†…å®¹å¯ä»¥è¿›ä¸€æ­¥å‚è€ƒä»¥ä¸‹èµ„æ–™ã€‚</p><p><a href="https://www.bilibili.com/video/av66548502?from=search&seid=65256805876131485">æ¸…åå¤§å­¦-è®¡ç®—æœºå›¾å½¢å­¦åŸºç¡€ï¼ˆå›½å®¶çº§ç²¾å“è¯¾ï¼‰_å“”å“©å“”å“©_bilibili</a></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Geometry </tag>
            
            <tag> Curves </tag>
            
            <tag> BÃ©zier Curves </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-10ï¼šGeometry - Implicit Representations</title>
      <link href="/2022/05/03/ji-suan-ji-tu-xing-xue/games/games101-10-geometry-implicit-representations/"/>
      <url>/2022/05/03/ji-suan-ji-tu-xing-xue/games/games101-10-geometry-implicit-representations/</url>
      
        <content type="html"><![CDATA[<h1 id="Ways-to-Represent-Geometry"><a href="#Ways-to-Represent-Geometry" class="headerlink" title="Ways to Represent Geometry"></a>Ways to Represent Geometry</h1><h2 id="Implicit-Representations"><a href="#Implicit-Representations" class="headerlink" title="Implicit Representations"></a>Implicit Representations</h2><h3 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h3><p>è¿™ç§æ–¹æ³•ä¸ä¼šå…·ä½“æè¿°é›†å‡ ä½•ç‰©ä½“ä¸Šçš„æ¯ä¸ªç‚¹ï¼Œè€Œæ˜¯æè¿°æ‰€æœ‰çš„ç‚¹æ»¡è¶³çš„æ•°å­¦å…³ç³»ã€‚</p><blockquote><p>Based on classifying points: Points satisfy some specified relationship.</p></blockquote><p>$$<br>f(x, y, z) = 0<br>$$</p><p>ä¾‹å¦‚çƒä½“ï¼š</p><p>$$<br>f(x) = x^2 + y^2 + z^2 - 1<br>$$</p><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>Inside/Outside Tests Easy  <img src="/images/games101/10/im_io_easy.png" alt="å®¹æ˜“åˆ¤æ–­å†…å¤–"></li></ul><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>Sampling Can Be Hardï¼šå¯èƒ½å¾ˆéš¾çœ‹åˆ°è¯¥è¡¨ç¤ºå¯¹åº”çš„å…·ä½“å‡ ä½•å½¢çŠ¶æ˜¯ä»€ä¹ˆï¼›  $$<br>  f(x, y, z)=\left(2-\sqrt{x^{2}+y^{2}}\right)^{2}+z^{2}-1<br>  $$  <img src="/images/games101/10/im_sample_hard.png" alt="éš¾ä»¥åˆ¤æ–­å‡ ä½•å½¢çŠ¶"></li></ul><h2 id="Explicit-Representations"><a href="#Explicit-Representations" class="headerlink" title="Explicit Representations"></a>Explicit Representations</h2><blockquote><p>All points are <strong>given directly</strong> or via <strong>parameter mapping</strong></p></blockquote><p><img src="/images/games101/10/param_map.png" alt="Explicit: Parameter mapping"></p><h3 id="ä¼˜ç‚¹-1"><a href="#ä¼˜ç‚¹-1" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>Sampling Is Easy  <img src="/images/games101/10/ex_sample_easy.png" alt="å®¹æ˜“é‡‡æ ·"></li></ul><h3 id="ç¼ºç‚¹-1"><a href="#ç¼ºç‚¹-1" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>Inside/Outside Test Hard  <img src="/images/games101/10/ex_io_hard.png" alt="éš¾ä»¥åˆ¤æ–­å‡ ä½•å†…å¤–"></li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>No â€œBestâ€ Representation</li><li>Best Representation Depends on the Task!</li></ul><h1 id="ä¸åŒç±»å‹çš„Implicit-Representations"><a href="#ä¸åŒç±»å‹çš„Implicit-Representations" class="headerlink" title="ä¸åŒç±»å‹çš„Implicit Representations"></a>ä¸åŒç±»å‹çš„Implicit Representations</h1><h2 id="Algebraic-Surfaces"><a href="#Algebraic-Surfaces" class="headerlink" title="Algebraic Surfaces"></a>Algebraic Surfaces</h2><blockquote><p>Surface is zero set of a polynomial in $x, y, z$ .</p></blockquote><p>ä½¿ç”¨æ•°å­¦å…¬å¼è¡¨ç¤ºï¼š</p><ul><li>ä¸ç›´è§‚ï¼Œæ— æ³•åˆ¤æ–­å…·ä½“å½¢çŠ¶ï¼›</li></ul><p><img src="/images/games101/10/alge.png" alt="Algebraic Surfaces"></p><h2 id="Constructive-Solid-Geometry-CSG"><a href="#Constructive-Solid-Geometry-CSG" class="headerlink" title="Constructive Solid Geometry (CSG)"></a>Constructive Solid Geometry (CSG)</h2><blockquote><p>Combine implicit geometry via <strong>Boolean operations</strong>.</p></blockquote><p><img src="/images/games101/10/csg.png" alt="Constructive Solid Geometry"></p><h2 id="Distance-Functions"><a href="#Distance-Functions" class="headerlink" title="Distance Functions"></a>Distance Functions</h2><blockquote><p>Instead of Booleans, gradually blend surfaces together using <strong>Distance function</strong>s.</p></blockquote><blockquote><p>Distance function giving <strong>minimum distance</strong> (could be signed distance) from anywhere to object.</p></blockquote><p>å¯¹ä»»ä½•å‡ ä½•ç‰©ä½“ï¼Œä¸ç›´æ¥æè¿°å…¶è¡¨é¢ï¼Œè€Œæ˜¯æè¿°ç©ºé—´ä¸Šä»»æ„ä¸€ç‚¹åˆ°è¿™ä¸ªé›†åˆç‰©ä½“è¡¨é¢çš„æœ€å°è·ç¦»ã€‚</p><p>è¿™ä¸ªæœ€å°è·ç¦»æ˜¯æœ‰ç¬¦å·çš„ï¼š</p><ul><li>å½“ç©ºé—´ä¸Šçš„ç‚¹åœ¨ç‰©ä½“å†…éƒ¨ï¼Œåˆ™åˆ°è¯¥ç‰©ä½“è¡¨æ˜çš„è·ç¦»ä¸ºè´Ÿå€¼ï¼›</li><li>å½“ç©ºé—´ä¸Šçš„ç‚¹åœ¨ç‰©ä½“å¤–éƒ¨ï¼Œåˆ™åˆ°è¯¥ç‰©ä½“è¡¨æ˜çš„è·ç¦»ä¸ºæ­£å€¼ï¼›</li></ul><p><img src="/images/games101/10/blending.png" alt="Blending"></p><p>å¯¹äºæ¯ä¸ªå‡ ä½•ç‰©ä½“éƒ½å¯ä»¥è®¡ç®—å‡ºå…¶å¯¹åº”çš„è·ç¦»å‡½æ•°ï¼Œè¿™ç§å‡½æ•°ä¸€èˆ¬å°†ä»»æ„ä¸€ç‚¹å½“åšå‚æ•°ï¼ŒåŒæ—¶å®šä¹‰å¯¹åº”çš„å‡ ä½•ç‰©ä½“è¡¨é¢ï¼ˆè¿™ä¸ªè¡¨é¢åªæ˜¯ä¸€ç§æ³›åŒ–çš„è¯´æ³•ï¼Œå…¶å¯ä»¥æ˜¯çƒä½“çš„çƒå¿ƒï¼Œåœ†çš„åœ†å¿ƒï¼‰ï¼Œä¾‹å¦‚å®šä¹‰çƒçš„è·ç¦»å‡½æ•°å¦‚ä¸‹ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">float</span> <span class="token function">sdf_sphere</span> <span class="token punctuation">(</span>float3 p<span class="token punctuation">,</span> float3 c<span class="token punctuation">,</span> <span class="token keyword">float</span> r<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">distance</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>c<span class="token punctuation">)</span> <span class="token operator">-</span> r<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>å‚è€ƒèµ„æ–™ï¼š</p><ul><li><p><a href="https://www.alanzucconi.com/2016/07/01/signed-distance-functions/">Volumetric Rendering: Signed Distance Functions - Alan Zucconi</a></p></li><li><p><a href="https://iquilezles.org/articles/distfunctions2d/">Inigo Quilez - 2D distance functions</a></p></li></ul><h3 id="ä¾‹å­ï¼šBlending-a-moving-boundary"><a href="#ä¾‹å­ï¼šBlending-a-moving-boundary" class="headerlink" title="ä¾‹å­ï¼šBlending a moving boundary"></a>ä¾‹å­ï¼šBlending a moving boundary</h3><p><img src="/images/games101/10/example_blend.png" alt="Blending a moving boundary"></p><p>ä¸Šå›¾ä¸­ï¼Œå°†Aä¸­é˜´å½±éƒ¨åˆ†çš„å³è¾¹ç•Œå®šä¹‰ä¸ºç‰©ä½“è¡¨é¢ï¼Œåˆ™å¾—åˆ°å…¶å¯¹åº”çš„è·ç¦»å‡½æ•°åœ¨å…¶ä¸‹æ–¹æ‰€ç¤ºã€‚é€šè¿‡å¯¹Aå’ŒBä¸¤ä¸ªç‰©ä½“çš„è·ç¦»å‡½æ•°è¿›è¡Œèåˆï¼Œå¯ä»¥å¾—åˆ°èåˆåçš„ç‰©ä½“çš„æ‹“æ‰‘ç»“æ„ã€‚</p><p>å¯¹äºä»»æ„ä¸¤ä¸ªå‡ ä½•ç‰©ä½“çš„blendingçš„æ“ä½œç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src="/images/games101/10/blend_any.png" alt="åˆ©ç”¨è·ç¦»å‡½æ•°å¯¹ä»»æ„ç‰©ä½“èåˆ"></p><h2 id="Level-Set-Methods"><a href="#Level-Set-Methods" class="headerlink" title="Level Set Methods"></a>Level Set Methods</h2><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><blockquote><p>Closed-form equations are hard to describe complex shapes.</p></blockquote><p>è¿™ç§æ–¹æ³•é’ˆå¯¹çš„é—®é¢˜æ˜¯ï¼šä¸æ˜¯ä»»ä½•å‡ ä½•å›¾å½¢éƒ½æœ‰å¯¹åº”çš„æ•°å­¦è§£æå½¢å¼ï¼Œé¢å¯¹è¿™ç§æƒ…å†µï¼Œå¯ä»¥é€šè¿‡gridçš„æ–¹å¼å°†è·ç¦»å‡½æ•°è¡¨ç¤ºå‡ºæ¥ã€‚</p><h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><blockquote><p>store a grid of values approximating function.</p></blockquote><p><img src="/images/games101/10/level_set.png" alt="Level Set Methods"></p><blockquote><p>Surface is found where <strong>interpolated values</strong> equal zero.</p></blockquote><h3 id="ä¼˜ç‚¹-2"><a href="#ä¼˜ç‚¹-2" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><blockquote><p>Provides much more explicit control over shape (like a texture).</p></blockquote><h3 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h3><ul><li>ä¸textureç»“åˆï¼šLevel sets encode, e.g., constant tissue density. å°†ç›¸åŒå¯†åº¦çš„éƒ¨åˆ†è¿æ¥èµ·æ¥å½¢æˆå¹³é¢ç»“æ„ï¼›  <img src="/images/games101/10/medical_image.png" alt="åŒ»å­¦å›¾åƒ"></li><li>Level set encodes distance to air-liquid boundaryï¼šå°†ä¸åŒçš„æ°´ç è¿æ¥èµ·æ¥ï¼›  <img src="/images/games101/10/air.png" alt="æ°´ç æ•ˆæœ"></li></ul><h2 id="Fractals"><a href="#Fractals" class="headerlink" title="Fractals"></a>Fractals</h2><blockquote><p>Exhibit self-similarity, detail at all scales.</p></blockquote><p>ç±»ä¼¼ç¼–ç¨‹ä¸­çš„é€’å½’è¿‡ç¨‹ï¼Œæ˜¯åŒä¸€å›¾å½¢åœ¨ä¸åŒscaleä¸Šçš„å±•ç¤ºã€‚</p><p><img src="/images/games101/10/fractals.png" alt="Fractalsä¾‹å­"></p><h3 id="é—®é¢˜-1"><a href="#é—®é¢˜-1" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><blockquote><p>Hard to control shape.</p></blockquote><p>å› ä¸ºé¢‘ç‡å¾ˆé«˜ï¼Œå› æ­¤å¾ˆå®¹æ˜“é€ æˆèµ°æ ·ã€‚</p><h2 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><h3 id="Implicit-Representationsçš„ä¼˜ç‚¹"><a href="#Implicit-Representationsçš„ä¼˜ç‚¹" class="headerlink" title="Implicit Representationsçš„ä¼˜ç‚¹"></a>Implicit Representationsçš„ä¼˜ç‚¹</h3><ul><li>compact description (e.g., a function)</li><li>certain queries easy (inside object, distance to surface)</li><li>good for ray-to-surface intersection</li><li>for simple shapes, exact description / no sampling error</li><li>easy to handle changes in topology (e.g., fluid)</li></ul><h3 id="Implicit-Representationsçš„ç¼ºç‚¹"><a href="#Implicit-Representationsçš„ç¼ºç‚¹" class="headerlink" title="Implicit Representationsçš„ç¼ºç‚¹"></a>Implicit Representationsçš„ç¼ºç‚¹</h3><ul><li>difficult to model complex shapes</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Geometry </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-09-3ï¼šShading - Texture Mapping - Applications of Textures</title>
      <link href="/2022/05/03/ji-suan-ji-tu-xing-xue/games/games101-09-3-shading-texture-mapping-applications-of-textures/"/>
      <url>/2022/05/03/ji-suan-ji-tu-xing-xue/games/games101-09-3-shading-texture-mapping-applications-of-textures/</url>
      
        <content type="html"><![CDATA[<h1 id="Textureçš„æ³›åŒ–ç†è§£"><a href="#Textureçš„æ³›åŒ–ç†è§£" class="headerlink" title="Textureçš„æ³›åŒ–ç†è§£"></a>Textureçš„æ³›åŒ–ç†è§£</h1><blockquote><p>æ³›åŒ–ç†è§£textureï¼š<strong>In modern GPUs, texture = memory + range query (filtering)</strong></p></blockquote><p>å³ï¼Œçº¹ç†ä¸ä»…ä»…ç”¨åœ¨å›¾åƒä¸Šï¼Œå¯ä»¥æ˜¯ä»»æ„çš„å†…å­˜æ•°æ®å’Œå¯¹åº”çš„èŒƒå›´æŸ¥è¯¢æ–¹æ³•ã€‚</p><p>åŸºäºè¿™ç§ç†è§£ï¼Œtextureå…¶å®æ˜¯ï¼š</p><blockquote><p><strong>General method to bring data to fragment calculations.</strong></p></blockquote><p>å¯ä»¥åœ¨å¾ˆå¤šçš„åœºæ™¯ä¸­ä½¿ç”¨ï¼š</p><ul><li>Environment lighting</li><li>Store microgeometry</li><li>Procedural textures</li><li>Solid modeling</li><li>Volume rendering</li></ul><h1 id="Environment-lighting"><a href="#Environment-lighting" class="headerlink" title="Environment lighting"></a>Environment lighting</h1><p>å¯¹äºåœ¨ç€è‰²æ¨¡å‹ä¸­ï¼Œå°†ç¯å¢ƒå…‰è§†ä¸ºå¸¸æ•°ï¼Œä¸å…¶ä»–ä¸¤é¡¹ç›¸åŠ å…±åŒå®Œæˆç€è‰²è¿‡ç¨‹ã€‚é€šè¿‡çº¹ç†å¯ä»¥è®°å½•ç¯å¢ƒå…‰ï¼Œç„¶ååº”ç”¨åˆ°ä»»æ„çš„æ¸²æŸ“ç‰©ä½“ä¸Šï¼Œè¿™ç§æ–¹æ³•æ¯”ä¹‹å‰åº”ç”¨ç‚¹å…‰æºçš„æ•ˆæœè¦å¥½å¾ˆå¤šã€‚</p><h2 id="ä¾‹å­ï¼šEnvironment-Map"><a href="#ä¾‹å­ï¼šEnvironment-Map" class="headerlink" title="ä¾‹å­ï¼šEnvironment Map"></a>ä¾‹å­ï¼šEnvironment Map</h2><p><img src="/images/games101/09/3/environment_map.png" alt="Environment Map"></p><h2 id="å‡è®¾"><a href="#å‡è®¾" class="headerlink" title="å‡è®¾"></a>å‡è®¾</h2><p>ç”¨çº¹ç†æè¿°ç¯å¢ƒå…‰æ—¶ï¼Œå‡è®¾æ‰€æœ‰å…‰ç…§å‡æ¥è‡ªæ— é™è¿œå¤„ã€‚è¿™ç§å‡è®¾ä½¿å¾—å…‰ç…§å‡æ¥è‡ªåŒä¸€ä¸ªæ–¹å‘ï¼Œå³å…‰ç…§æ–¹å‘çš„ä¸åŒä¸ä¼šå¯¹ç¯å¢ƒå…‰çš„è®°å½•äº§ç”Ÿå½±å“ã€‚</p><h2 id="è®°å½•ç¯å¢ƒå…‰"><a href="#è®°å½•ç¯å¢ƒå…‰" class="headerlink" title="è®°å½•ç¯å¢ƒå…‰"></a>è®°å½•ç¯å¢ƒå…‰</h2><h3 id="Spherical-Environment-Map"><a href="#Spherical-Environment-Map" class="headerlink" title="Spherical Environment Map"></a><strong>Spherical Environment Map</strong></h3><p>å°†ç¯å¢ƒå…‰ç…§å­˜å‚¨åœ¨çƒé¢ä¸Šï¼Œç„¶åå°†å…¶å±•å¼€ï¼Œä¹‹åè´´åˆ°ä¸åŒçš„ç‰©ä½“ä¸Šã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•åœ¨é è¿‘çƒçš„æç‚¹çš„ä½ç½®ä¸Šï¼Œä¼šå‡ºç°æ‰­æ›²çš„ç°è±¡ã€‚</p><p><img src="/images/games101/09/3/spherical_map.png" alt="Spherical Environment Map"></p><p><img src="/images/games101/09/3/distortion.png" alt="çƒé¢å±•å¼€åçš„æ‰­æ›²ç°è±¡"></p><h3 id="è§£å†³æ–¹æ³•ï¼šCube-Map"><a href="#è§£å†³æ–¹æ³•ï¼šCube-Map" class="headerlink" title="è§£å†³æ–¹æ³•ï¼šCube Map"></a><strong>è§£å†³æ–¹æ³•ï¼šCube Map</strong></h3><p><img src="/images/games101/09/3/cube_map.png" alt="Cube Map"></p><blockquote><p>A vector maps to cube point along that direction.<br>The cube is textured with 6 square texture maps.</p></blockquote><p>ç®€å•æ¥è¯´ï¼Œåœ¨çƒä½“å¤–åˆ‡ä¸€ä¸ªç«‹æ–¹ä½“ï¼Œç„¶åå°†é€šè¿‡çƒä½“è®°å½•çš„ä¿¡æ¯æ˜ å°„åˆ°è¯¥ç«‹æ–¹ä½“ä¸­ã€‚</p><p>è¿™ç§æ–¹æ³•ï¼š</p><ul><li>ä½¿å¾—æ‰­æ›²ç°è±¡å¾—åˆ°ç¼“è§£ï¼›</li><li>ä½†æ˜¯éœ€è¦å¢åŠ è®¡ç®—ï¼šéœ€è¦æ‰¾åˆ°çƒé¢ä¸Šçš„æ–¹å‘ä¿¡æ¯æ˜ å°„åˆ°ç«‹æ–¹ä½“çš„å“ªä¸ªé¢ä¸Šï¼›</li></ul><p><img src="/images/games101/09/3/tt6.png" alt="Cube Mapå„ä¸ªé¢ä¸Šå›¾ç‰‡å±•å¼€"></p><h1 id="Store-microgeometry"><a href="#Store-microgeometry" class="headerlink" title="Store microgeometry"></a>Store microgeometry</h1><p>çº¹ç†ä¸ä»…å¯ä»¥å­˜å‚¨é¢œè‰²ä¿¡æ¯ï¼Œè¿˜å¯ä»¥ç”¨äºå­˜å‚¨å‡ ä½•ä¿¡æ¯ã€‚</p><h2 id="Bump-Normal-mapping"><a href="#Bump-Normal-mapping" class="headerlink" title="Bump / Normal mapping"></a>Bump / Normal mapping</h2><h3 id="Idea"><a href="#Idea" class="headerlink" title="Idea"></a>Idea</h3><p>ç”¨äºå®šä¹‰shading surfaceä¸­çš„shading pointçš„ç›¸å¯¹é«˜åº¦ï¼Œä»è€Œå®ç°â€œå‡¹å‡¸ä¸å¹³â€çš„æ•ˆæœï¼Œä½†æ˜¯è¿™ç§å®ç°å¹¶æ²¡æœ‰æ”¹å˜åŸæœ¬çš„å‡ ä½•å½¢çŠ¶ï¼Œè€Œæ˜¯<strong>Fake the detailed geometry</strong>ã€‚</p><p>è¿™ç§æ–¹æ³•çš„å¥½å¤„åœ¨äºï¼š</p><ul><li>æ²¡æœ‰æ”¹å˜å‡ ä½•ç‰©ä½“å½¢çŠ¶ï¼Œä½†æ˜¯é€šè¿‡å¤æ‚çš„çº¹ç†å¯ä»¥å®ç°ç›¸åŒçš„ç›®æ ‡ã€‚<blockquote><p>Adding surface detail without adding more triangles</p></blockquote></li></ul><p>å…¶æ ¸å¿ƒideaåœ¨äºï¼š</p><ul><li>Perturb surface normal per pixel (for shading computations only)</li><li>â€œHeight shiftâ€ per texel defined by a texture</li></ul><h3 id="å¦‚ä½•è®¡ç®—æ–°çš„æ³•çº¿"><a href="#å¦‚ä½•è®¡ç®—æ–°çš„æ³•çº¿" class="headerlink" title="å¦‚ä½•è®¡ç®—æ–°çš„æ³•çº¿"></a>å¦‚ä½•è®¡ç®—æ–°çš„æ³•çº¿</h3><p>åŸºäºè¿™ç§æƒ³æ³•ï¼Œä¸€ä¸ªç‚¹çš„é«˜åº¦é€šè¿‡çº¹ç†ä¿¡æ¯è¢«â€œä¿®æ”¹â€äº†ï¼Œä»è€Œä¹Ÿä¿®æ”¹äº†å¯¹åº”çš„æ³•çº¿ä¿¡æ¯ã€‚é‚£ä¹ˆä¸€ä¸ªé—®é¢˜æ˜¯ï¼šHow to modify normal vector?</p><p><img src="/images/games101/09/3/normal_compute.png" alt="å¦‚ä½•è®¡ç®—æ–°çš„æ³•çº¿"></p><p>æ ¹æ®ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œå¯ä»¥åˆ†ä¸ºï¼š</p><ul><li>in flatland (1D)<ul><li>å‡è®¾åŸå§‹ç€è‰²å¹³é¢çš„æ³•çº¿å‘é‡æ²¿ç€yè½´æ–¹å‘ $n(p) = (0, 1)$ï¼›</li><li>å¯¹äºåŠ å…¥çº¹ç†ä¿¡æ¯åï¼Œä¸€ä¸ªç‚¹pçš„ç›¸å¯¹é«˜åº¦å‘ç”Ÿå˜åŒ–ï¼Œå…¶å¯¼æ•°æ–¹å‘ä¸ºï¼šæ¯ç§»åŠ¨1ï¼Œåˆ™é«˜åº¦å˜åŒ–ä¸º $dp = c \cdot [h(p+1) - h(p)]$ï¼Œå› æ­¤å¯¼æ•°æ–¹å‘ä¸º $(1, -\text{dp})$ï¼Œå…¶ä¸­ $c$ æ˜¯æ”¾ç¼©å› å­ã€‚</li><li>æ ¹æ®æ—‹è½¬å˜æ¢ï¼Œå¯¹åº”è¯¥ç‚¹çš„æ³•çº¿å‘é‡ä¸º $n(p) = (-dp, 1).\text{normalized}()$ï¼›</li></ul>  <img src="/images/games101/09/3/flat_normal.png" alt="Normal Compute in Flatland"></li><li>in 3D  åœ¨çœŸå®çš„çº¹ç†ä¸­è®¡ç®—å¯¼æ•°æ—¶ï¼Œéœ€è¦åŒæ—¶åœ¨çº¹ç†åæ ‡çš„ $u,v$ æ–¹å‘åŒæ—¶è®¡ç®—ã€‚  åŒæ ·çš„è¿‡ç¨‹ï¼š<ul><li>å‡è®¾åŸå§‹ç€è‰²å¹³é¢çš„æ³•çº¿å‘é‡ $n(p) = (0,0, 1)$ï¼›</li><li>pç‚¹åœ¨çº¹ç†ä¸Šçš„å¯¼æ•°æ–¹å‘ï¼š  $$<br>  \begin{array}{l}<br>  dp / du= c_1 \cdot [h(\mathbf{u}+1)-h(\mathbf{u})] \\<br>  dp / dv=c_2 \cdot [h(\mathbf{v}+1)-h(\mathbf{v})]\end{array}<br>  $$</li><li>æœ€ç»ˆæ–°çš„æ³•çº¿æ–¹å‘ä¸ºï¼š$n = (-dp/du, -dp/dv, 1).\text{normalized}()$</li></ul></li></ul><p>åœ¨è¯¥è¿‡ç¨‹ä¸­æ‰€æœ‰çš„å‘é‡è®¡ç®—å‡é’ˆå¯¹çš„æ˜¯local coordinateï¼Œå› æ­¤ä¸ºäº†åº”ç”¨éœ€è¦å°†è¯¥åæ ‡å˜æ¢åˆ°çœŸå®ä¸–ç•Œä¸­çš„åæ ‡ä¸­ã€‚</p><h2 id="Displacement-mapping"><a href="#Displacement-mapping" class="headerlink" title="Displacement mapping"></a>Displacement mapping</h2><h3 id="Idea-1"><a href="#Idea-1" class="headerlink" title="Idea"></a>Idea</h3><ul><li>a more advanced approach</li><li>Uses the same texture as in bumping mapping</li><li>Actually moves the verticesï¼šç›¸æ¯”äºbumping mappingä¸æ”¹å˜å‡ ä½•å½¢çŠ¶ï¼Œè¿™é‡Œçš„æ–¹æ³•æ˜¯å°†shading pointè¿›è¡Œç§»åŠ¨ï¼Œè€Œä¸æ˜¯è™šæ‹Ÿæ“ä½œã€‚ä¸¤ç§æ–¹æ³•çš„æ•ˆæœå¯¹æ¯”å¦‚ä¸‹ï¼š  <img src="/images/games101/09/3/map_compare.png" alt="Bump vs Displacement mapping"></li></ul><h3 id="ä»£ä»·"><a href="#ä»£ä»·" class="headerlink" title="ä»£ä»·"></a>ä»£ä»·</h3><ul><li>è¦æ±‚å‡ ä½•å½¢çŠ¶ä¸­çš„ä¸‰è§’å½¢è¶³å¤Ÿå¯†é›†ã€ç»†è‡´ï¼šè¿™æ ·å¯¹äºä¸åŒçš„çº¹ç†å›¾ç‰‡ä¸­è°ƒæ•´çš„é«˜åº¦ï¼Œå¾…æ¸²æŸ“å¯¹è±¡ä¸­çš„ä¸‰è§’å½¢ä¸ä¼šå› ä¸ºè¿‡å¤§å‡ºç°èµ°æ ·é—®é¢˜ï¼›</li></ul><h3 id="ä¸€ç§ä¼˜åŒ–æ–¹æ³•"><a href="#ä¸€ç§ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="ä¸€ç§ä¼˜åŒ–æ–¹æ³•"></a>ä¸€ç§ä¼˜åŒ–æ–¹æ³•</h3><ul><li>å½“ä¸‰è§’å½¢ä¸å¤Ÿç»†è‡´æ—¶ï¼Œå¯ä»¥åŠ¨æ€æ£€æµ‹ä¸‰è§’å½¢æ˜¯å¦åº”è¯¥æ›´å°å’Œç»†è‡´ï¼Ÿåœ¨Direct Xä¸­å¯ä»¥åŠ¨æ€è°ƒæ•´ä¸‰è§’å½¢çš„ç»†è‡´ç¨‹åº¦ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shading </tag>
            
            <tag> Texture Mapping </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-09-2ï¼šShading - Texture Mapping - Applying Textures</title>
      <link href="/2022/05/03/ji-suan-ji-tu-xing-xue/games/games101-09-2-shading-texture-mapping-applying-textures/"/>
      <url>/2022/05/03/ji-suan-ji-tu-xing-xue/games/games101-09-2-shading-texture-mapping-applying-textures/</url>
      
        <content type="html"><![CDATA[<h1 id="åº”ç”¨ä¾‹å­ï¼šDiffuse-Color"><a href="#åº”ç”¨ä¾‹å­ï¼šDiffuse-Color" class="headerlink" title="åº”ç”¨ä¾‹å­ï¼šDiffuse Color"></a>åº”ç”¨ä¾‹å­ï¼šDiffuse Color</h1><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token function">each_rasterized_screen_sample</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token operator">:</span>          <span class="token comment" spellcheck="true">// Usually a pixelâ€™s center</span>    <span class="token punctuation">(</span>u<span class="token punctuation">,</span>v<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">evaluate_texture_coordinate_at</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">// Using barycentric coordinates</span>    texcolor <span class="token operator">=</span> texture<span class="token punctuation">.</span><span class="token function">sample</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">set_sample_color_to_texcolor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">// Usually the diffuse albedo Kd</span></code></pre><p>ç®€å•æ¥è¯´ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥æ€»ç»“ä¸ºï¼š</p><ol><li>å¯¹äºæ¯ä¸ªç»è¿‡å…‰æ …åŒ–çš„åƒç´ ï¼Œé¦–å…ˆè®¡ç®—å…¶é‡å¿ƒåæ ‡ï¼›</li><li>æ ¹æ®å…‰æ …åŒ–åçš„ä¸‰è§’å½¢ä¸­é¡¶ç‚¹ä¸çº¹ç†åæ ‡çš„æ˜ å°„å…³ç³»ï¼ˆè§†ä¸ºå·²çŸ¥ï¼‰ï¼Œåˆ©ç”¨ä¸‰è§’å½¢ä¸­ä»»æ„ä¸€ç‚¹çš„é‡å¿ƒåæ ‡ï¼Œæ’å€¼å¾—åˆ°å…¶å¯¹åº”çš„çº¹ç†åæ ‡ï¼›</li><li>åˆ©ç”¨å¾—åˆ°çš„çº¹ç†åæ ‡å¾—åˆ°çº¹ç†ä¿¡æ¯ texcolorï¼›</li><li>å°†è¯¥çº¹ç†ä¿¡æ¯è®¾ç½®åˆ°å…‰æ …åçš„ä¸‰è§’å½¢å†…éƒ¨ï¼Œå³å®ç°å°†çº¹ç†â€œè´´åˆ°â€ç‰©ä½“ä¸Šï¼Œä¸Šä¾‹ä¸­æ˜¯å°†çº¹ç†ä¿¡æ¯è§†ä¸ºæ¼«åå°„ç³»æ•°ã€‚</li></ol><p>è¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ä¼šäº§ç”Ÿé—®é¢˜ã€‚</p><h1 id="é—®é¢˜ï¼šTexture-Magnification-çº¹ç†å¤ªå°"><a href="#é—®é¢˜ï¼šTexture-Magnification-çº¹ç†å¤ªå°" class="headerlink" title="é—®é¢˜ï¼šTexture Magnification çº¹ç†å¤ªå°"></a>é—®é¢˜ï¼šTexture Magnification çº¹ç†å¤ªå°</h1><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>çº¹ç†çš„åˆ†è¾¨ç‡å¾ˆå°ï¼Œä½†æ˜¯å¾…æ¸²æŸ“çš„ç‰©ä½“åˆ†è¾¨ç‡å¾ˆé«˜ï¼Œè¿™ä¼šäº§ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Ÿåœ¨ç‰©ä½“ä¸Šçš„å¤šä¸ªåƒç´ ç‚¹å¯ä»¥å¯¹åº”çº¹ç†ä¸Šçš„åŒä¸€ä¸ªtexelï¼ˆA pixel on a texture â€” a texelï¼‰ï¼Œä¾‹å¦‚é€šè¿‡å¯¹å¾—åˆ°çš„çº¹ç†åæ ‡å››èˆäº”å…¥ï¼Œå–æœ€ä¸´è¿‘çš„çº¹ç†åæ ‡ï¼Œå› æ­¤å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚</p><p><img src="/images/games101/09/2/problem.png" alt="é—®é¢˜æè¿°"></p><h2 id="Nearest"><a href="#Nearest" class="headerlink" title="Nearest"></a>Nearest</h2><p>æœ€ç›´æ¥çš„æ–¹æ³•ï¼šç›´æ¥å››èˆäº”å…¥å–æœ€è¿‘çš„çº¹ç†åæ ‡ã€‚</p><h2 id="Bilinear"><a href="#Bilinear" class="headerlink" title="Bilinear"></a>Bilinear</h2><p><img src="/images/games101/09/2/bilinear.png" alt="Bilinearæ’å€¼è¿‡ç¨‹"></p><p>è€ƒè™‘æœ€ç»ˆçš„æ•ˆæœå’Œè®¡ç®—å¤æ‚åº¦ï¼Œbilinearå¾—åˆ°äº†å¾ˆå¥½çš„å¹³è¡¡ã€‚</p><h2 id="Bicubic"><a href="#Bicubic" class="headerlink" title="Bicubic"></a>Bicubic</h2><p>ä½¿ç”¨å‘¨å›´çš„16ä¸ªtexelè¿›è¡Œæ’å€¼ï¼Œæ•ˆæœæ›´å¥½ï¼Œä½†æ˜¯è®¡ç®—é‡æ›´å¤§ã€‚</p><h1 id="é—®é¢˜ï¼šTexture-Magnification-çº¹ç†å¤ªå¤§"><a href="#é—®é¢˜ï¼šTexture-Magnification-çº¹ç†å¤ªå¤§" class="headerlink" title="é—®é¢˜ï¼šTexture Magnification çº¹ç†å¤ªå¤§"></a>é—®é¢˜ï¼šTexture Magnification çº¹ç†å¤ªå¤§</h1><h2 id="é—®é¢˜æè¿°-1"><a href="#é—®é¢˜æè¿°-1" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>åœ¨åº”ç”¨textureæ—¶ï¼Œé‡‡ç”¨ä¸Šä¾‹Diffuse Colorä¸­ä½¿ç”¨çš„æ–¹æ³•ï¼Œå¾ˆç®€å•ï¼Œä½†æ˜¯ç”±äºåªæ˜¯å¯¹çº¹ç†ä¸­çš„ä¸€ä¸ªç‚¹è¿›è¡Œé‡‡æ ·ã€‚å½“çº¹ç†è¿‡å¤§æ—¶ä¼šå‡ºç°é—®é¢˜ï¼Œå¦‚ä¸‹å›¾ä¸­åœ¨è¿‘å¤„å‡ºç°é”¯é½¿ï¼Œåœ¨è¿œå¤„å‡ºç°æ‘©å°”çº¹ã€‚</p><p><img src="/images/games101/09/2/tt_big_problem.png" alt="é—®é¢˜æè¿°"></p><h2 id="åŸå› å‰–æ"><a href="#åŸå› å‰–æ" class="headerlink" title="åŸå› å‰–æ"></a>åŸå› å‰–æ</h2><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä»å·¦åˆ°å³å¯¹åº”ä¸Šå›¾ä¸­ä»è¿‘åˆ°è¿œï¼š</p><ul><li>åœ¨è¿‘å¤„ï¼šä¸€ä¸ªåƒç´ å¯¹åº”çº¹ç†ä¸­çš„texelè¾ƒå°‘ï¼›</li><li>åœ¨è¿œå¤„æ—¶ï¼Œä¸€ä¸ªåƒç´ å¯¹åº”çº¹ç†ä¸­çš„å¾ˆå¤štexelï¼›</li></ul><p>åŸºäºè¿™ç§æƒ…å†µï¼š</p><ul><li>åœ¨è¿‘å¤„ï¼Œä½¿ç”¨point samplingæ—¶ï¼Œå¯ä»¥åœ¨çº¹ç†ä¸­ç›´æ¥é‡‡æ ·å¯¹åº”çš„çº¹ç†ä¿¡æ¯ï¼Œç”±äºè¦†ç›–çš„çº¹ç†åŒºåŸŸè¾ƒå°ï¼Œå› æ­¤ç›´æ¥é‡‡ç”¨å¯¹åº”çš„çº¹ç†ä¿¡æ¯ï¼Œé—®é¢˜ä¸å¤§ï¼›</li><li>åœ¨è¿œå¤„æ—¶ï¼Œç”±äºè¦†ç›–çš„çº¹ç†åŒºåŸŸè¾ƒå¤§ï¼Œå› æ­¤ç›´æ¥é‡‡ç”¨å¯¹åº”çš„ä¸€ä¸ªç‚¹çš„çº¹ç†ä¿¡æ¯ï¼Œä¼šäº§ç”Ÿä»¥åæ¦‚å…¨çš„é—®é¢˜ï¼›</li></ul><p><img src="/images/games101/09/2/reason.png" alt="çº¹ç†å¤ªå¤§é€ æˆé—®é¢˜çš„åŸå› å‰–æ"></p><h2 id="è§£å†³æ–¹æ¡ˆ1ï¼šSupersampling-Do-Antialiasing"><a href="#è§£å†³æ–¹æ¡ˆ1ï¼šSupersampling-Do-Antialiasing" class="headerlink" title="è§£å†³æ–¹æ¡ˆ1ï¼šSupersampling Do Antialiasing"></a>è§£å†³æ–¹æ¡ˆ1ï¼šSupersampling Do Antialiasing</h2><p>ä½¿ç”¨MSAAè¿›è¡Œåèµ°æ ·å¯ä»¥è§£å†³é—®é¢˜ã€‚</p><p><img src="/images/games101/09/2/msaa_tt.png" alt="ä½¿ç”¨MSAAè§£å†³çº¹ç†è¿‡å¤§çš„é—®é¢˜"></p><h3 id="ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ"></a>ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ</h3><p>å¯¹äºè¿œå¤„åŒºåŸŸæ¥è¯´ï¼Œç”±äºè¦†ç›–çš„çº¹ç†åŒºåŸŸè¾ƒå¤§ï¼Œå¯ä»¥è§†ä¸ºç”¨åƒç´ ä¸­çš„ä½é¢‘ä¿¡å·é‡‡æ ·çº¹ç†ä¸­çš„é«˜é¢‘ä¿¡å·ï¼Œå› ä¸ºå¾ˆå°çš„ä¸€å—åƒç´ åŒºåŸŸå¯¹åº”å¾ˆå¤§çš„çº¹ç†åŒºåŸŸã€‚</p><p>åŸºäºè¿™ç§æƒ…å†µï¼ŒMSAAçš„ç­–ç•¥æ˜¯å°†åƒç´ ç‚¹åˆ’åˆ†ä¸ºæ›´å°çš„å•å…ƒï¼Œä»è€Œæé«˜äº†é‡‡æ ·é¢‘ç‡ï¼Œä»¥å®ç°åèµ°æ ·ï¼Œèƒ½å¤Ÿè§£å†³è¯¥é—®é¢˜ã€‚</p><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><p>è™½ç„¶è¿™ç§æ–¹æ³•èƒ½å¤Ÿè§£å†³é—®é¢˜ï¼Œä½†æ˜¯å­˜åœ¨ä»£ä»·å¤ªå¤§çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯å½“è¿œå¤„çš„åƒç´ å’Œè¿‘å¤„çš„åƒç´ è¦†ç›–çº¹ç†åŒºåŸŸçš„èŒƒå›´å¾ˆæ‚¬æ®Šæ—¶ï¼Œå¯¹äºåƒç´ çš„è¿›ä¸€æ­¥åˆ’åˆ†ï¼Œåœ¨è¿‘å¤„çš„æ•ˆæœå¾ˆå¥½ï¼Œä½†æ˜¯åœ¨è¿œå¤„å¯èƒ½æå‡æœ‰é™ã€‚åŒæ—¶ï¼Œå½“è¿œå¤„çš„åƒç´ åŒºåŸŸå¾ˆå°æ—¶ï¼Œè‹¥è¦æå‡æ•ˆæœï¼Œå¯èƒ½éœ€è¦åˆ’åˆ†æ›´å¤šçš„å•å…ƒï¼Œä½†æ˜¯åœ¨è¿‘å¤„åˆ™å¸¦æ¥è®¡ç®—ä»£ä»·çš„ä¸Šå‡ã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆ2ï¼šRange-Query-Mipmap"><a href="#è§£å†³æ–¹æ¡ˆ2ï¼šRange-Query-Mipmap" class="headerlink" title="è§£å†³æ–¹æ¡ˆ2ï¼šRange Query - Mipmap"></a>è§£å†³æ–¹æ¡ˆ2ï¼šRange Query - Mipmap</h2><h3 id="idea"><a href="#idea" class="headerlink" title="idea"></a>idea</h3><p>ä»£æ›¿è¿›è¡Œé‡‡æ ·ï¼Œç›´æ¥è·å¾—åƒç´ è¦†ç›–çš„çº¹ç†åŒºåŸŸçš„å¹³å‡å€¼ï¼Œè¿™ç›¸å½“äºæŠŠä¹‹å‰çš„é’ˆå¯¹ä¸€ä¸ªåƒç´ ç‚¹çš„çº¹ç†ä¿¡æ¯çš„æŸ¥è¯¢è½¬æ¢ä¸ºç‰¹å®šåŒºåŸŸå†…çš„èŒƒå›´æŸ¥è¯¢ï¼Œä»¥ä¾¿å®ç°å¹³æ»‘çš„æ•ˆæœã€‚</p><blockquote><p>get the average value within a range.</p></blockquote><h3 id="Mipmap"><a href="#Mipmap" class="headerlink" title="Mipmap"></a>Mipmap</h3><blockquote><p>Allowing (fast, approx., square) range queries.</p></blockquote><p>è¯¥æ–¹æ³•åªèƒ½è¿›è¡Œè¿‘ä¼¼çš„ã€æ­£æ–¹å½¢åŒºåŸŸçš„å¿«é€ŸèŒƒå›´æŸ¥è¯¢ã€‚</p><p><img src="/images/games101/09/2/mipmap.png" alt="Mipmap"></p><p>å¯¹äºä¸€ä¸ªçº¹ç†å›¾ç‰‡æ¥è¯´ï¼Œæ‰€è°“mipmapæŒ‡çš„æ˜¯ä¸æ–­ç¼©å°å›¾ç‰‡çš„åˆ†è¾¨ç‡ä»è€Œå¾—åˆ°å¯¹åº”åŒºåŸŸçš„çº¹ç†ä¿¡æ¯ï¼Œä¸Šå›¾ä¸­è™½ç„¶æ‰€æœ‰çš„å›¾ç‰‡éƒ½æ˜¯ç›¸åŒå°ºå¯¸ï¼Œè¿™æ˜¯ä¸ºäº†å±•ç¤ºæ•ˆæœï¼Œå®é™…ä¸­æ¯æ¬¡ç¼©å°ï¼Œå°ºå¯¸å‡å˜ä¸ºåŸæ¥çš„0.25ã€‚</p><p><img src="/images/games101/09/2/hierarchy.png" alt="Mip Hierarchy"></p><p>è€ƒè™‘åˆ°ä¸€ä¸ªæ­£æ–¹å½¢çš„çº¹ç†å›¾ç‰‡ $n \times n$ï¼Œå½“ç¼©å°åˆ†è¾¨ç‡æ—¶ï¼Œå…¶å¢åŠ çš„å­˜å‚¨ç©ºé—´æœ‰å¤šå°‘ï¼Ÿä¼°ç®—ä¸€ä¸‹ï¼š</p><p>$$<br>n \times n + \frac{1}{2}n \times \frac{1}{2}n + \frac{1}{2^2}n \times \frac{1}{2^2}n + \frac{1}{2^3}n \times \frac{1}{2^3}n + \cdots = \frac{1 \times (1 - \frac{1}{4^{\infty}})}{1 - \frac{1}{4}} n \times n = \frac{4}{3} n \times n<br>$$</p><p>å³ï¼Œå­˜å‚¨ç©ºé—´ä»…å¢åŠ äº†åŸæ¥çš„33%ã€‚</p><h3 id="åº”ç”¨Mipmap"><a href="#åº”ç”¨Mipmap" class="headerlink" title="åº”ç”¨Mipmap"></a>åº”ç”¨Mipmap</h3><p>åœ¨åº”ç”¨Mipmopçš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼š</p><ol><li>é¦–å…ˆè¦ä¼°ç®—ä¸€ä¸ªåƒç´ åœ¨çº¹ç†ä¸Šçš„è¦†ç›–çš„åŒºåŸŸå¤§å°ï¼›<blockquote><p>Estimate texture footprint using texture coordinates of neighboring screen samples.</p></blockquote> <img src="/images/games101/09/2/estimate_area.png" alt="ä¼°ç®—åƒç´ åœ¨çº¹ç†ä¸Šçš„è¦†ç›–é¢ç§¯"> $$<br> L=\max \left(\sqrt{\left(\frac{d u}{d x}\right)^{2}+\left(\frac{d v}{d x}\right)^{2}}, \sqrt{\left(\frac{d u}{d y}\right)^{2}+\left(\frac{d v}{d y}\right)^{2}}\right)<br> $$ å®é™…è®¡ç®—ä¸­ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨åˆ«çš„æ–¹æ³•è¿›è¡Œä¼°è®¡ï¼Œå¦‚ï¼šç›´æ¥åˆ©ç”¨åƒç´ ç‚¹è¾¹ç•Œä¸Šçš„4ä¸ªé¡¶ç‚¹è¿›è¡Œä¼°ç®—ã€‚</li><li>è®¡ç®—è¯¥çº¹ç†åŒºåŸŸå¤§å°å¯¹åº”çš„çº¹ç†ä¿¡æ¯çš„å¹³å‡å€¼ï¼› æ ¹æ®å¾—åˆ°çš„è¦†ç›–èŒƒå›´ $L$ï¼Œç¡®å®šäº†æ­£æ–¹å½¢çš„å¤§è‡´èŒƒå›´ã€‚ç„¶åæŸ¥è¯¢è¯¥è¦†ç›–èŒƒå›´å¯¹åº”çš„å¹³å‡çº¹ç†ä¿¡æ¯ï¼š $$<br> D = \log_2 L<br> $$<blockquote><p>D rounded to nearest integer level.</p></blockquote> å…¶ä¸­ Då¯¹åº”çš„æ˜¯mipmapä¸­çš„ä¸åŒå±‚ä¸­ç»è¿‡åˆ†è¾¨ç‡ç¼©å°çš„çº¹ç†å›¾ç‰‡ã€‚</li></ol><h3 id="Mipmapåˆ†å±‚å¸¦æ¥çš„ä¸è¿ç»­é—®é¢˜"><a href="#Mipmapåˆ†å±‚å¸¦æ¥çš„ä¸è¿ç»­é—®é¢˜" class="headerlink" title="Mipmapåˆ†å±‚å¸¦æ¥çš„ä¸è¿ç»­é—®é¢˜"></a>Mipmapåˆ†å±‚å¸¦æ¥çš„ä¸è¿ç»­é—®é¢˜</h3><p>åˆ©ç”¨è¯¥æ–¹æ³•å‘ç°ï¼Œä¸åŒå±‚ä¹‹é—´æ˜¯ç¦»æ•£çš„ï¼Œå› æ­¤å½“â€œè´´â€åˆ°ç‰©ä½“ä¸Šæ—¶ï¼Œä¼šå‡ºç°æ˜æ˜¾çš„ç•Œé™ï¼Œ</p><p><img src="/images/games101/09/2/mipmap_discrete.png" alt="Mipmapåˆ†å±‚å¸¦æ¥çš„é—®é¢˜å’Œæ”¹è¿›"></p><p>ä¸ºäº†å¹³æ»‘è¿‡åº¦ï¼Œéœ€è¦å°†ä¸åŒå±‚çš„çº¹ç†å›¾ç‰‡ä¹‹é—´å»ºç«‹è¿ç»­çš„å…³ç³»â€”â€”æ’å€¼ã€‚</p><p>å¤ç”¨ä¹‹å‰çš„bilinearæ–¹æ³•ï¼Œç›¸æ¯”äºä¹‹å‰ï¼Œè¿™äº›è¿˜éœ€è¦åœ¨ä¸åŒå±‚ä¹‹é—´è¿›è¡Œæ’å€¼ï¼Œå› æ­¤ç§°ä¹‹ä¸ºâ€”â€”Trilinear Interpolationã€‚</p><p><img src="/images/games101/09/2/trilinear.png" alt="Trilinear Interpolation"></p><h3 id="Mipmapçš„ç¼ºé™·"><a href="#Mipmapçš„ç¼ºé™·" class="headerlink" title="Mipmapçš„ç¼ºé™·"></a>Mipmapçš„ç¼ºé™·</h3><p>Mipmapæ–¹æ³•çš„æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/images/games101/09/2/mipmap_effect.png" alt="Mipmapæ–¹æ³•çš„æ•ˆæœ"></p><p>å‘ç°Mipmapç›¸æ¯”äºPoint samplingèƒ½å¤Ÿè§£å†³éƒ¨åˆ†é—®é¢˜ï¼Œä½†æ˜¯ç›¸æ¯”äºåˆ©ç”¨MSAAæ–¹æ³•ï¼Œåœ¨è¿œå¤„å‡ºç°äº†overblurã€‚ä¸»è¦çš„åŸå› åœ¨äºmipmopåªèƒ½å¤„ç†æ­£æ–¹å‘åŒºåŸŸçš„è¿‘ä¼¼èŒƒå›´æŸ¥è¯¢ï¼Œä½†æ˜¯åœ¨ä¸Šå›¾ä¸­æ˜¾ç„¶åœ¨è¿œå¤„ï¼Œä¼šæœ‰ä¸€äº›çŸ©å½¢å‡ºç°ï¼Œå› æ­¤ç”¨ä¸€ä¸ªæ­£æ–¹å½¢è¦†ç›–çŸ©å½¢ï¼Œéš¾å…ä¼šå‡ºç°å¹³æ»‘è¿‡åº¦çš„é—®é¢˜ï¼Œå› æ­¤è¿œå¤„è¿æˆä¸€ç‰‡äº†ã€‚</p><p><img src="/images/games101/09/2/mipmap_issue.png" alt="Mipmapçš„ç¼ºé™·ï¼šæ— æ³•åº”å¯¹ä¸è§„åˆ™å›¾å½¢"></p><p>é’ˆå¯¹ä¸è§„åˆ™åŒºåŸŸæ˜ å°„çš„é—®é¢˜ï¼š</p><ul><li>mipmopåªèƒ½è§£å†³æ­£æ–¹å½¢åŒºåŸŸè¿‘ä¼¼èŒƒå›´è®¡ç®—çš„é—®é¢˜ï¼›</li><li>Anisotropic Filteringåˆ™åŒæ—¶èƒ½å¤Ÿå¯¹çŸ©å½¢è¿›è¡ŒèŒƒå›´è®¡ç®—ï¼›</li><li>EWA filteringèƒ½è¿›ä¸€æ­¥å¯¹ä¸è§„åˆ™æ”¾ç½®çš„å››è¾¹å½¢è¿›è¡ŒèŒƒå›´è®¡ç®—ï¼›</li></ul><h2 id="è§£å†³æ–¹æ¡ˆ3ï¼šRange-Query-Anisotropic-Filtering"><a href="#è§£å†³æ–¹æ¡ˆ3ï¼šRange-Query-Anisotropic-Filtering" class="headerlink" title="è§£å†³æ–¹æ¡ˆ3ï¼šRange Query - Anisotropic Filtering"></a>è§£å†³æ–¹æ¡ˆ3ï¼šRange Query - Anisotropic Filtering</h2><p><img src="/images/games101/09/2/anisotropic.png" alt="Anisotropic Filtering"></p><h3 id="è§£å†³é—®é¢˜"><a href="#è§£å†³é—®é¢˜" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h3><blockquote><p>Can look up axis-aligned rectangular zones.</p></blockquote><h3 id="é™åˆ¶"><a href="#é™åˆ¶" class="headerlink" title="é™åˆ¶"></a>é™åˆ¶</h3><blockquote><p>Diagonal footprints still a problem.</p></blockquote><p>è¯¥æ–¹æ³•å°†å­˜å‚¨ç©ºé—´æé«˜äº†3å€ï¼š</p><p>$$<br>n \times n + 2 \times \left( \frac{1}{2}n \times n + \frac{1}{2^2}n \times n +  \frac{1}{2^3}n \times n + \cdots \right) = n \times n + 2 \times \frac{\frac{1}{2} \times (1 - \frac{1}{2^{\infty}})}{1 - \frac{1}{2}} n \times n  = 3 n \times n<br>$$</p><h2 id="è§£å†³æ–¹æ¡ˆ4ï¼šRange-Query-EWA-filtering"><a href="#è§£å†³æ–¹æ¡ˆ4ï¼šRange-Query-EWA-filtering" class="headerlink" title="è§£å†³æ–¹æ¡ˆ4ï¼šRange Query - EWA filtering"></a>è§£å†³æ–¹æ¡ˆ4ï¼šRange Query - EWA filtering</h2><p><img src="/images/games101/09/2/ewa.png" alt="EWA filtering"></p><h3 id="idea-1"><a href="#idea-1" class="headerlink" title="idea"></a>idea</h3><ul><li>Use multiple lookupsï¼šåŒæ—¶ä½¿ç”¨å¤šä¸ªå›¾å½¢è¿‘ä¼¼è®¡ç®—ä¸è§„åˆ™åŒºåŸŸï¼›</li><li>Weighted averageï¼šå¯¹å¤šä¸ªå›¾å½¢è¿›è¡ŒåŠ æƒè®¡ç®—ï¼›</li><li>Mipmap hierarchy still helps</li></ul><h3 id="è§£å†³é—®é¢˜-1"><a href="#è§£å†³é—®é¢˜-1" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h3><ul><li>Can handle irregular footprints</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shading </tag>
            
            <tag> Texture Mapping </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-09-1ï¼šShading - Texture Mapping - Barycentric coordinates</title>
      <link href="/2022/05/03/ji-suan-ji-tu-xing-xue/games/games101-09-1-shading-texture-mapping-barycentric-coordinates/"/>
      <url>/2022/05/03/ji-suan-ji-tu-xing-xue/games/games101-09-1-shading-texture-mapping-barycentric-coordinates/</url>
      
        <content type="html"><![CDATA[<h1 id="Texture-Mapping"><a href="#Texture-Mapping" class="headerlink" title="Texture Mapping"></a>Texture Mapping</h1><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>ä¸€ä¸ªç‰©ä½“çš„ä¸åŒåŒºåŸŸä½¿ç”¨äº†ç›¸åŒçš„ç€è‰²æ¨¡å‹ï¼Œä½†æ˜¯ä¸åŒåŒºåŸŸçš„æ¼«åå°„ç³»æ•° $k_d$ ä¸åŒï¼Œè¯¥ç³»æ•°çš„ä¸åŒä¼šå¯¼è‡´å‡ºç°ä¸åŒçš„çº¹ç† textureã€‚</p><p>ä¹‹å‰æåˆ°çš„ç€è‰²æ¨¡å‹æœªè¿‡å¤šè€ƒè™‘shading pointæœ¬èº«çš„æ€§è´¨ï¼Œåªæåˆ°äº†æ¼«åå°„ç³»æ•°ã€é•œé¢åå°„ç³»æ•°ç­‰ï¼Œä½†æ˜¯ç€è‰²åŒºåŸŸæœ¬èº«å­˜åœ¨å¾ˆå¤šä¸åŒçš„æ€§è´¨ï¼Œè¿™äº›æ€§è´¨å‡ä¼šå½±å“shadingçš„æ•ˆæœã€‚å› æ­¤ï¼Œæœ¬è´¨ä¸Šçº¹ç†æ˜¯é€shading pointæ”¹å˜å…¶è‡ªèº«çš„æ€§è´¨ï¼Œä½¿å¾—å³ä¾¿åœ¨ç›¸åŒçš„ç€è‰²æ¨¡å‹ä¸‹ï¼Œå…¶ç€è‰²çš„æ•ˆæœä¹Ÿä¼šæœ‰å·®å¼‚ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•å®šä¹‰ç€è‰²åŒºåŸŸçš„ä¸åŒæ€§è´¨å‘¢ï¼Ÿå¼•å…¥çº¹ç†æ˜ å°„ã€‚</p><h2 id="å®šä¹‰shading-pointçš„åŸºæœ¬å±æ€§"><a href="#å®šä¹‰shading-pointçš„åŸºæœ¬å±æ€§" class="headerlink" title="å®šä¹‰shading pointçš„åŸºæœ¬å±æ€§"></a>å®šä¹‰shading pointçš„åŸºæœ¬å±æ€§</h2><h3 id="Idea-Surfaces-are-2D"><a href="#Idea-Surfaces-are-2D" class="headerlink" title="Idea: Surfaces are 2D"></a>Idea: Surfaces are 2D</h3><ul><li>Surface lives in 3D world space</li><li>Every 3D surface point also has a place where it goes in the 2D image (<strong>texture</strong>).</li></ul><p><img src="/images/games101/09/1/tt_map.png" alt="Texture Mapping"></p><h2 id="çº¹ç†å¦‚ä½•åº”ç”¨ï¼šTexture-Applied-to-Surface"><a href="#çº¹ç†å¦‚ä½•åº”ç”¨ï¼šTexture-Applied-to-Surface" class="headerlink" title="çº¹ç†å¦‚ä½•åº”ç”¨ï¼šTexture Applied to Surface"></a>çº¹ç†å¦‚ä½•åº”ç”¨ï¼šTexture Applied to Surface</h2><p>éœ€è¦å»ºç«‹ä¸‰ç»´ç‰©ä½“ä¸­çš„ä¸‰è§’å½¢ä¸çº¹ç†ä¸­çš„ä¸‰è§’å½¢çš„æ˜ å°„å…³ç³»ï¼Œä¿è¯ä¸¤è€…ä¸€ä¸€å¯¹åº”ï¼ŒåŒæ—¶å°½å¯èƒ½å°‘åœ°å‡ºç°æ‹‰ä¼¸ç­‰æƒ…å†µã€‚</p><p>è¿™ç§å¯¹åº”å…³ç³»å¯ä»¥ç”±è‰ºæœ¯å®¶å®Œæˆåˆ›é€ ï¼Œæˆ–è€…è‡ªåŠ¨åŒ–å®ç°ã€‚æœ¬è¯¾ä¸­ï¼Œé»˜è®¤ä¸¤è€…å·²ç»å»ºç«‹äº†æ˜ å°„å…³ç³»ï¼Œå³ç‰©ä½“ä¸Šçš„æ¯ä¸€ç‚¹å‡åœ¨çº¹ç†ä¸Šæœ‰å¯¹åº”çš„åæ ‡ï¼Œåªéœ€åˆ©ç”¨è¿™ä¸ªå…³ç³»å³å¯ã€‚</p><p><img src="/images/games101/09/1/tt_apply.png" alt="Texture Applied to Surface"></p><h2 id="çº¹ç†åæ ‡"><a href="#çº¹ç†åæ ‡" class="headerlink" title="çº¹ç†åæ ‡"></a>çº¹ç†åæ ‡</h2><p>Each triangle vertex is assigned a texture coordinate $(u,v)$ï¼Œä¸¤ä¸ªæ–¹å‘çš„åæ ‡å‡åœ¨$(0,1)$å†…ï¼Œä»¥ä¾¿å¤„ç†ï¼Œä¸è€ƒè™‘å…¶çœŸå®åƒç´ æ˜¯å¤šå°‘ã€‚</p><p><img src="/images/games101/09/1/tt_location.png" alt="çº¹ç†åæ ‡"></p><h2 id="Textures-can-be-used-multiple-times"><a href="#Textures-can-be-used-multiple-times" class="headerlink" title="Textures can be used multiple times"></a>Textures can be used multiple times</h2><p>åœ¨çº¹ç†æ˜ å°„ä¸­ï¼Œç‰©ä½“ä¸Šçš„å¤šä¸ªåŒºåŸŸå¯èƒ½å¯¹åº”ç›¸åŒçš„çº¹ç†åŒºåŸŸï¼Œå³çº¹ç†å¯ä»¥ä½¿ç”¨å¤šæ¬¡ï¼Œå½“å¤šæ¬¡ä½¿ç”¨æ—¶ï¼Œä¼šåœ¨ç›¸åŒçº¹ç†ä¹‹é—´å‡ºç°ä¸å¿…è¦çš„ç•Œé™ï¼Œå› æ­¤å¦‚ä½•åœ¨å¤šæ¬¡ä½¿ç”¨ä¸­ä½¿ç›¸åŒçš„çº¹ç†ä¹‹é—´çš„è¿‡åº¦æ¯”è¾ƒå¹³æ»‘æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚</p><h1 id="Interpolation-Across-Triangles"><a href="#Interpolation-Across-Triangles" class="headerlink" title="Interpolation Across Triangles"></a>Interpolation Across Triangles</h1><h2 id="é—®é¢˜-1"><a href="#é—®é¢˜-1" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæœ‰ä¸¤ä¸ªåº”ç”¨åœºæ™¯éœ€è¦è¿›è¡Œæ’å€¼ï¼š</p><ul><li>Specify values at vertices  shading frequencies ä¸­çš„ Gouraud shadingå’ŒPhong shadingåˆ†åˆ«éœ€è¦å¯¹é¡¶ç‚¹å’Œåƒç´ è®¡ç®—æ³•çº¿å‘é‡ï¼Œç„¶ååœ¨ä¸‰è§’å½¢å†…éƒ¨è®¡ç®—ç›¸åº”çš„é¢œè‰²ç­‰å±æ€§ï¼›</li><li>Obtain smoothly varying values across triangles  åœ¨ä¸‰ç»´ç‰©ä½“ä¸çº¹ç†æ˜ å°„ä¸­ï¼Œä¸‰è§’å½¢çš„é¡¶ç‚¹åœ¨çº¹ç†ä¸­æœ‰ç›¸åº”çš„çº¹ç†åæ ‡ï¼Œä½†æ˜¯ä¸‰è§’å½¢å†…çš„åŒºåŸŸéœ€è¦é€šè¿‡æ’å€¼è®¡ç®—ç›¸åº”çš„çº¹ç†åæ ‡ï¼Œä»¥å®ç°çº¹ç†è¦†ç›–åˆ°ç‰©ä½“è¡¨é¢æ—¶ï¼Œèƒ½å¤Ÿè‡ªç„¶å¹³æ»‘çš„è¿‡åº¦ã€‚</li></ul><h2 id="æ’å€¼é’ˆå¯¹çš„å¯¹è±¡"><a href="#æ’å€¼é’ˆå¯¹çš„å¯¹è±¡" class="headerlink" title="æ’å€¼é’ˆå¯¹çš„å¯¹è±¡"></a>æ’å€¼é’ˆå¯¹çš„å¯¹è±¡</h2><blockquote><p>Texture coordinates, colors, normal vectors, â€¦</p></blockquote><p>å®é™…ä¸Šå¯ä»¥å¯¹ä»»æ„å±æ€§è¿›è¡Œæ’å€¼ã€‚</p><h2 id="å¦‚ä½•æ’å€¼ï¼šBarycentric-coordinates"><a href="#å¦‚ä½•æ’å€¼ï¼šBarycentric-coordinates" class="headerlink" title="å¦‚ä½•æ’å€¼ï¼šBarycentric coordinates"></a>å¦‚ä½•æ’å€¼ï¼šBarycentric coordinates</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><ul><li>é¦–å…ˆæ˜ç¡®çš„æ˜¯ï¼Œé‡å¿ƒåæ ‡æ˜¯å®šä¹‰åœ¨ä¸‰è§’å½¢ä¸Šçš„ï¼Œæ„æ€æ˜¯æ¯ä¸ªä¸‰è§’å½¢éƒ½æœ‰ä¸€ä¸ªé‡å¿ƒåæ ‡ç³»ï¼Œå½“ä¸‰è§’å½¢ä¸åŒæ—¶ï¼Œå…¶é‡å¿ƒåæ ‡ä¹Ÿä¸åŒï¼›</li><li>ä¸‰è§’å½¢å†…çš„ä»»æ„ä¸€ç‚¹ $(x, y)$ å‡å¯ä»¥è¡¨ç¤ºæˆä¸‰è§’å½¢é¡¶ç‚¹çš„çº¿æ€§ç»„åˆï¼›  $$<br>  (x, y) = \alpha A + \beta B + \gamma C<br>  $$</li><li>å…¶ä¸­ï¼Œç§° $(\alpha, \beta, \gamma)$ ä¸º $(x,y)$ çš„é‡å¿ƒåæ ‡ï¼Œå…¶ä¸­ä¸‰è€…éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š<ul><li>ä¸‰è€…ç›¸åŠ ä¸º1ï¼šä¿è¯ç‚¹ $(x,y)$ åœ¨ä¸‰è§’å½¢æ‰€åœ¨çš„å¹³é¢ä¸Šï¼›  $$<br>  \alpha + \beta + \gamma = 1<br>  $$</li><li>ä¸‰è€…å‡ä¸ºéè´Ÿå€¼ï¼šä¿è¯ç‚¹ $(x,y)$ åœ¨ä¸‰è§’å½¢å†…éƒ¨ï¼›  $$<br>  \alpha \ge 0 \wedge  \beta \ge 0 \wedge \gamma \ge 0<br>  $$</li></ul></li></ul><h3 id="Geometric-viewpoint-â€”-proportional-areas"><a href="#Geometric-viewpoint-â€”-proportional-areas" class="headerlink" title="Geometric viewpoint â€” proportional areas"></a>Geometric viewpoint â€” proportional areas</h3><p>è®¡ç®—ä¸‰è§’å½¢å†…ä»»æ„ä¸€ç‚¹çš„é‡å¿ƒåæ ‡ï¼Œå¯ä»¥ä»å‡ ä½•é¢ç§¯çš„è§’åº¦è€ƒè™‘ã€‚</p><p><img src="/images/games101/09/1/area_compute.png" alt="è®¡ç®—ä»»æ„ä¸€ç‚¹é‡å¿ƒåæ ‡"></p><p>ä¸‰è§’å½¢çš„é‡å¿ƒçš„é‡å¿ƒåæ ‡ï¼š</p><p><img src="/images/games101/09/1/centroid.png" alt="ä¸‰è§’å½¢çš„é‡å¿ƒçš„é‡å¿ƒåæ ‡"></p><h3 id="ä¸€èˆ¬åŒ–è®¡ç®—å…¬å¼"><a href="#ä¸€èˆ¬åŒ–è®¡ç®—å…¬å¼" class="headerlink" title="ä¸€èˆ¬åŒ–è®¡ç®—å…¬å¼"></a>ä¸€èˆ¬åŒ–è®¡ç®—å…¬å¼</h3><p><img src="/images/games101/09/1/general_compute.png" alt="é‡å¿ƒåæ ‡çš„ä¸€èˆ¬åŒ–è®¡ç®—å…¬å¼"></p><h3 id="Using-Barycentric-Coordinates"><a href="#Using-Barycentric-Coordinates" class="headerlink" title="Using Barycentric Coordinates"></a>Using Barycentric Coordinates</h3><p>å½“é’ˆå¯¹ä¸‰è§’å½¢å†…ä»»æ„ä¸€ç‚¹è®¡ç®—å¾—åˆ°å¯¹åº”çš„é‡å¿ƒåæ ‡åï¼Œå¯ä»¥åˆ©ç”¨è¯¥é‡å¿ƒåæ ‡å¯¹ä»»æ„çš„å±æ€§è¿›è¡Œæ’å€¼ï¼Œæ‰€è°“çš„æ’å€¼ï¼Œåœ¨è¿™é‡ŒæŒ‡çš„å°±æ˜¯é€šè¿‡å¯¹ä¸‰è§’å½¢é¡¶ç‚¹å±æ€§çš„çº¿æ€§ç»„åˆå¾—åˆ°è‡ªèº«çš„å±æ€§ã€‚</p><p><img src="/images/games101/09/1/bc_compute.png" alt="é‡å¿ƒåæ ‡çš„åº”ç”¨"></p><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><blockquote><p>However, barycentric coordinates are not invariant under projection!</p></blockquote><p>åœ¨ä¸‰è§’å½¢å®ŒæˆæŠ•å½±åï¼Œä¸‰è§’å½¢å†…ä»»æ„ä¸€ç‚¹çš„é‡å¿ƒåæ ‡å¯èƒ½å‘ç”Ÿå˜åŒ–ã€‚å› æ­¤é’ˆå¯¹3Dä¸­çš„ä¸‰è§’å½¢è¿›è¡Œæ’å€¼æ—¶ï¼Œéœ€è¦åˆ©ç”¨3Dåæ ‡è¿›è¡Œæ’å€¼ï¼Œè€Œä¸æ˜¯åˆ©ç”¨æŠ•å½±åçš„2Dåæ ‡è¿›è¡Œæ’å€¼ï¼Œä¾‹å¦‚ï¼šåœ¨å¯¹3Dç‰©ä½“çš„æ·±åº¦ä¿¡æ¯æ—¶è¿›è¡Œæ’å€¼æ—¶ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shading </tag>
            
            <tag> Texture Mapping </tag>
            
            <tag> Barycentric coordinates </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-08-2ï¼šShading - Graphics Pipeline</title>
      <link href="/2022/05/01/ji-suan-ji-tu-xing-xue/games/games101-08-2-shading-graphics-pipeline/"/>
      <url>/2022/05/01/ji-suan-ji-tu-xing-xue/games/games101-08-2-shading-graphics-pipeline/</url>
      
        <content type="html"><![CDATA[<h1 id="Graphics-Pipeline"><a href="#Graphics-Pipeline" class="headerlink" title="Graphics Pipeline"></a>Graphics Pipeline</h1><p>ä»çœŸå®ä¸–ç•Œåœºæ™¯ä¸­çš„ç‰©ä½“åˆ°æœ€ç»ˆçš„ä¸€å¼ å›¾çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå…¶ä¸­æ¶‰åŠä¸åŒçš„æ“ä½œã€‚</p><p><img src="/images/games101/08/2/pipeline.png" alt="Graphics Pipeline"></p><ul><li>Vertex Processingï¼šå…¶å®å°±æ˜¯MVPå˜æ¢å¯¹åº”çš„è¿‡ç¨‹ï¼›</li><li>Triangle Processingï¼šæ˜¯å°†ä¸‰ç»´ç‰©ä½“ä¸­çš„ç‚¹å…¨éƒ¨å®ŒæˆæŠ•å½±åï¼Œæ ¹æ®å­˜å‚¨çš„ç‚¹ä¹‹é—´çš„è¿æ¥ä¿¡æ¯ï¼Œå½¢æˆä¸‰è§’å½¢ï¼Œè¿™åªæ˜¯ä¸åŒçš„å¤„ç†æ–¹æ³•è€Œå·²ï¼Œä¹Ÿå¯ä»¥åœ¨æŠ•å½±è¿‡ç¨‹ä¸­ç›´æ¥è¿æ¥ã€‚</li></ul><h1 id="å…·ä½“è¿‡ç¨‹"><a href="#å…·ä½“è¿‡ç¨‹" class="headerlink" title="å…·ä½“è¿‡ç¨‹"></a>å…·ä½“è¿‡ç¨‹</h1><p><img src="/images/games101/08/2/details.png" alt="Graphics Pipelineå„ä¸ªæ­¥éª¤"></p><p>æ‰€æœ‰è¿™äº›è¿‡ç¨‹å‡å·²ç»åœ¨GPUç¡¬ä»¶ä¸Šå®ç°ï¼Œå…¶ä¸­å¯¹äºå…·ä½“çš„shadingæ–¹æ³•å¯ä»¥é€šè¿‡å¯¹ç¡¬ä»¶ç¼–ç¨‹å®ç°ï¼Œè¿™ä¸ªç¼–ç¨‹æ˜¯åˆ¤æ–­å¦‚ä½•å¯¹ä¸‰è§’å½¢çš„é¡¶ç‚¹å’Œåƒç´ è¿›è¡Œç€è‰²ï¼Œå¯ä»¥é€šè¿‡ä»£ç å®ç°ä¸åŒçš„ç€è‰²ç»“æœï¼Œè¿™éƒ¨åˆ†ä»£ç ç§°ä¹‹ä¸ºshaderã€‚</p><h1 id="Shader-Programs"><a href="#Shader-Programs" class="headerlink" title="Shader Programs"></a>Shader Programs</h1><ul><li>Program vertex and fragment processing stages</li><li>Describe operation on a single vertex (or fragment)  åªéœ€è¦é’ˆå¯¹ä¸€ä¸ªé¡¶ç‚¹æˆ–è€…åƒç´ å†™shaderå³å¯ï¼›</li></ul><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>openGLä¸­å®ç°æ¼«åå°„shaderã€‚</p><pre class=" language-cpp"><code class="language-cpp">uniform sampler2D myTexture<span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// program parameter</span>uniform vec3 lightDir<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// program parameter</span>varying vec2 uv<span class="token punctuation">;</span>                  <span class="token comment" spellcheck="true">// per fragment value (interp. by rasterizer)</span>varying vec3 norm<span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">// per fragment value (interp. by rasterizer)</span><span class="token keyword">void</span> <span class="token function">diffuseShader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    vec3 kd<span class="token punctuation">;</span>    kd <span class="token operator">=</span> <span class="token function">texture2d</span><span class="token punctuation">(</span>myTexture<span class="token punctuation">,</span> uv<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment" spellcheck="true">// material color from texture</span>    kd <span class="token operator">*</span><span class="token operator">=</span> <span class="token function">clamp</span><span class="token punctuation">(</span><span class="token function">dot</span><span class="token punctuation">(</span>â€“lightDir<span class="token punctuation">,</span> norm<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// Lambertian shading model</span>    gl_FragColor <span class="token operator">=</span> <span class="token function">vec4</span><span class="token punctuation">(</span>kd<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment" spellcheck="true">// output fragment color</span><span class="token punctuation">}</span></code></pre><ul><li>Shader function executes once per fragment.</li><li>Outputs color of surface at the current fragmentâ€™s screen sample position.</li><li>This shader performs a texture lookup to obtain the surfaceâ€™s material color at this point, then performs a diffuse lighting calculation.</li></ul><h1 id="Graphics-Pipeline-Implementation-GPUs"><a href="#Graphics-Pipeline-Implementation-GPUs" class="headerlink" title="Graphics Pipeline Implementation: GPUs"></a>Graphics Pipeline Implementation: GPUs</h1><p>Specialized processors for executing graphics pipeline computations:</p><ul><li>Discrete GPU Card</li><li>Integrated GPU (Part of Intel CPU die)</li></ul><p><img src="/images/games101/08/2/gpu.png" alt="GPUs"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shading </tag>
            
            <tag> Graphics Pipeline </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-08-1ï¼šShading - Shading Frequencies</title>
      <link href="/2022/05/01/ji-suan-ji-tu-xing-xue/games/games101-08-1-shading-shading-frequencies/"/>
      <url>/2022/05/01/ji-suan-ji-tu-xing-xue/games/games101-08-1-shading-shading-frequencies/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>å‰é¢çš„Blinn-Phong Modelæ˜¯é’ˆå¯¹å•ä¸ªshading pointè¿›è¡Œç€è‰²ï¼Œä¸‹ä¸€æ­¥æ˜¯é’ˆå¯¹å…·ä½“çš„ç‰©ä½“è¿›è¡Œç€è‰²ã€‚</p><p>å¯¹äºåŒæ ·çš„å‡ ä½•ç‰©ä½“ï¼Œä¸åŒçš„ç€è‰²é¢‘ç‡ä¼šå¯¼è‡´ä¸åŒçš„ç»“æœï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="/images/games101/08/1/problem.png" alt="å¯¹çœŸå®ç‰©ç†å¯¹è±¡ç€è‰²æ—¶çš„é—®é¢˜"></p><ul><li>å›¾1æ˜¯é’ˆå¯¹ä¸€ä¸ªé¢è¿›è¡Œç€è‰²ï¼Œå³åœ¨ä¸€ä¸ªé¢ä¸Šåªç€è‰²ä¸€æ¬¡ï¼›</li><li>å›¾2æ˜¯é’ˆå¯¹ä¸‰è§’å½¢çš„é¡¶ç‚¹è¿›è¡Œç€è‰²ï¼Œç„¶åä¸‰è§’å½¢å†…éƒ¨é€šè¿‡æ’å€¼è¡¥å…¨å…¶ä»–çš„ç€è‰²åŒºåŸŸï¼›</li><li>å›¾3æ˜¯é’ˆå¯¹æ¯ä¸ªåƒç´ è¿›è¡Œç€è‰²ï¼Œé€šè¿‡è®¡ç®—ä¸‰è§’å½¢é¡¶ç‚¹çš„æ³•çº¿æ–¹å‘ï¼Œç„¶åå¯¹æ¯ä¸ªåƒç´ çš„æ³•çº¿æ–¹å‘è¿›è¡Œæ’å€¼ï¼Œç„¶åè¿›è¡Œç€è‰²ï¼›</li></ul><p>è¿™ä¸‰ç§æ–¹æ³•ï¼Œæ•ˆæœæ˜¯è¶Šæ¥è¶Šå¥½ï¼Œä½†æ˜¯è®¡ç®—é‡ä¹Ÿæ˜¯è¶Šæ¥è¶Šå¤§ã€‚</p><h1 id="Flat-shading-shade-each-triangle"><a href="#Flat-shading-shade-each-triangle" class="headerlink" title="Flat shading: shade each triangle"></a>Flat shading: shade each triangle</h1><ul><li>Triangle face is flat â€” one normal vector</li><li>Not good for smooth surfaces</li></ul><p><img src="/images/games101/08/1/flat.png" alt="Flat shadingçš„æ•ˆæœ"></p><h1 id="Gouraud-shading-shade-each-vertex"><a href="#Gouraud-shading-shade-each-vertex" class="headerlink" title="Gouraud shading: shade each vertex"></a>Gouraud shading: shade each vertex</h1><ul><li>Interpolate colors from vertices across triangle<ul><li>æ’å€¼çš„å†…å®¹åœ¨åç»­çš„è¯¾ç¨‹ä¸­æä¾›ï¼›</li></ul></li><li>Each vertex has a normal vector</li></ul><p><img src="/images/games101/08/1/gouraud.png" alt="Gouraud shadingçš„æ•ˆæœ"></p><h2 id="Defining-Per-Vertex-Normal-Vectors"><a href="#Defining-Per-Vertex-Normal-Vectors" class="headerlink" title="Defining Per-Vertex Normal Vectors"></a>Defining Per-Vertex Normal Vectors</h2><h3 id="From-the-underlying-geometry"><a href="#From-the-underlying-geometry" class="headerlink" title="From the underlying geometry"></a>From the underlying geometry</h3><p>Best to get vertex normals from the underlying geometryï¼šè¿‡äºç†æƒ³ï¼›</p><ul><li>e.g. consider a sphere</li></ul><p><img src="/images/games101/08/1/geometry_normal.png" alt="åˆ©ç”¨å¹³é¢æ‰€è¦†ç›–çš„å›¾å½¢è®¡ç®—æ³•çº¿å‘é‡"></p><h3 id="åˆ©ç”¨é‚»å±…è¿›è¡Œå¹³å‡"><a href="#åˆ©ç”¨é‚»å±…è¿›è¡Œå¹³å‡" class="headerlink" title="åˆ©ç”¨é‚»å±…è¿›è¡Œå¹³å‡"></a>åˆ©ç”¨é‚»å±…è¿›è¡Œå¹³å‡</h3><p>ä¸€èˆ¬åŒ–çš„æ–¹æ³•ï¼š infer vertex normals from triangle faces</p><ul><li>ç®€å•æ–¹æ³•: average surrounding face normalsï¼›  å…¶ä¸­ N_væ˜¯é¡¶ç‚¹çš„æ³•çº¿å‘é‡ï¼Œ$N_i$ æ˜¯è¯¥é¡¶ç‚¹ç›¸é‚»çš„ä¸‰è§’å½¢çš„æ³•çº¿å‘é‡ã€‚è®¡ç®—å®Œæˆåï¼Œéœ€è¦å°†å¾—åˆ°çš„æ³•çº¿å‘é‡å½’ä¸€åŒ–ï¼Œå› ä¸ºåªå…³å¿ƒæ–¹å‘ã€‚</li></ul><p>$$<br>N_v = \frac{\sum_{i}{}N_i}{\Vert \sum_{i}{}N_i \Vert}<br>$$</p><p><img src="/images/games101/08/1/vertex_normal.png" alt="è®¡ç®—Vertexçš„æ³•çº¿å‘é‡"></p><ul><li>åŠ æƒå¹³å‡ï¼šæŒ‰ç…§ä¸‰è§’å½¢é¢ç§¯è¿›è¡Œæ³•çº¿å‘é‡çš„å¹³å‡ï¼›</li></ul><h1 id="Phong-shading-shade-each-pixel"><a href="#Phong-shading-shade-each-pixel" class="headerlink" title="Phong shading: shade each pixel"></a>Phong shading: shade each pixel</h1><ul><li>Interpolate normal vectors across each triangle</li><li>Compute full shading model at each pixel</li><li>Not the Blinn-Phong Reflectance Modelï¼šä¸Phong shadingå‡ä¸ºåŒä¸€ä¸ªäººæå‡ºçš„ï¼›</li></ul><p><img src="/images/games101/08/1/phong.png" alt="Phong shadingçš„æ•ˆæœ"></p><h2 id="Defining-Per-Pixel-Normal-Vectors"><a href="#Defining-Per-Pixel-Normal-Vectors" class="headerlink" title="Defining Per-Pixel Normal Vectors"></a>Defining Per-Pixel Normal Vectors</h2><p>æ ¹æ®ä¹‹å‰å¾—åˆ°äº†ä¸‰è§’å½¢é¡¶ç‚¹çš„æ³•çº¿å‘é‡ï¼Œå¯ä»¥åˆ©ç”¨é¡¶ç‚¹çš„æ³•çº¿å‘é‡è¿›ä¸€æ­¥å¾—åˆ°æ¯ä¸ªåƒç´ çš„å‘é‡ï¼Œè¿™é‡Œéœ€è¦åˆ©ç”¨ Barycentric interpolation of vertex normals æ¥å®Œæˆï¼Œåç»­ä¼šä»‹ç»ã€‚</p><h1 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h1><p>è¿™ä¸‰ç§æ–¹æ³•ä¸ä¸€å®šæ˜¯å“ªç§ä¸€å®šæœ€å¥½ï¼Œå¦‚ä¸‹å›¾ï¼šå½“ç‰©ä½“çš„é¡¶ç‚¹å¾ˆå¤šæ—¶ï¼Œæˆ–è€…ä¸‰è§’å½¢å¾ˆå¯†é›†æ—¶ï¼Œä½¿ç”¨ç®€å•çš„Face shadingæ•ˆæœä¹Ÿä¸é”™ã€‚</p><p><img src="/images/games101/08/1/compare.png" alt="ä¸‰ç§ç€è‰²é¢‘ç‡æ•ˆæœçš„å¯¹æ¯”"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shading </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-07ï¼šShading - Blinn-Phong Model</title>
      <link href="/2022/05/01/ji-suan-ji-tu-xing-xue/games/games101-07-shading-blinn-phong-model/"/>
      <url>/2022/05/01/ji-suan-ji-tu-xing-xue/games/games101-07-shading-blinn-phong-model/</url>
      
        <content type="html"><![CDATA[<h1 id="Shadingå«ä¹‰"><a href="#Shadingå«ä¹‰" class="headerlink" title="Shadingå«ä¹‰"></a>Shadingå«ä¹‰</h1><ul><li>Merriam-Webster Dictionary  The darkening or coloring of an illustration or diagram with parallel lines or a block of color</li><li>æœ¬è¯¾å®šä¹‰  The process of applying a material to an object.</li></ul><h1 id="Blinn-Phong-Reflectance-Model"><a href="#Blinn-Phong-Reflectance-Model" class="headerlink" title="Blinn-Phong Reflectance Model"></a>Blinn-Phong Reflectance Model</h1><h2 id="Perceptual-Observations"><a href="#Perceptual-Observations" class="headerlink" title="Perceptual Observations"></a>Perceptual Observations</h2><ul><li>Specular highlights é«˜å…‰</li><li>Diffuse reflection: æ¼«åå°„</li><li>Ambient lightingï¼šç¯å¢ƒå…‰ç…§ï¼Œæœªè¢«å…‰æºç…§äº®çš„åœ°æ–¹åº”è¯¥æ˜¯é»‘æš—çš„ï¼Œä½†æ˜¯ä¸€äº›é—´æ¥å…‰ç…§ä¼šä½¿å¾—è¯¥åœ°æ–¹æ¥æ”¶åˆ°éƒ¨åˆ†å…‰ï¼Œåœ¨è¯¥æ¨¡å‹ä¸­è§†ä¸ºå¸¸é‡ï¼›</li></ul><p><img src="/images/games101/07/obser.png" alt="Blinn-Phong Modelä¸­çš„ä¸‰ç§å…ƒç´ "></p><h2 id="æ¦‚å¿µå®šä¹‰"><a href="#æ¦‚å¿µå®šä¹‰" class="headerlink" title="æ¦‚å¿µå®šä¹‰"></a>æ¦‚å¿µå®šä¹‰</h2><h3 id="Shading-point"><a href="#Shading-point" class="headerlink" title="Shading point"></a>Shading point</h3><blockquote><p>Compute light reflected toward camera at a specific <strong>shading point</strong>.</p></blockquote><p>Inputs:</p><ul><li>Viewer direction, $v$</li><li>Surface normal, $n$</li><li>Light direction, $l$ (for each of many lights)</li><li>Surface parameters (color, shininess, â€¦)ï¼šå¾…ç€è‰²ç‰©ä½“çš„ä¸€äº›æ€§è´¨ï¼›</li></ul><p>æ‰€æœ‰çš„å‘é‡éƒ½æ˜¯å•ä½å‘é‡ï¼Œå› ä¸ºåªè€ƒè™‘æ–¹å‘ï¼Œä¸è€ƒè™‘å¤§å°ã€‚</p><p><img src="/images/games101/07/shading_point.png" alt="Shading point"></p><h3 id="Shading-is-Local"><a href="#Shading-is-Local" class="headerlink" title="Shading is Local"></a>Shading is Local</h3><p>ç€è‰²æ˜¯å±€éƒ¨ï¼Œæ€ä¹ˆç†è§£ï¼Ÿå³ç€è‰²æ˜¯é’ˆå¯¹shading pointæ¥è¯´çš„ï¼Œä¸è€ƒè™‘å…¶ä»–å› ç´ ï¼Œä¾‹å¦‚ï¼šé®æŒ¡ã€èƒŒå½±ç­‰ï¼Œå³ä¸åŒçš„ç‚¹çš„ç€è‰²è¿‡ç¨‹æ˜¯å½¼æ­¤ç‹¬ç«‹çš„ï¼Œä¹‹é—´æ²¡æœ‰å…³ç³»ã€‚ä¸ä¼šå› ä¸ºä¸€äº›ç‰©ä½“é®æŒ¡å¦ä¸€äº›ç‰©ä½“å¯¼è‡´æ— æ³•ç€è‰²ã€‚</p><p><img src="/images/games101/07/local.png" alt="Shadingä¸è€ƒè™‘é˜´å½±"></p><h1 id="Diffuse-Reflection"><a href="#Diffuse-Reflection" class="headerlink" title="Diffuse Reflection"></a>Diffuse Reflection</h1><h2 id="å‡è®¾"><a href="#å‡è®¾" class="headerlink" title="å‡è®¾"></a>å‡è®¾</h2><p>Light is scattered uniformly in all directions</p><ul><li>Surface color is the same for all viewing directions</li></ul><p><img src="/images/games101/07/diffuse.png" alt="Diffuse Reflection"></p><h2 id="Lambertian-Shading"><a href="#Lambertian-Shading" class="headerlink" title="Lambertian Shading"></a><strong>Lambertian Shading</strong></h2><h3 id="Lambertâ€™s-cosine-law"><a href="#Lambertâ€™s-cosine-law" class="headerlink" title="Lambertâ€™s cosine law"></a>Lambertâ€™s cosine law</h3><p>åœ¨å…‰çš„ä¼ æ’­ä¸­ï¼Œæœ‰å¤šå°‘å…‰è¢«shading pointæ¥æ”¶äº†ï¼Ÿå–å†³äºshading pointçš„æ³•çº¿è§’åº¦å’Œå…‰çš„ä¼ è¾“æ–¹å‘ã€‚</p><p><img src="/images/games101/07/lambert.png" alt="Lambertâ€™s cosine law"></p><h3 id="å…‰çš„èƒ½é‡ä¼ é€’"><a href="#å…‰çš„èƒ½é‡ä¼ é€’" class="headerlink" title="å…‰çš„èƒ½é‡ä¼ é€’"></a>å…‰çš„èƒ½é‡ä¼ é€’</h3><blockquote><p>å‡è®¾ï¼šå…‰åœ¨çœŸç©ºä¸­ä¼ é€’ï¼Œæ²¡æœ‰èƒ½é‡æŸå¤±ï¼Œå› æ­¤å…‰çš„èƒ½é‡åœ¨ä¸åŒçš„æ—¶é—´ç‚¹ï¼Œåœ¨ä¸åŒçš„èŒƒå›´å†…æ˜¯å®ˆæ’çš„ã€‚</p></blockquote><p>è®¾å®šè·ç¦»å…‰æºé•¿åº¦ä¸º1çš„çƒé¢ä¸Šï¼Œå•ä½é¢ç§¯æ¥æ”¶çš„å…‰çš„èƒ½é‡ä¸º $I$ã€‚åœ¨è·ç¦»å…‰æºé•¿åº¦ä¸º $r^2$ çš„çƒé¢ä¸Šå•ä½é¢ç§¯ä¸Šçš„å…‰çš„èƒ½é‡æ˜¯ $\frac{I}{r^2}$ ã€‚</p><p><img src="/images/games101/07/intensity.png" alt="å‡è®¾å…‰çš„èƒ½é‡ä¼ é€’æ²¡æœ‰æŸå¤±"></p><h3 id="æ¼«å‘å°„çš„å…‰"><a href="#æ¼«å‘å°„çš„å…‰" class="headerlink" title="æ¼«å‘å°„çš„å…‰"></a>æ¼«å‘å°„çš„å…‰</h3><p>è€ƒè™‘çš„å› ç´ ï¼š</p><ul><li>shading pointè·ç¦»å…‰æºçš„è·ç¦»ï¼›</li><li>å…‰æºå…¥å°„çš„è§’åº¦ï¼šä¹Ÿå°±æ˜¯å…‰çº¿æ–¹å‘ä¸shading pointæ³•çº¿çš„å¤¹è§’ï¼Œè¿™é‡Œåªè€ƒè™‘åå°„ï¼Œä¸è€ƒè™‘æŠ˜å°„ï¼›</li><li>shading pointè‡ªèº«çš„ç‰¹æ€§ï¼šå…¶å¯èƒ½å¸æ”¶éƒ¨åˆ†å…‰ï¼Œå¹¶ä¸ä¼šå°†æ‰€æœ‰çš„å…‰å…¨éƒ¨åå°„å‡ºå»ï¼›</li><li>Shading independent of view directionï¼šå³è§‚å¯Ÿè€…ä»ä»»ä½•æ–¹å‘çœ‹éƒ½ä¼šå¾—åˆ°ä¸€è‡´çš„ç»“æœï¼›</li></ul><p><img src="/images/games101/07/diffuse_term.png" alt="Diffuse Term"></p><p>æ³¨æ„ï¼š</p><ul><li>è¯¥æ¨å¯¼æ˜¯ä¸€ä¸ªç»éªŒå…¬å¼ï¼Œå¹¶ä¸ä»£è¡¨å®ƒåœ¨æ•°å­¦ä¸Šæ˜¯æ­£ç¡®çš„ï¼ˆæ‰€æœ‰æ¨¡å‹éƒ½æ˜¯é”™çš„ï¼Œä½†æœ‰ä¸€äº›æœ‰ç”¨ï¼‰ï¼›</li><li>å…¶ä¸­ï¼Œ$k_d$ ä½œä¸ºæ¼«åå°„ç³»æ•°å†³å®šäº†äº®åº¦å’Œé¢œè‰²ï¼›  <img src="/images/games101/07/kd.png" alt="æ¼«åå°„ç³»æ•°çš„å½±å“"></li><li>$max(â€¦)$ å†³å®šäº†ä¸è€ƒè™‘å…‰ä»shading pointåº•éƒ¨å°„å…¥çš„æƒ…å†µï¼Œå³æŠ˜å°„çš„æƒ…å†µï¼›</li></ul><h1 id="Specular-Term"><a href="#Specular-Term" class="headerlink" title="Specular Term"></a>Specular Term</h1><h2 id="ä½•æ—¶å‡ºç°é«˜å…‰"><a href="#ä½•æ—¶å‡ºç°é«˜å…‰" class="headerlink" title="ä½•æ—¶å‡ºç°é«˜å…‰"></a>ä½•æ—¶å‡ºç°é«˜å…‰</h2><p>â€œé«˜å…‰â€è¡¨ç¤ºshading pointæ‰€åœ¨çš„å¹³é¢ç›¸å¯¹è¾ƒå…‰æ»‘ï¼Œå› æ­¤å¯ä»¥è¿‘ä¼¼ä¸ºé•œé¢åå°„ã€‚å½“è§‚å¯Ÿæ–¹å‘ä¸é•œé¢åå°„çš„æ–¹å‘è¶‹è¿‘æ—¶ï¼Œå¯ä»¥çœ‹åˆ°é«˜å…‰ï¼Œå³ï¼š</p><ul><li>Intensity depends on view direction</li><li>Bright near mirror reflection direction</li></ul><p><img src="/images/games101/07/specular.png" alt="Specular highlights"></p><h2 id="å¦‚ä½•å¯¹é«˜å…‰å»ºæ¨¡"><a href="#å¦‚ä½•å¯¹é«˜å…‰å»ºæ¨¡" class="headerlink" title="å¦‚ä½•å¯¹é«˜å…‰å»ºæ¨¡"></a>å¦‚ä½•å¯¹é«˜å…‰å»ºæ¨¡</h2><p>æƒ³æ³•è½¬æ¢ï¼šå¯¹äºå°†<strong>è§‚å¯Ÿæ–¹å‘ä¸é•œé¢åå°„çš„æ–¹å‘è¶‹è¿‘ï¼Œè¡¨ç¤ºä¸ºå…¥å°„å’Œè§‚å¯Ÿæ–¹å‘çš„åŠç¨‹å‘é‡ä¸shading pointçš„æ³•çº¿æ–¹å‘è¶‹è¿‘ã€‚</strong>ï¼ˆå› ä¸ºä¹‹å‰çš„ï¼‰</p><p><img src="/images/games101/07/specular_term.png" alt="Specular Term"></p><p>æ³¨æ„ï¼š</p><ul><li>è¡¡é‡å‘é‡æ¥è¿‘ï¼šä½¿ç”¨dot productï¼›</li><li>è¿™é‡Œæ²¡æœ‰è€ƒè™‘æœ‰å¤šå°‘å…‰è¢«å¸æ”¶ï¼Œç±»ä¼¼äºæ¼«åå°„ä¸­éœ€è¦å¯¹ $l,n$ è¿›è¡Œdot productï¼Œåšäº†ç®€åŒ–ï¼›</li><li>$k_s$ æ˜¯surfaceçš„é•œé¢åå°„ç³»æ•°ï¼Œä¸æ¼«åå°„ä¸­çš„ $k_d$ å«ä¹‰ç›¸åŒï¼›  <img src="/images/games101/07/ks_p.png" alt="é•œé¢åå°„ç³»æ•°å’Œpçš„å½±å“"></li><li>æŒ‡æ•° $p$ çš„ä½œç”¨ï¼šincreasing p narrows the reflection lobe é™åˆ¶é«˜å…‰çš„èŒƒå›´ï¼Œå³é«˜å…‰åªåœ¨ç‰¹å®šçš„èŒƒå›´å†…å‡ºç°ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´åˆ™çœ‹ä¸åˆ°ï¼Œè¯¥æŒ‡æ•°ä½¿å¾—èƒ½å¤Ÿå¿«é€Ÿè¡°å‡é«˜å…‰çš„å€¼ã€‚ä¸€èˆ¬å–100ï¼Œ200ç­‰ã€‚  <img src="/images/games101/07/p.png" alt="æŒ‡æ•°pèƒ½è¡°å‡é«˜å…‰"></li></ul><h1 id="Ambient-Term"><a href="#Ambient-Term" class="headerlink" title="Ambient Term"></a>Ambient Term</h1><p>Shading that does not depend on anything: </p><ul><li>Add constant color to account for disregarded<br>illumination and fill in black shadows</li><li>This is approximate / fake!</li></ul><p><img src="/images/games101/07/ambient_term.png" alt="Ambient Term"></p><p>æ³¨æ„ï¼Œè¿™é‡Œçš„ç¯å¢ƒå…‰ï¼š</p><ul><li>ä¸å…‰çš„å…¥å°„æ–¹å‘æ— å…³ï¼›</li><li>ä¸è§‚å¯Ÿæ–¹å‘ä¹Ÿæ— å…³ï¼›</li><li>å…¶æ ¹æœ¬ä½œç”¨æ˜¯ä¿è¯æœªè¢«å…‰ç…§åˆ°çš„åœ°æ–¹ä¸ä¼šé»‘æš—ï¼›</li></ul><h1 id="æ€»ç»“ï¼šBlinn-Phong-Reflection-Model"><a href="#æ€»ç»“ï¼šBlinn-Phong-Reflection-Model" class="headerlink" title="æ€»ç»“ï¼šBlinn-Phong Reflection Model"></a>æ€»ç»“ï¼šBlinn-Phong Reflection Model</h1><p>$$<br>\begin{aligned}L &amp;=L_{a}+L_{d}+L_{s} \\ &amp;=<br>k_{a} I_{a}+k_{d}\left( \frac{I}{r^{2}} \right) \max (0, \mathbf{n} \cdot \mathbf{l})+k_{s}\left(\frac{I}{r^2} \right) \max (0, \mathbf{n} \cdot \mathbf{h})^{p}\end{aligned}<br>$$</p><p><img src="/images/games101/07/summary.png" alt="Blinn-Phong Reflection Modelä¸­ä¸åŒé¡¹å¯¹åº”çš„æ•ˆæœ"></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shading </tag>
            
            <tag> Blinn-Phong Model </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-06-2ï¼šRasterization - Z-Buffering</title>
      <link href="/2022/04/30/ji-suan-ji-tu-xing-xue/games/games101-06-2-rasterization-z-buffering/"/>
      <url>/2022/04/30/ji-suan-ji-tu-xing-xue/games/games101-06-2-rasterization-z-buffering/</url>
      
        <content type="html"><![CDATA[<h1 id="é—®é¢˜ï¼šVisibility-occlusion"><a href="#é—®é¢˜ï¼šVisibility-occlusion" class="headerlink" title="é—®é¢˜ï¼šVisibility / occlusion"></a>é—®é¢˜ï¼šVisibility / occlusion</h1><p>å¾ˆå¤šä¸åŒçš„ä¸‰è§’å½¢å½¼æ­¤é‡å ï¼Œä¸ç›¸æœºä¹‹é—´ä¹Ÿå­˜åœ¨ä¸åŒçš„è·ç¦»ï¼Œ</p><h1 id="Painterâ€™s-Algorithm"><a href="#Painterâ€™s-Algorithm" class="headerlink" title="Painterâ€™s Algorithm"></a>Painterâ€™s Algorithm</h1><ul><li>Inspired by how painters paint</li><li>Paint from back to front, overwrite in the framebuffer</li></ul><h2 id="æœ´ç´ æƒ³æ³•"><a href="#æœ´ç´ æƒ³æ³•" class="headerlink" title="æœ´ç´ æƒ³æ³•"></a>æœ´ç´ æƒ³æ³•</h2><ul><li>Requires sorting in depth $(O(n \log n)$ for n triangles)</li></ul><h3 id="å­˜åœ¨é—®é¢˜"><a href="#å­˜åœ¨é—®é¢˜" class="headerlink" title="å­˜åœ¨é—®é¢˜"></a>å­˜åœ¨é—®é¢˜</h3><ul><li>Can have unresolvable depth orderï¼šæœ‰æ—¶æ— æ³•å¾—åˆ°æ·±åº¦æ’åºï¼›</li><li>å› æ­¤å®é™…ä¸­ä¸ä¼šä½¿ç”¨è¯¥ç®—æ³•ï¼›</li></ul><p><img src="/images/games101/06/2/un_do.png" alt="æ— æ³•å¯¹æ·±åº¦è¿›è¡Œæ’åº"></p><h1 id="Z-Buffer"><a href="#Z-Buffer" class="headerlink" title="Z-Buffer"></a>Z-Buffer</h1><h2 id="æƒ³æ³•"><a href="#æƒ³æ³•" class="headerlink" title="æƒ³æ³•"></a>æƒ³æ³•</h2><ul><li>Store <strong>current min. z-value for each sample</strong> (pixel)  æ‰€æœ‰æ“ä½œéƒ½æ˜¯é’ˆå¯¹åƒç´ æ¥è¯´çš„ï¼›</li><li>Needs an additional buffer for depth values<ul><li>frame buffer stores color valuesï¼šå¯¹åº”æœ€åçš„ç»“æœï¼›</li><li>depth buffer (z-buffer) stores depthï¼šå¯¹åº”æ·±åº¦ç¼“å­˜çš„å›¾ï¼›</li></ul></li></ul><blockquote><p>å¤‡æ³¨ï¼šFor simplicity we suppose $z$ is always positive (smaller $z$ -&gt; closer, larger $z$ -&gt; further)ã€‚</p></blockquote><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p><img src="/images/games101/06/2/frame_depth_buffer.png" alt="Frame &amp; Depth Buffer"></p><p>æ·±åº¦å€¼å°ï¼Œå¯¹åº”çš„æ˜¯é»‘è‰²ã€‚</p><h2 id="Z-Buffer-Algorithm"><a href="#Z-Buffer-Algorithm" class="headerlink" title="Z-Buffer Algorithm"></a>Z-Buffer Algorithm</h2><pre class=" language-cpp"><code class="language-cpp">Initialize depth buffer to <span class="token operator">+</span>infDuring rasterization<span class="token operator">:</span><span class="token keyword">for</span> <span class="token punctuation">(</span>each triangle T<span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>each <span class="token function">sample</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span> in T<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>z <span class="token operator">&lt;</span> zbuffer<span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// closest sample so far</span>            framebuffer<span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> rgb<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// update color</span>            zbuffer<span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> z<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// update depth</span>        <span class="token keyword">else</span>            <span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// do nothing, this sample is occluded</span></code></pre><p><img src="/images/games101/06/2/zbuffer.png" alt="Z buffering"></p><h2 id="Z-Buffer-Complexity"><a href="#Z-Buffer-Complexity" class="headerlink" title="Z-Buffer Complexity"></a>Z-Buffer Complexity</h2><p>Complexity</p><ul><li>$O(n)$ for n triangles (assuming constant coverage)</li></ul><p>How is it possible to sort n triangles in linear time?</p><ul><li>è¿™é‡Œå¹¶æ²¡æœ‰å¯¹æ·±åº¦ä¿¡æ¯è¿›è¡Œæ’åºï¼›</li></ul><p>Drawing triangles in different orders?</p><ul><li>ç»“æœä»ç„¶ç›¸åŒï¼Œç»˜åˆ¶ä¸‰è§’å½¢çš„é¡ºåºä¸å½±å“æœ€ç»ˆçš„ç»“æœï¼ˆä¸åŒä¸‰è§’å½¢ä¹‹é—´çš„æ·±åº¦å€¼ä¸å­˜åœ¨é‡å¤ï¼‰ã€‚</li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>Most important visibility algorithm</li><li>Implemented in hardware for all GPUs</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å…‰æ …åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-06-1ï¼šRasterization - Antialiasing</title>
      <link href="/2022/04/30/ji-suan-ji-tu-xing-xue/games/games101-06-1-rasterization-antialiasing/"/>
      <url>/2022/04/30/ji-suan-ji-tu-xing-xue/games/games101-06-1-rasterization-antialiasing/</url>
      
        <content type="html"><![CDATA[<h1 id="Sampling"><a href="#Sampling" class="headerlink" title="Sampling"></a>Sampling</h1><h2 id="å¸¸è§çš„é‡‡æ ·"><a href="#å¸¸è§çš„é‡‡æ ·" class="headerlink" title="å¸¸è§çš„é‡‡æ ·"></a>å¸¸è§çš„é‡‡æ ·</h2><ul><li>Rasterization = Sample 2D Positions</li><li>Photograph = Sample Image Sensor Plane</li><li>Video = Sample Time</li></ul><p><img src="/images/games101/06/1/sample_ex.png" alt="Sampling Examples"></p><h2 id="é‡‡æ ·ä¼šäº§ç”Ÿé—®é¢˜â€”â€”Aliasing"><a href="#é‡‡æ ·ä¼šäº§ç”Ÿé—®é¢˜â€”â€”Aliasing" class="headerlink" title="é‡‡æ ·ä¼šäº§ç”Ÿé—®é¢˜â€”â€”Aliasing"></a>é‡‡æ ·ä¼šäº§ç”Ÿé—®é¢˜â€”â€”Aliasing</h2><p>Sampling Artifacts (Errors / Mistakes / Inaccuracies) in Computer Graphicsï¼š</p><ul><li>Jaggies (Staircase Pattern)ï¼šThis is also an example of â€œaliasingâ€ â€“ a sampling errorï¼›  <img src="/images/games101/06/1/jaggies.png" alt="Jaggies"></li><li>MoirÃ© Patterns in Imagingï¼šSkip odd rows and columns  <img src="/images/games101/06/1/mp.png" alt="MoirÃ© Patterns"></li><li>Wagon Wheel Illusion (False Motion)ï¼šäººçœ¼å¯¹æ—¶é—´çš„é‡‡æ ·æ— æ³•è·Ÿä¸Šè¿åŠ¨çš„é€Ÿåº¦ã€‚  <img src="/images/games101/06/1/wwi.png" alt="Wagon Wheel Illusion"></li></ul><p>Behind the Aliasing Artifacts: Signals are changing too fast (high frequency), but sampled too slowly.</p><h2 id="å¦‚ä½•Antialiasing"><a href="#å¦‚ä½•Antialiasing" class="headerlink" title="å¦‚ä½•Antialiasing"></a>å¦‚ä½•Antialiasing</h2><h3 id="Idea"><a href="#Idea" class="headerlink" title="Idea"></a>Idea</h3><p>Blurring (Pre-Filtering) Before Sampling. é‡‡æ ·ä¹‹å‰è¿›è¡Œæ¨¡ç³Šï¼ˆæ»¤æ³¢ï¼‰ã€‚</p><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p>åœ¨Rasterizationçš„è¿‡ç¨‹ä¸­ï¼Œåèµ°æ ·æ–¹æ³•çš„æ•ˆæœï¼š</p><ul><li>åªé‡‡æ ·ï¼šNote jaggies in rasterized triangle where pixel values are pure red or white;</li><li>æ¨¡ç³Šå†é‡‡æ ·ï¼šNote antialiased edges in rasterized triangle where pixel values take intermediate values;</li></ul><p><img src="/images/games101/06/1/only_sample.png" alt="åªé‡‡æ ·"></p><p><img src="/images/games101/06/1/blur.png" alt="æ¨¡ç³Šå†é‡‡æ ·"></p><h3 id="Blurred-Aliasing-å…ˆé‡‡æ ·å†æ¨¡ç³Šè¡Œå—ï¼Ÿ"><a href="#Blurred-Aliasing-å…ˆé‡‡æ ·å†æ¨¡ç³Šè¡Œå—ï¼Ÿ" class="headerlink" title="Blurred Aliasing: å…ˆé‡‡æ ·å†æ¨¡ç³Šè¡Œå—ï¼Ÿ"></a>Blurred Aliasing: å…ˆé‡‡æ ·å†æ¨¡ç³Šè¡Œå—ï¼Ÿ</h3><p>ä¸å¯ä»¥ï¼Œä¸‹å›¾ä¸­å·¦ä¸Šæ˜¯åŸå§‹å›¾å½¢ï¼Œå³ä¸Šå’Œå³ä¸‹å‡ä¸ºå…ˆæ¨¡ç³Šå†é‡‡æ ·ï¼Œå·¦ä¸‹åˆ™ä¸ºå…ˆé‡‡æ ·å†æ¨¡ç³Šï¼Œå‘ç°ä»ç„¶æœ‰èµ°æ ·ç°è±¡ã€‚</p><p><img src="/images/games101/06/1/blur_sample.png" alt="å…ˆæ¨¡ç³Šå†é‡‡æ ·"></p><p><img src="/images/games101/06/1/sample_blur.png" alt="å…ˆé‡‡æ ·å†æ¨¡ç³Š"></p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ol><li>Why undersampling introduces aliasing?</li><li>Why pre-filtering then sampling can do antialiasing?</li></ol><h1 id="Fourier-Transform"><a href="#Fourier-Transform" class="headerlink" title="Fourier Transform"></a>Fourier Transform</h1><h2 id="é¢‘ç‡"><a href="#é¢‘ç‡" class="headerlink" title="é¢‘ç‡"></a>é¢‘ç‡</h2><p><img src="/images/games101/06/1/freq.png" alt="é¢‘ç‡å®šä¹‰"></p><h2 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h2><blockquote><p>Represent a function as a weighted sum of sines and cosines.</p></blockquote><p>æ³¨æ„ï¼šè¿™é‡Œçš„å‡½æ•°ä¸ä¸€å®šæ˜¯ä¼ ç»Ÿçš„å‘¨æœŸå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯éå‘¨æœŸå‡½æ•°ï¼Œåªæ˜¯å°†éå‘¨æœŸå‡½æ•°çš„å‘¨æœŸè§†ä¸ºæ— ç©·å¤§è€Œå·²ã€‚</p><h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><blockquote><p>Fourier Transform Decomposes A Signal Into Frequencies.</p></blockquote><p><img src="/images/games101/06/1/ft.png" alt="Fourier Transform"></p><h2 id="è§£é‡ŠAliasing"><a href="#è§£é‡ŠAliasing" class="headerlink" title="è§£é‡ŠAliasing"></a>è§£é‡ŠAliasing</h2><h3 id="Higher-Frequencies-Need-Faster-Sampling"><a href="#Higher-Frequencies-Need-Faster-Sampling" class="headerlink" title="Higher Frequencies Need Faster Sampling"></a>Higher Frequencies Need Faster Sampling</h3><ul><li>å¯¹ä½é¢‘ä¿¡å·çš„é‡‡æ ·ï¼Œé‡‡æ ·ç‡ä¸ä¿¡å·é¢‘ç‡ç›¸å·®ä¸å¤šï¼Œä¹Ÿèƒ½å¤Ÿå¤§è‡´é‡å»ºåŸå§‹ä¿¡å·ï¼›</li><li>å¯¹é«˜é¢‘ä¿¡å·çš„é‡‡æ ·ï¼Œå½“é‡‡æ ·ç‡è¿‡ä½æ—¶ï¼Œé‡å»ºåŸå§‹ä¿¡å·æ—¶ä¼šå‡ºç°é”™è¯¯ï¼›</li></ul><p><img src="/images/games101/06/1/sample_freq.png" alt="å¯¹ä¸åŒé¢‘ç‡ä¿¡å·é‡‡æ ·å’Œé‡å»º"></p><h3 id="Undersampling-Creates-Frequency-Aliases"><a href="#Undersampling-Creates-Frequency-Aliases" class="headerlink" title="Undersampling Creates Frequency Aliases"></a>Undersampling Creates Frequency Aliases</h3><p>ä½¿ç”¨åŒæ ·çš„é‡‡æ ·ç‡å¯¹ä¸¤ä¸ªä¸åŒé¢‘ç‡çš„å‡½æ•°é‡‡æ ·ï¼Œå‘ç°å¾—åˆ°çš„ç»“æœç›¸åŒï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ©ç”¨è¯¥é‡‡æ ·å¾—åˆ°çš„ç»“æœé‡å»ºä¿¡å·æ—¶ï¼Œæ— æ³•åŒºåˆ†åŸå§‹ä¿¡å·æ˜¯å“ªä¸ªã€‚</p><p><img src="/images/games101/06/1/undersampling.png" alt="ç”¨ç›¸åŒé‡‡æ ·ç‡é‡‡æ ·ä¸åŒä¿¡å·"></p><ul><li>High-frequency signal is insufficiently sampled: samples erroneously appear to be from a low-frequency signal</li><li>Two frequencies that are indistinguishable at a given sampling rate are called â€œaliasesâ€</li></ul><h1 id="Filtering"><a href="#Filtering" class="headerlink" title="Filtering"></a>Filtering</h1><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><blockquote><p>Filtering = Getting rid of certain frequency contents.</p></blockquote><p><img src="/images/games101/06/1/freq_cont.png" alt="å‚…é‡Œå¶å˜æ¢åçš„é¢‘åŸŸä¿¡æ¯"></p><p>å‚…é‡Œå¶å˜æ¢çš„é¢‘åŸŸä¿¡æ¯å¦‚ä½•ç†è§£ï¼Ÿ</p><ul><li>ä¸­å¿ƒæ˜¯æœ€ä½é¢‘ï¼Œå‘¨å›´æ˜¯é«˜é¢‘å†…å®¹ï¼›</li><li>é¢‘åŸŸçš„ä¿¡æ¯é€šè¿‡é€šè¿‡å³å›¾ä¸­çš„äº®åº¦è¡¨ç¤ºï¼Œä¿¡æ¯è¶Šå¤šï¼Œåˆ™è¶Šäº®ï¼›<ul><li>å›¾ä¸­æ¯ä¸€ç‚¹çš„ç°åº¦å€¼æè¿°çš„æ˜¯æ­£å¼¦æˆ–è€…ä½™å¼¦å‡½æ•°çš„æŒ¯å¹…ï¼›</li></ul></li><li>ä¸­é—´æœ‰ä¸¤ä¸ªäº¤å‰çš„äº®åå­—å¦‚ä½•ç†è§£ï¼Ÿ<ul><li>å› ä¸ºå°†åˆ†æçš„ä¿¡å·è§†ä¸ºå‘¨æœŸé‡å¤æ€§ä¿¡å·ï¼Œä½†æ˜¯å¯¹äºä¸é‡å¤çš„ä¿¡å·ï¼Œä¾‹å¦‚å›¾ç‰‡ï¼Œåˆ™å°†å…¶è§†ä¸ºæ°´å¹³æ–¹å‘é‡å¤å¾ˆå¤šï¼Œç«–ç›´æ–¹å‘ä¹Ÿé‡å¤å¾ˆå¤šï¼›</li></ul></li></ul><p><img src="/images/games101/06/1/repeat.png" alt="äºŒç»´å›¾åƒé‡å¤"></p><h3 id="Filteringå¯å¾—åˆ°ç‰¹å®šé¢‘åŸŸä¿¡æ¯"><a href="#Filteringå¯å¾—åˆ°ç‰¹å®šé¢‘åŸŸä¿¡æ¯" class="headerlink" title="Filteringå¯å¾—åˆ°ç‰¹å®šé¢‘åŸŸä¿¡æ¯"></a>Filteringå¯å¾—åˆ°ç‰¹å®šé¢‘åŸŸä¿¡æ¯</h3><ul><li>High-pass filter</li><li>Low-pass filter</li><li>Filter Out Low and High Frequencies</li></ul><h2 id="Filtering-Convolution-Averaging"><a href="#Filtering-Convolution-Averaging" class="headerlink" title="Filtering = Convolution (= Averaging)"></a>Filtering = Convolution (= Averaging)</h2><h3 id="Convolution"><a href="#Convolution" class="headerlink" title="Convolution"></a>Convolution</h3><blockquote><p>Point-wise local averaging in a â€œsliding windowâ€.</p></blockquote><p>è¿™é‡Œçš„æ“ä½œä¸æ•°å­¦ä¸Šçš„å®šä¹‰ä¸åŒï¼Œå¦‚æœä¸¥æ ¼æŒ‰ç…§æ•°å­¦å®šä¹‰éœ€è¦æ—‹è½¬å·ç§¯æ ¸ã€‚</p><p><img src="/images/games101/06/1/conv.png" alt="å·ç§¯æ“ä½œ"></p><h3 id="Convolution-Theorem"><a href="#Convolution-Theorem" class="headerlink" title="Convolution Theorem"></a>Convolution Theorem</h3><blockquote><p>Convolution in the spatial domain is equal to multiplication in the frequency domain, and vice versa.</p></blockquote><p>æ ¹æ®å·ç§¯å®šç†ï¼Œä»¥ä¸‹ä¸¤ç§æ“ä½œæ˜¯ç­‰ä»·çš„ï¼š</p><ul><li>Option 1<ul><li>Filter by convolution in the spatial domain</li></ul></li><li>Option 2<ul><li>Transform to frequency domain (Fourier transform)</li><li>Multiply by Fourier transform of convolution kernel</li><li>Transform back to spatial domain (inverse Fourier)</li></ul></li></ul><p><img src="/images/games101/06/1/conv_theorem.png" alt="å·ç§¯å®šç†"></p><h3 id="Box-Filter"><a href="#Box-Filter" class="headerlink" title="Box Filter"></a>Box Filter</h3><p>$$<br>\frac{1}{9}<br>\left(<br>\begin{array}{lll}<br>1 &amp; 1 &amp; 1 \\<br>1 &amp; 1 &amp; 1 \\<br>1 &amp; 1 &amp; 1<br>\end{array}<br>\right)<br>$$</p><p>å½’ä¸€åŒ–æ“ä½œæ˜¯ä¸ºäº†ä¸ä¼šå½±å“äº®åº¦çš„å‰§çƒˆå˜åŒ–ã€‚</p><ul><li>Box Function = â€œLow Passâ€ Filter  å·¦ä¾§æ˜¯æ—¶åŸŸä¿¡æ¯ï¼Œå³ä¾§æ˜¯é¢‘åŸŸä¿¡æ¯ã€‚  <img src="/images/games101/06/1/box_f.png" alt="Box Function"></li><li>Wider Filter Kernel = Lower Frequencies  <img src="/images/games101/06/1/wfk.png" alt="Wider Filter Kernel">  ç†è§£æ–¹å¼ï¼šå½“å·ç§¯æ ¸å˜å¤§ï¼Œè¯´æ˜ç§»åŠ¨çš„çª—å£è¦†ç›–çš„èŒƒå›´å˜å¤§ï¼Œå› ä¸ºæœ‰æ›´å¤šçš„åŒºåŸŸè¢«â€œå¹³æ»‘â€äº†ï¼Œå› æ­¤é«˜é¢‘ä¿¡æ¯éƒ½æ¶ˆå¤±äº†ã€‚ä»æç«¯çš„è§’åº¦ç†è§£ï¼Œå½“å·ç§¯æ ¸ä¸å›¾åƒç›¸åŒæ—¶ï¼Œæ•´ä¸ªå›¾åƒéƒ½è¢«â€œå¹³æ»‘â€äº†ï¼Œå¯¹åº”åˆ°é¢‘åŸŸä¿¡æ¯ä¸­çš„åŒºåŸŸä¼šæ›´å°ã€‚å½“å·ç§¯æ ¸çš„å¤§å°ä¸ä¸€ä¸ªåƒç´ ç›¸åŒæ—¶ï¼Œè¯´æ˜å›¾åƒæ²¡æœ‰è¢«â€œå¹³æ»‘â€ï¼Œå› æ­¤é¢‘åŸŸä¿¡æ¯ä¸å˜ã€‚</li></ul><h1 id="å›é¡¾Sampling"><a href="#å›é¡¾Sampling" class="headerlink" title="å›é¡¾Sampling"></a>å›é¡¾Sampling</h1><h2 id="Sampling-Repeating-Frequency-Contents"><a href="#Sampling-Repeating-Frequency-Contents" class="headerlink" title="Sampling=Repeating Frequency Contents"></a>Sampling=Repeating Frequency Contents</h2><h3 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><p><img src="/images/games101/06/1/repeat_freq.png" alt="Repeating Frequency Contents"></p><h2 id="è§£é‡ŠAliasing-1"><a href="#è§£é‡ŠAliasing-1" class="headerlink" title="è§£é‡ŠAliasing"></a>è§£é‡ŠAliasing</h2><blockquote><p>Aliasing = Mixed Frequency Contents</p></blockquote><p><img src="/images/games101/06/1/mfc.png" alt="Mixed Frequency Contents"></p><h1 id="Antialiasing"><a href="#Antialiasing" class="headerlink" title="Antialiasing"></a>Antialiasing</h1><h2 id="ä»‹ç»-1"><a href="#ä»‹ç»-1" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>How Can We Reduce Aliasing Error?</p><ul><li>Increase sampling rateï¼šé€‚ç”¨ä¸åŒè®¾å¤‡ï¼Œæˆæœ¬å¤ªé«˜ï¼›<ul><li>Essentially increasing the distance between replicas in the Fourier domain</li><li>Higher resolution displays, sensors, framebuffersâ€¦</li><li>But: costly &amp; may need very high resolution</li></ul></li><li><strong>Antialiasingï¼šå¯ä»¥åº”ç”¨åœ¨åŒä¸€è®¾å¤‡ä¸Šï¼Œä¸»è¦ç­–ç•¥</strong>ï¼›<ul><li>Making Fourier contents â€œnarrowerâ€ before repeating</li><li>i.e. Filtering out high frequencies before sampling</li></ul></li></ul><h2 id="idea-limiting-then-repeating"><a href="#idea-limiting-then-repeating" class="headerlink" title="idea: limiting, then repeating"></a>idea: limiting, then repeating</h2><p><img src="/images/games101/06/1/ltr.png" alt="Limiting, then repeating"></p><p>æ—¢ç„¶é€šè¿‡å…ˆæ¨¡ç³Šå†é‡‡æ ·çš„æ–¹æ³•å¯ä»¥æœ‰æ•ˆåèµ°æ ·ï¼Œé‡‡æ ·çš„æ–¹æ³•å·²çŸ¥ï¼Œ<strong>éœ€è¦è§£å†³çš„æ˜¯å¦‚ä½•è¿›è¡Œæ¨¡ç³Šçš„é—®é¢˜ï¼Ÿ</strong></p><h2 id="A-Practical-Pre-Filter"><a href="#A-Practical-Pre-Filter" class="headerlink" title="A Practical Pre-Filter"></a>A Practical Pre-Filter</h2><blockquote><p>Antialiasing By Averaging Values in Pixel Area.</p></blockquote><p>A 1 pixel-width box filter (low pass, blurring)</p><p><img src="/images/games101/06/1/pre_filter.png" alt="Practical Pre-Filter"></p><p>å…·ä½“æ“ä½œè¿‡ç¨‹ï¼š</p><ol><li>Convolve $f(x,y)$ by a 1-pixel box-blur</li><li>Then sample at every pixelâ€™s center</li></ol><p>In rasterizing one triangle, the average value inside a pixel area of $f(x,y) = \text{inside}(\text{triangle},x,y)$ is equal to the area of the pixel covered by the triangle.</p><p><img src="/images/games101/06/1/pre_filtering.png" alt="Pre-Filtering"></p><h2 id="å¦‚ä½•å®ç°1-pixel-width-box-filter"><a href="#å¦‚ä½•å®ç°1-pixel-width-box-filter" class="headerlink" title="å¦‚ä½•å®ç°1 pixel-width box filter"></a>å¦‚ä½•å®ç°1 pixel-width box filter</h2><blockquote><p>å¯¹åèµ°æ ·è§£å†³æ–¹æ¡ˆçš„è¿‘ä¼¼ï¼Œä¸èƒ½ä¸¥æ ¼è§£å†³åèµ°æ ·çš„é—®é¢˜ã€‚</p></blockquote><h3 id="Supersampling-MSAA"><a href="#Supersampling-MSAA" class="headerlink" title="Supersampling (MSAA)"></a>Supersampling (MSAA)</h3><p>Approximate the effect of the 1-pixel box filter by sampling multiple locations within a pixel and averaging their values.</p><p>å°†ä¸€ä¸ªåƒç´ åˆ†æˆè‹¥å¹²ä¸ªå°åƒç´ ï¼Œç„¶åå†æ‰§è¡Œå…·ä½“çš„æ“ä½œã€‚ä¹‹å‰çš„æ–¹æ³•ï¼Œåªéœ€è¦é’ˆå¯¹ä¸€ä¸ªåƒç´ æœ¬èº«åˆ¤æ–­æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…ï¼Œç°åœ¨éœ€è¦é’ˆå¯¹ä¸€ä¸ªåƒç´ ä¸­åˆ’åˆ†çš„æ›´å°çš„å•å…ƒåˆ¤æ–­æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…ï¼Œç„¶åå¯¹æ•´ä¸ªåƒç´ è¿›è¡Œå¹³å‡ã€‚</p><p><img src="/images/games101/06/1/msaa.png" alt="MSAA"></p><h3 id="ä»£ä»·"><a href="#ä»£ä»·" class="headerlink" title="ä»£ä»·"></a>ä»£ä»·</h3><p>MSAAå¢åŠ äº†è®¡ç®—é‡ï¼Œä¾èµ–å°†ä¸€ä¸ªåƒç´ åˆ†å‰²çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼šå¦‚æœæ˜¯$4 \times 4$ ï¼Œåˆ™è®¡ç®—é‡å¢åŠ äº†16å€ï¼Œæ¯ä¸ªæ›´å°çš„åƒç´ ä¸­çš„ç‚¹å‡è¦åˆ¤æ–­æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…ã€‚</p><h3 id="ä¼˜åŒ–æ–¹æ³•"><a href="#ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="ä¼˜åŒ–æ–¹æ³•"></a>ä¼˜åŒ–æ–¹æ³•</h3><p>MSAAä¸­å°†ä¸€ä¸ªåƒç´ è¿›è¡Œäº†å‡åŒ€çš„åˆ’åˆ†ï¼Œä½†æ˜¯åœ¨å®é™…ä¸­æ›´å¤šçš„æ˜¯é‡‡ç”¨ä¸å¤ªè§„åˆ™çš„åˆ’åˆ†ï¼Œè¿™æ ·ä¸€ä¸ªæ›´å°çš„å•å…ƒå¯ä»¥è¢«å¤šä¸ªåƒç´ ç‚¹è¿›è¡Œå…±äº«ï¼Œä½¿å¾—åœ¨åˆ¤æ–­è¯¥å•å…ƒåœ¨ä¸‰è§’å½¢å†…çš„æ“ä½œå¹¶ä¸æ˜¯ä¸¥æ ¼æ˜¯ä¹‹å‰çš„16å€ï¼ˆåœ¨$4 \times 4$ çš„åˆ’åˆ†ä¸‹ï¼‰ï¼Œå› æ­¤æ•ˆç‡ä¼šæœ‰æå‡ã€‚</p><h3 id="å·¥ä¸šç•Œå¹¿æ³›ä½¿ç”¨çš„æ–¹æ³•"><a href="#å·¥ä¸šç•Œå¹¿æ³›ä½¿ç”¨çš„æ–¹æ³•" class="headerlink" title="å·¥ä¸šç•Œå¹¿æ³›ä½¿ç”¨çš„æ–¹æ³•"></a>å·¥ä¸šç•Œå¹¿æ³›ä½¿ç”¨çš„æ–¹æ³•</h3><ul><li>FXAA (Fast Approximate AA)ï¼šä¸é‡‡æ ·æ— å…³çš„æ–¹æ³•ï¼Œåœ¨å›¾åƒæ“ä½œä¸Šçš„æŠ—é”¯é½¿ï¼ŒåŸºæœ¬æ€è·¯æ˜¯å…ˆæ¨¡ç³Šï¼Œç„¶åå°†æ¨¡ç³Šåçš„å›¾åƒä¸­çš„é”¯é½¿å»æ‰ï¼›</li><li>TAA (Temporal AA)ï¼šå¤ç”¨ä¸Šä¸€å¸§çš„ç»“æœï¼›</li></ul><h2 id="åŒºåˆ«æ¦‚å¿µ-Super-resolution"><a href="#åŒºåˆ«æ¦‚å¿µ-Super-resolution" class="headerlink" title="åŒºåˆ«æ¦‚å¿µ Super resolution"></a>åŒºåˆ«æ¦‚å¿µ Super resolution</h2><ul><li>From low resolution to high resolution</li><li>Essentially still â€œnot enough samplesâ€ problem</li><li>DLSS (Deep Learning Super Sampling): ä½¿ç”¨æ·±åº¦å­¦ä¹ æ¥â€œçŒœæµ‹â€å›¾åƒæ”¾å¤§åç¼ºå¤±çš„ä¿¡æ¯ï¼Œè¿™äº›ç¼ºå¤±åçš„ä¿¡æ¯å¦‚æœæ²¡æœ‰è¡¥å…¨åˆ™ä¼šå‡ºç°â€œé”¯é½¿â€é—®é¢˜ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å…‰æ …åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-05ï¼šRasterization - Triangles</title>
      <link href="/2022/04/29/ji-suan-ji-tu-xing-xue/games/games101-05-rasterization-triangles/"/>
      <url>/2022/04/29/ji-suan-ji-tu-xing-xue/games/games101-05-rasterization-triangles/</url>
      
        <content type="html"><![CDATA[<h1 id="Viewingä¹‹å"><a href="#Viewingä¹‹å" class="headerlink" title="Viewingä¹‹å"></a>Viewingä¹‹å</h1><ul><li>Model transformation (placing objects)</li><li>View transformation (placing camera)</li><li>Projection transformation<ul><li>Orthographic projection (cuboid to â€œcanonicalâ€ cube $[-1, 1]^3$)</li><li>Perspective projection (frustum to â€œcanonicalâ€ cube)</li></ul></li><li>Canonical cube to?</li></ul><p>ç»§ç»­ï¼šå°†ä¹‹å‰å¾—åˆ°çš„ç«‹æ–¹ä½“ç»˜åˆ¶åˆ°å±å¹•ä¸Šã€‚</p><h1 id="Canonical-Cube-to-Screen"><a href="#Canonical-Cube-to-Screen" class="headerlink" title="Canonical Cube to Screen"></a>Canonical Cube to Screen</h1><h2 id="æ¦‚å¿µå®šä¹‰"><a href="#æ¦‚å¿µå®šä¹‰" class="headerlink" title="æ¦‚å¿µå®šä¹‰"></a>æ¦‚å¿µå®šä¹‰</h2><ul><li>What is a screen<ul><li>An array of pixels</li><li>Size of the array: resolution è¡¨ç¤ºåƒç´ çš„å¤šå°‘ã€‚</li><li>A typical kind of raster display</li></ul></li><li>Raster == screen in German<ul><li>Rasterize == drawing onto the screen</li></ul></li><li>Pixel (FYI, short for â€œpicture elementâ€)<ul><li>For now: A pixel is a little square with uniform color  ç®€åŒ–è¡¨ç¤º</li><li>Color is a mixture of (red, green, blue)</li></ul></li></ul><h2 id="Screen-space"><a href="#Screen-space" class="headerlink" title="Screen space"></a>Screen space</h2><p><img src="/images/games101/05/screen_space.png" alt="Screen space"></p><p>è§„åˆ™ï¼š</p><ul><li>Pixelsâ€™ indices are in the form of $(x, y)$, where both x and y are integers.</li><li>Pixelsâ€™ indices are from $(0, 0)$ to (width - 1, height - 1).</li><li>Pixel $(x, y)$ is centered at $(x + 0.5, y + 0.5)$ . åæ ‡å®é™…ä¸­å¿ƒ</li><li>The screen covers range $(0, 0)$ to (width, height).</li></ul><h2 id="æ“ä½œæ–¹æ³•"><a href="#æ“ä½œæ–¹æ³•" class="headerlink" title="æ“ä½œæ–¹æ³•"></a>æ“ä½œæ–¹æ³•</h2><p><img src="/images/games101/05/vp_trans.png" alt="Viewport transform"></p><ul><li>Irrelevant to z</li><li>Transform in xy plane: $[-1, 1]^2$ to [0, width] x [0, height]</li><li>Viewport transform matrix: è§†å£å˜æ¢</li></ul><p>$$<br>M_{\text {viewport}}=\left(\begin{array}{cccc}\frac{w i d t h}{2} &amp; 0 &amp; 0 &amp; \frac{\text { width }}{2} \\<br>0 &amp; \frac{\text { height }}{2} &amp; 0 &amp; \frac{\text { height }}{2} \\<br>0 &amp; 0 &amp; 1 &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 1<br>\end{array}\right)<br>$$</p><p>åˆ°æ­¤ä¸ºæ­¢å¾—åˆ°äº†2Dä¸Šçš„å›¾ç‰‡ã€‚</p><h1 id="Rasterizing-Triangles-into-Pixels"><a href="#Rasterizing-Triangles-into-Pixels" class="headerlink" title="Rasterizing Triangles into Pixels"></a>Rasterizing Triangles into Pixels</h1><p>æ¥ä¸‹æ¥ï¼Œå°†å›¾ç‰‡åˆ†è§£ä¸ºåƒç´ ï¼Œä¹Ÿå°±æ˜¯å…‰æ …åŒ–çš„è¿‡ç¨‹ã€‚</p><h2 id="Drawing-Machines"><a href="#Drawing-Machines" class="headerlink" title="Drawing Machines"></a>Drawing Machines</h2><ul><li>CNC Sharpie Drawing Machine</li><li>Laser Cutters</li></ul><h2 id="Different-Raster-Displays"><a href="#Different-Raster-Displays" class="headerlink" title="Different Raster Displays"></a>Different Raster Displays</h2><ul><li>Oscilloscope ç¤ºæ³¢å™¨</li><li>Cathode Ray Tube é˜´æå°„çº¿ç®¡<ul><li>Television - Raster Display CRT</li></ul></li><li>Frame Buffer: Memory for a Raster Display</li><li>Flat Panel Displays<ul><li>LCD (Liquid Crystal Display)</li><li>LED Array Display</li></ul></li><li>Electrophoretic (Electronic Ink) Display</li></ul><h1 id="Rasterization-Drawing-to-Raster-Displays"><a href="#Rasterization-Drawing-to-Raster-Displays" class="headerlink" title="Rasterization: Drawing to Raster Displays"></a>Rasterization: Drawing to Raster Displays</h1><h2 id="Triangles-Fundamental-Shape-Primitives"><a href="#Triangles-Fundamental-Shape-Primitives" class="headerlink" title="Triangles - Fundamental Shape Primitives"></a>Triangles - Fundamental Shape Primitives</h2><h3 id="Why-triangles"><a href="#Why-triangles" class="headerlink" title="Why triangles?"></a>Why triangles?</h3><ul><li>Most basic polygon<ul><li>Break up other polygons</li></ul></li><li>Unique properties<ul><li>Guaranteed to be planar  ä¸‰è§’å½¢ä¸€å®šæ˜¯å¹³é¢å›¾å½¢</li><li>Well-defined interior å†…å¤–å®¹æ˜“åŒºåˆ†</li><li>Well-defined method for interpolating values at vertices over triangle (barycentric interpolation) æ ¹æ®é¡¶ç‚¹çš„ä¿¡æ¯å¯ä»¥å¯¹å…¶ä¸­å…¶ä¸­ä»»æ„ä¸€ç‚¹è¿›è¡Œæ’å€¼ã€‚</li></ul></li></ul><h2 id="é—®é¢˜ï¼šWhat-Pixel-Values-Approximate-a-Triangle"><a href="#é—®é¢˜ï¼šWhat-Pixel-Values-Approximate-a-Triangle" class="headerlink" title="é—®é¢˜ï¼šWhat Pixel Values Approximate a Triangle?"></a>é—®é¢˜ï¼šWhat Pixel Values Approximate a Triangle?</h2><p><img src="/images/games101/05/pv_appro.png" alt="Pixel Values Approximate"></p><h2 id="è§£å†³æ–¹æ³•ï¼šSampling"><a href="#è§£å†³æ–¹æ³•ï¼šSampling" class="headerlink" title="è§£å†³æ–¹æ³•ï¼šSampling"></a>è§£å†³æ–¹æ³•ï¼šSampling</h2><h3 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h3><ul><li>Evaluating a function at a point is sampling.</li><li>We can discretize a function by sampling.<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> xmax<span class="token punctuation">;</span> <span class="token operator">++</span>x<span class="token punctuation">)</span>    output<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li>Sampling is a core idea in graphics.<ul><li>We sample time (1D), area (2D), direction (2D), volume (3D)</li></ul></li></ul><h3 id="å…·ä½“è¿‡ç¨‹"><a href="#å…·ä½“è¿‡ç¨‹" class="headerlink" title="å…·ä½“è¿‡ç¨‹"></a>å…·ä½“è¿‡ç¨‹</h3><ul><li>Sample If Each Pixel Center Is Inside Triangle</li><li>Define Binary Function: $\text{inside}(t, x, y)$<ul><li>x, y: not necessarily integers</li></ul></li></ul><!-- $$f=\left\\{\begin{array}{l}1\\\\0\end{array}\right.$$ --><p>  $$<br>  \text{inside}(t, x, y)=<br>  \left\{<br>  \begin{array}{ll}<br>  1 &amp; \begin{array}{l} \text{Point (x, y) in triangle } t\end{array} \\<br>  0 &amp; \text {otherwise}<br>  \end{array}<br>  \right.<br>  $$</p><p>æ•´ä½“è¿‡ç¨‹è¡¨ç¤ºå¦‚ä¸‹ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> xmax<span class="token punctuation">;</span> <span class="token operator">++</span>x<span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> ymax<span class="token punctuation">;</span> <span class="token operator">++</span>y<span class="token punctuation">)</span>        image<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">inside</span><span class="token punctuation">(</span>tri<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ä¸Šè¿°è¿‡ç¨‹ä¸­è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šå¦‚ä½•åˆ¤æ–­ç‚¹ $(x,y)$ åœ¨ä¸‰è§’å½¢å†…ã€‚ä½¿ç”¨ä¹‹å‰cross productä¸­æåˆ°çš„æ–¹æ³•ã€‚</p><p>æœ€åçš„ç»“æœï¼š</p><p><img src="/images/games101/05/tri_compare.png" alt="å…‰æ …åŒ–å‰åä¸‰è§’å½¢çš„å¯¹æ¯”"></p><p>å­˜åœ¨é”¯é½¿é—®é¢˜ï¼</p><h3 id="Edge-Cases"><a href="#Edge-Cases" class="headerlink" title="Edge Cases"></a>Edge Cases</h3><p>Is this sample point covered by triangle 1, triangle 2, or both? è‡ªå·±å†³å®šï¼Œä¸ä½œè¦æ±‚ã€‚</p><h3 id="ä¼˜åŒ–ç­–ç•¥"><a href="#ä¼˜åŒ–ç­–ç•¥" class="headerlink" title="ä¼˜åŒ–ç­–ç•¥"></a>ä¼˜åŒ–ç­–ç•¥</h3><ul><li>æ™®éç­–ç•¥ï¼šChecking All Pixels on the Screen?  Use a Bounding Box!</li></ul><p><img src="/images/games101/05/box.png" alt="åŸºæœ¬ä¼˜åŒ–ç­–ç•¥ - Use a Bounding Box"></p><ul><li>è¿›ä¸€æ­¥ä¼˜åŒ–ï¼šIncremental Triangle Traversalï¼Œæ¯ä¸€è¡Œéƒ½æ‰¾è¾¹ç•Œï¼Œsuitable for thin and rotated trianglesï¼Œä½†æ˜¯å®è·µèµ·æ¥ä¸å¤ªå®¹æ˜“ã€‚  <img src="/images/games101/05/itt.png" alt="Incremental Triangle Traversal"></li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å…‰æ …åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-04ï¼šViewing Transformation</title>
      <link href="/2022/04/28/ji-suan-ji-tu-xing-xue/games/games101-04-viewing-transformation/"/>
      <url>/2022/04/28/ji-suan-ji-tu-xing-xue/games/games101-04-viewing-transformation/</url>
      
        <content type="html"><![CDATA[<p>Viewing TransformationæŒ‡çš„æ˜¯å°†3Dä¸­çš„ç‰©ä½“æ˜ å°„åˆ°2Dä¸­çš„å›¾åƒçš„è¿‡ç¨‹ã€‚</p><h1 id="ä¾‹å­è¯´æ˜"><a href="#ä¾‹å­è¯´æ˜" class="headerlink" title="ä¾‹å­è¯´æ˜"></a>ä¾‹å­è¯´æ˜</h1><p>Think about how to take a photoï¼Ÿ</p><ul><li>Find a good place and arrange people (<strong>model transformation</strong>)</li><li>Find a good â€œangleâ€ to put the camera (<strong>view transformation</strong>)</li><li>Cheese! (<strong>projection transformation</strong>)</li></ul><h1 id="View-Camera-Transformation"><a href="#View-Camera-Transformation" class="headerlink" title="View / Camera Transformation"></a>View / Camera Transformation</h1><h2 id="ç¡®å®šç›¸æœºä½ç½®"><a href="#ç¡®å®šç›¸æœºä½ç½®" class="headerlink" title="ç¡®å®šç›¸æœºä½ç½®"></a>ç¡®å®šç›¸æœºä½ç½®</h2><p>Define the camera first</p><ul><li>Position: $\vec{e}$</li><li>Look-at / gaze direction $\hat{g}$</li><li>Up direction (assuming perp. to look-at): $\hat{t}$</li></ul><p><img src="/images/games101/04/camera.png" alt="ç¡®å®šç›¸æœºä½ç½®"></p><h2 id="æ°¸ä¹…å›ºå®šç›¸æœºä½ç½®"><a href="#æ°¸ä¹…å›ºå®šç›¸æœºä½ç½®" class="headerlink" title="æ°¸ä¹…å›ºå®šç›¸æœºä½ç½®"></a>æ°¸ä¹…å›ºå®šç›¸æœºä½ç½®</h2><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>If the camera and all objects move together, the â€œphotoâ€ will be the same.</p><p><img src="/images/games101/04/fixed.png" alt="åŒæ—¶å˜æ¢ç›¸æœºå’Œç‰©ä½“"></p><h3 id="å…·ä½“è§„åˆ™"><a href="#å…·ä½“è§„åˆ™" class="headerlink" title="å…·ä½“è§„åˆ™"></a>å…·ä½“è§„åˆ™</h3><p>How about that we always transform the camera to</p><ul><li>The origin, up at $Y$, look at $-Z$</li><li>And transform the objects along with the camera</li></ul><p><img src="/images/games101/04/fixed_camera.png" alt="æ°¸ä¹…å›ºå®šç›¸æœºä½ç½®"></p><h3 id="å…·ä½“å˜æ¢"><a href="#å…·ä½“å˜æ¢" class="headerlink" title="å…·ä½“å˜æ¢"></a>å…·ä½“å˜æ¢</h3><p>Transform the camera by $M_{view}$.</p><ul><li>So itâ€™s located at the origin, up at Y, look at -Z</li></ul><p>$M_{view}$ in math? </p><p>$$<br>\mathbf{M_{view}} = \mathbf{R_{view}} \mathbf{T_{view}}<br>$$</p><ul><li>Translates $\vec{e}$ to origin.  $$<br>  \mathbf{T}_{view} =<br>  \left(\begin{array}{lll}<br>  1 &amp; 0 &amp; 0 &amp; -x_e \\<br>  0 &amp; 1 &amp; 0 &amp; -y_e \\<br>  0 &amp; 0 &amp; 1 &amp; -z_e \\<br>  0 &amp; 0 &amp; 0 &amp; 1<br>  \end{array}\right)<br>  $$</li><li>Rotates $g$ to $-Z$, Rotates $t$ to $Y$, Rotates $(g \times t)$ To $X$.<ul><li>Consider its inverse rotation: $X$ to $(g \times t)$, $Y$ to $t$, $Z$ to $-g$</li></ul>  $$<br>  \mathbf{R_{view}}^{-1}=<br>  \left(\begin{array}{cccc}x_{\hat{g} \times \hat{t}} &amp; x_{t} &amp; x_{-g} &amp; 0 \\<br>  y_{\hat{g} \times \hat{t}} &amp; y_{t} &amp; y_{-g} &amp; 0 \\<br>  z_{\hat{g} \times \hat{t}} &amp; z_{t} &amp; z_{-g} &amp; 0 \\<br>  0 &amp; 0 &amp; 0 &amp; 1<br>  \end{array}\right)<br>  \\<br>  \mathbf{R_{view}}=<br>  \left(\begin{array}{cccc}x_{\hat{g} \times \hat{t}} &amp; y_{\hat{g} \times \hat{t}} &amp; z_{\hat{g} \times \hat{t}} &amp; 0 \\<br>  x_{t} &amp; y_{t} &amp; z_{t} &amp; 0 \\<br>  x_{-g} &amp; y_{-g} &amp; z_{-g} &amp; 0 \\<br>  0 &amp; 0 &amp; 0 &amp; 1\end{array}\right)<br>  $$  åˆ©ç”¨äº†æ—‹è½¬çŸ©é˜µä¸ºæ­£äº¤çŸ©é˜µçš„æ€§è´¨ã€‚</li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>ä¸Šè¿°æ•´ä¸ªè¿‡ç¨‹ä¹Ÿå¯ä»¥ç§°ä¸ºModelView Transformationï¼Œå› ä¸ºç›¸æœºå’Œç‰©ä½“å¯ä»¥åŒæ—¶å˜åŒ–ã€‚</li><li>è¯¥è¿‡ç¨‹ä¸ºæŠ•å½±å˜æ¢å¥ å®šåŸºç¡€ã€‚</li></ul><h1 id="Projection-transformation"><a href="#Projection-transformation" class="headerlink" title="Projection transformation"></a>Projection transformation</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Projection in Computer Graphics</p><ul><li>Orthographic projectionï¼šç›¸æœºæ— é™è¿œï¼Œå¹³è¡Œçº¿ä»å¹³è¡Œ</li><li>Perspective projectionï¼šç›¸æœºæœ‰é™è¿œï¼Œè¿‘å¤§è¿œå°ï¼Œå¹³è¡Œçº¿ä¼šç›¸äº¤ï¼Œæ›´ç¬¦åˆç°å®ï¼›</li></ul><p><img src="/images/games101/04/project1.png" alt="ä¸¤ç§ç±»å‹çš„æŠ•å½±å˜æ¢1"></p><p><img src="/images/games101/04/project2.png" alt="ä¸¤ç§ç±»å‹çš„æŠ•å½±å˜æ¢2"></p><p><a href="https://stackoverflow.com/questions/36573283/from-perspective-picture-to-orthographic-picture">From perspective picture to orthographic picture</a></p><h2 id="Orthographic-Projection"><a href="#Orthographic-Projection" class="headerlink" title="Orthographic Projection"></a>Orthographic Projection</h2><h3 id="ä¾‹å­ç†è§£"><a href="#ä¾‹å­ç†è§£" class="headerlink" title="ä¾‹å­ç†è§£"></a>ä¾‹å­ç†è§£</h3><ul><li>Camera located at origin, looking at $-Z$, up at $Y$ .</li><li>Drop $Z$ coordinate. å°†$z$åæ ‡å»æ‰ã€‚</li><li>Translate and scale the resulting rectangle to $[-1, 1]^2$.</li></ul><p><img src="/images/games101/04/project_example.png" alt="æŠ•å½±ä¾‹å­ç†è§£"></p><p>é—®é¢˜ï¼šå¦‚ä½•åŒºåˆ†å‰åï¼Œåœ¨å»æ‰$z$åæ ‡åï¼Ÿ</p><h3 id="çœŸå®æ“ä½œ"><a href="#çœŸå®æ“ä½œ" class="headerlink" title="çœŸå®æ“ä½œ"></a>çœŸå®æ“ä½œ</h3><p>We want to map a cuboid $[l, r]\times [b, t]\times [f, n]$ to the â€œcanonical (æ­£åˆ™ã€è§„èŒƒã€æ ‡å‡†)â€ cube $[-1, 1]^3$.</p><ul><li>Center cuboid by translating.</li><li>Scale into â€œcanonicalâ€ cube.</li></ul><p>Translate (center to origin) first, then scale (length/width/height to 2).</p><p>$$<br>M_{\text {ortho }}=<br>\left(\begin{array}{cccc}\frac{2}{r-l} &amp; 0 &amp; 0 &amp; 0 \\<br>0 &amp; \frac{2}{t-b} &amp; 0 &amp; 0 \\<br>0 &amp; 0 &amp; \frac{2}{n-f} &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 1<br>\end{array}\right)<br>\left(\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; -\frac{r+l}{2} \\<br>0 &amp; 1 &amp; 0 &amp; -\frac{t+b}{2} \\<br>0 &amp; 0 &amp; 1 &amp; -\frac{n+f}{2} \\<br>0 &amp; 0 &amp; 0 &amp; 1\end{array}\right)<br>$$</p><p><img src="/images/games101/04/orth.png" alt="æ­£äº¤æŠ•å½±å…·ä½“æ“ä½œ"></p><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li>Looking at / along $-Z$ is making near and far not intuitive ($n &gt; f$)<ul><li>Thatâ€™s why OpenGL (a Graphics API) uses left hand coords.</li></ul></li></ul><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><ul><li>ä¸è€ƒè™‘æ—‹è½¬ï¼Ÿ</li><li>å˜æ¢åˆ°ç«‹æ–¹ä½“ä¸­ä¼šé€ æˆæ‹‰ä¼¸ï¼Ÿä¹‹åä¼šæœ‰è§†å£å˜æ¢è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</li></ul><h2 id="Perspective-Projection"><a href="#Perspective-Projection" class="headerlink" title="Perspective Projection"></a>Perspective Projection</h2><h3 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><ul><li>Most common in Computer Graphics, art, visual system</li><li>Further objects are smaller</li><li>Parallel lines not parallel; converge to single point</li></ul><p><img src="/images/games101/04/pers_overview.png" alt="é€è§†æŠ•å½±"></p><h3 id="é¢„å¤‡çŸ¥è¯†"><a href="#é¢„å¤‡çŸ¥è¯†" class="headerlink" title="é¢„å¤‡çŸ¥è¯†"></a>é¢„å¤‡çŸ¥è¯†</h3><ul><li>$(x, y, z, 1)$, $(kx, ky, kz, k \ne 0)$, $(xz, yz, z^2, z \ne 0)$ all represent<br>the same point $(x, y, z)$ in 3D</li><li>e.g. $(1, 0, 0, 1)$ and $(2, 0, 0, 2)$ both represent $(1, 0, 0)$</li></ul><h3 id="æ“ä½œæ–¹æ³•"><a href="#æ“ä½œæ–¹æ³•" class="headerlink" title="æ“ä½œæ–¹æ³•"></a>æ“ä½œæ–¹æ³•</h3><ul><li>First â€œsquishâ€ the <strong>frustum</strong> into a <strong>cuboid</strong>: $n \rightarrow n, f \rightarrow f$, ($M_{persp \rightarrow ortho}$).</li><li>Do orthographic projection:  $M_{ortho}$ already known</li></ul><p>åœ¨â€œæŒ¤å‹â€œçš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å‡ ä¸ªåŸåˆ™éœ€è¦éµå®ˆï¼š</p><ul><li>è¿‘å¹³é¢ $n$ ä¸Šç‚¹çš„åæ ‡ä¸å˜ï¼›</li><li>è¿œå¹³é¢ $f$ ä¸Šçš„zåæ ‡ä¸å˜ï¼›</li><li>è¿œå¹³é¢ $f$ ä¸Šçš„ä¸­å¿ƒç‚¹ä»ç„¶æ˜¯ä¸­å¿ƒç‚¹ï¼›</li></ul><p><img src="/images/games101/04/pers_idea.png" alt="é€è§†æŠ•å½±æ–¹æ³•"></p><h3 id="æ“ä½œè¿‡ç¨‹"><a href="#æ“ä½œè¿‡ç¨‹" class="headerlink" title="æ“ä½œè¿‡ç¨‹"></a>æ“ä½œè¿‡ç¨‹</h3><p>Find the relationship between transformed points $(x^{\prime}, y^{\prime}, z^{\prime})$ and the original points $(x, y, z)$.</p><p><img src="/images/games101/04/pers_operation.png" alt="é€è§†æŠ•å½±è¿‡ç¨‹"></p><p>åœ¨å›¾ä¸­ï¼ŒZ/Yäº¤ç‚¹ä¸ºç›¸æœºä½ç½®ï¼Œå³åŸç‚¹ã€‚$n$ä¸ºè¿‘å¹³é¢çš„zåæ ‡ï¼Œ$z$ä¸ºè¿œå¹³é¢å¯¹åº”zè½´çš„åæ ‡ã€‚</p><p>å¯¹åº”åˆ™æœ‰ç»è¿‡å˜æ¢åï¼Œ</p><p>$$<br>y^{\prime} = \frac{n}{z}y<br>$$</p><p>$$<br>x^{\prime} = \frac{n}{z}x<br>$$</p><p>å¯¹åº”åˆ°é½æ¬¡åæ ‡ä¸‹ï¼š</p><p>$$<br>\left(\begin{array}{l}x \\<br>y \\<br>z \\<br>1<br>\end{array}\right)<br>\Rightarrow<br>\left(\begin{array}{c} nx/z \\<br>ny/z \\<br>\text{unknown} \\<br>1<br>\end{array}\right)<br>\overset{\times z}{==}<br>\left(<br>\begin{array}{c} nx \\<br>ny \\<br>\text{ still unknown } \\<br>z<br>\end{array}<br>\right)<br>$$</p><p>åˆ°æ­¤ä¸ºæ­¢å¯ä»¥å¾—åˆ°éƒ¨åˆ†å˜æ¢çŸ©é˜µä¸­çš„å€¼ï¼š</p><p>$$<br>M_{persp \rightarrow ortho}^{4 \times 4}<br>\left(\begin{array}{l}x \\<br>y \\<br>z \\<br>1<br>\end{array}\right)<br>=<br>\left(<br>\begin{array}{c} nx \\<br>ny \\<br>\text{ still unknown } \\<br>z<br>\end{array}<br>\right)<br>$$</p><p>$$<br>M_{persp \rightarrow ortho}^{4 \times 4}<br>=<br>\mathbf{T}_{view} =<br>\left(\begin{array}{lll}<br>n &amp; 0 &amp; 0 &amp; 0 \\<br>0 &amp; n &amp; 0 &amp; 0 \\<br>? &amp; ? &amp; ? &amp; ? \\<br>0 &amp; 0 &amp; 1 &amp; 0<br>\end{array}\right)<br>$$</p><p>How to figure out the third row of $M_{persp \rightarrow ortho}$? The third row is responsible for $z^{\prime}$: </p><ul><li>Any point on the near plane will not change.</li></ul><p>$$<br>\mathbf{M_{persp \rightarrow ortho}}^{4 \times 4}<br>\left(<br>\begin{array}{l} x \\<br>y \\<br>z \\<br>1<br>\end{array}\right)<br>=<br>\left(<br>\begin{array}{c} nx \\<br>ny \\<br>\text{unknown} \\<br>z<br>\end{array}<br>\right)<br>\overset{\text{replace z with n}}{\longrightarrow}<br>\left(\begin{array}{l}x \\<br>y \\<br>n \\<br>1<br>\end{array}\right)<br>\Rightarrow<br>\left(\begin{array}{l}x \\<br>y \\<br>n \\<br>1<br>\end{array}\right)==<br>\left(\begin{array}{l} nx \\<br>ny \\<br>n^{2} \\<br>n<br>\end{array}\right)<br>$$</p><p>æ‰€ä»¥å¾—åˆ°ï¼šthe third row must be of the form $(0 \ 0 \ A \ B)$, $n^2$ has nothing to do with $x$ and $y$.</p><p>$$<br>Â \left(\begin{array}{lll}0 &amp; 0 &amp; A\end{array}\right.Â Â B)\left(\begin{array}{l}x \ y \ n \ 1\end{array}\right)=n^{2}Â <br>$$</p><p>$$<br>An + B = n^2<br>$$</p><ul><li>Any pointâ€™s z on the far plane will not changeï¼šè¿™é‡Œå–è¿œå¹³é¢çš„ä¸­å¿ƒç‚¹ã€‚</li></ul><p>$$<br>\left(\begin{array}{l}0 \\<br>0 \\<br>f \\<br>1<br>\end{array}\right)<br>\Rightarrow<br>\left(\begin{array}{l}0 \\<br>0 \\<br>f \\<br>1<br>\end{array}\right)<br>==<br>\left(\begin{array}{c}0 \\<br>0 \\<br>f^{2} \\<br>f\end{array}\right)<br>$$</p><p>$$<br>Af + B = f^2<br>$$</p><p>ç»¼åˆä¸Šè¿°ä¸¤è€…ï¼Œ</p><p>$$<br>\begin{array}{ll}<br>An+B=n^{2} \\<br>Af+B=f^{2}<br>\end{array}<br>\Rightarrow<br>\begin{array}{ll}<br>A=n+f \\<br>B=-nf<br>\end{array}<br>$$</p><p>ä¹‹ååšorthographic projectionå³å¯ï¼š</p><p>$$<br>M_{persp} = M_{ortho} M_{persp \rightarrow ortho}<br>$$</p><h3 id="é€è§†æŠ•å½±ä¸­Frustumçš„å¦ä¸€ç§è¡¨ç¤º"><a href="#é€è§†æŠ•å½±ä¸­Frustumçš„å¦ä¸€ç§è¡¨ç¤º" class="headerlink" title="é€è§†æŠ•å½±ä¸­Frustumçš„å¦ä¸€ç§è¡¨ç¤º"></a>é€è§†æŠ•å½±ä¸­Frustumçš„å¦ä¸€ç§è¡¨ç¤º</h3><p>å½“å¾—åˆ°<strong>è¿‘å¹³é¢çš„åæ ‡ä¿¡æ¯</strong>åï¼Œæœ‰æ—¶äººä»¬ç”¨å¦å¤–ä¸€ç§æ–¹å¼è¡¨ç¤ºFrustumè§†é”¥ã€‚</p><p>People prefer: vertical field-of-view (fovY) and aspect ratio (assume symmetry $l = -r, b = -t$).</p><p>è¯¥è¡¨ç¤ºæ–¹æ³•å¯ä»¥ä¸cuboidä¸­çš„ $l,r,b,t,n,f$ ç›¸è½¬åŒ–ã€‚</p><p><img src="/images/games101/04/fov_aspect.png" alt="ç”¨FoVå’ŒAspectè¡¨ç¤ºFrustum"></p><p>æ³¨æ„ï¼šä¸Šè¿°å¹³é¢åªæ˜¯frustumçš„è¿‘å¹³é¢ã€‚</p><p><img src="/images/games101/04/fov_aspect_compute.png" alt="FoVå’ŒAspectä¸ä¹‹å‰è¡¨ç¤ºçš„è½¬æ¢"></p><h1 id="æ€è€ƒé—®é¢˜"><a href="#æ€è€ƒé—®é¢˜" class="headerlink" title="æ€è€ƒé—®é¢˜"></a>æ€è€ƒé—®é¢˜</h1><p>å¯¹äºä»»æ„ä¸€ä¸ªfrustumå†…éƒ¨çš„ç‚¹ï¼Œç»è¿‡é€è§†æŠ•å½±æ˜ å°„åˆ°cuboidï¼ŒÂ å…¶ $z$ åæ ‡ç›¸å¯¹äºä¹‹å‰æœ‰ä»€ä¹ˆå˜åŒ–ï¼Ÿ</p><p>$$<br>\mathbf{M}_{persp \rightarrow ortho} =<br>\left(\begin{array}{lll}<br>n &amp; 0 &amp; 0 &amp; 0 \\<br>0 &amp; n &amp; 0 &amp; 0 \\<br>0 &amp; 0 &amp; n+f &amp; -nf \\<br>0 &amp; 0 &amp; 1 &amp; 0<br>\end{array}\right)<br>$$</p><p>å¯¹äºä»»æ„ä¸€ç‚¹ç»è¿‡è¯¥å˜æ¢å¯å¾—ï¼š</p><p>$$<br>\mathbf{M}_{persp \rightarrow ortho}<br>\left(<br>\begin{array}{l}x \\<br>y \\<br>z \\<br>1<br>\end{array}\right)<br>=<br>\left(<br>\begin{array}{c} nx \\<br>ny \\<br>(n+f)z - nf \\<br>z<br>\end{array}<br>\right)<br>\Rightarrow<br>\left(<br>\begin{array}{c} nx/z \\<br>ny/z \\<br>(n+f) - nf/z \\<br>1<br>\end{array}<br>\right)<br>$$</p><p>ä¸ºäº†åˆ¤æ–­ $z$ åæ ‡çš„å˜åŒ–ï¼Œå®šä¹‰å‡½æ•° $f(z)$:</p><p>$$<br>\begin{aligned}<br>f(z) &amp;= \frac{(n+f)z - nf}{z} - z \\<br> &amp; \overset{\times z}{=} -z^2 + (n+f)z -nf \\<br>&amp;= (z-n)(f-z)<br>\end{aligned}<br>$$</p><p>ç”±äºï¼š$f \le z \le n$ï¼Œå› æ­¤$f(z) \ge 0$ï¼Œå› æ­¤å¾—åˆ°åœ¨ä¹˜ä»¥ $z$ åæ ‡ä¹‹å‰çš„ $f(z) \le 0$ï¼Œå› ä¸ºçœ‹å‘çš„æ˜¯-zæ–¹å‘ï¼Œå› æ­¤ $z$ åæ ‡å‡ä¸ºè´Ÿæ•°ã€‚ç”±æ­¤å¾—åˆ°ï¼Œå½“å®Œæˆâ€œæŒ¤å‹â€åï¼Œfrustumå†…éƒ¨çš„ç‚¹å‡å‘è¿œå¹³é¢æ–¹å‘ç§»åŠ¨ï¼Œå³ç¦»ç›¸æœºæ›´è¿œäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è§†å›¾å˜æ¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-03-02ï¼š3D Transformation</title>
      <link href="/2022/04/28/ji-suan-ji-tu-xing-xue/games/games101-03-02-3d-transformation/"/>
      <url>/2022/04/28/ji-suan-ji-tu-xing-xue/games/games101-03-02-3d-transformation/</url>
      
        <content type="html"><![CDATA[<h1 id="Homogeneous-coordinates"><a href="#Homogeneous-coordinates" class="headerlink" title="Homogeneous coordinates"></a>Homogeneous coordinates</h1><ul><li>3D point = $(x, y, z, 1)^T$</li><li>3D vector = $(x, y, z, 0)^T$</li></ul><p>å¯¹åº”çš„ï¼Œåæ ‡ $(x,y,z,w)(w \ne 0)$ è¡¨ç¤ºä¸‰ç»´ç©ºé—´ä¸­çš„ç‚¹$(x/w, y/w, z/w)$ã€‚</p><h1 id="Affine-Transformä»¿å°„å˜æ¢"><a href="#Affine-Transformä»¿å°„å˜æ¢" class="headerlink" title="Affine Transformä»¿å°„å˜æ¢"></a>Affine Transformä»¿å°„å˜æ¢</h1><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime} \\<br>z^{\prime} \\<br>1<br>\end{array}\right)=<br>\left(\begin{array}{lll}<br>a &amp; b &amp; c &amp; t_x \\<br>d &amp; e &amp; f &amp; t_y \\<br>g &amp; h &amp; i &amp; t_z \\<br>0 &amp; 0 &amp; 0 &amp; 1<br>\end{array}\right) \cdot<br>\left(\begin{array}{l}<br>x \\<br>y \\<br>z \\<br>1<br>\end{array}\right)<br>$$</p><p>Whatâ€™s the order? Linear Transform first or Translation first.</p><p>åœ¨æ“ä½œå˜æ¢æ—¶ï¼Œé¦–å…ˆè¿›è¡Œçº¿æ€§å˜æ¢ï¼Œä¹‹åæ‰è¿›è¡Œå¹³ç§»å˜æ¢ã€‚</p><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime}<br>\end{array}\right)<br>=<br>\left(\begin{array}{ll}<br>a &amp; b \\<br>c &amp; d<br>\end{array}\right)<br>\left(\begin{array}{l}<br>x \\<br>y<br>\end{array}\right)<br>+<br>\left(\begin{array}{l}<br>t_x \\<br>t_y<br>\end{array}\right)<br>$$</p><h1 id="3D-transformationsç»Ÿä¸€è¡¨ç¤º"><a href="#3D-transformationsç»Ÿä¸€è¡¨ç¤º" class="headerlink" title="3D transformationsç»Ÿä¸€è¡¨ç¤º"></a>3D transformationsç»Ÿä¸€è¡¨ç¤º</h1><h2 id="Scale"><a href="#Scale" class="headerlink" title="Scale"></a>Scale</h2><p>$$<br>\mathbf{S}(s_x, s_y, s_z) =<br>\left(\begin{array}{ll}<br>s_x &amp; 0 &amp; 0 &amp; 0 \\<br>0 &amp; s_y &amp; 0 &amp; 0 \\<br>0 &amp; 0 &amp; s_z &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 1<br>\end{array}\right)<br>$$</p><h2 id="Translation"><a href="#Translation" class="headerlink" title="Translation"></a>Translation</h2><p>$$<br>\mathbf{T}(t_x, t_y) =<br>\left(\begin{array}{lll}<br>1 &amp; 0 &amp; 0 &amp; t_x \\<br>0 &amp; 1 &amp; 0 &amp; t_y \\<br>0 &amp; 0 &amp; 1 &amp; t_z \\<br>0 &amp; 0 &amp; 0 &amp; 1<br>\end{array}\right)<br>$$</p><h2 id="Rotation"><a href="#Rotation" class="headerlink" title="Rotation"></a>Rotation</h2><p>Rotation around x-, y-, or z-axis.</p><p>$$<br>\begin{array}{l}<br>\mathbf{R_x}(\alpha)=<br>\left(\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; 0 \\<br>0 &amp; \cos \alpha &amp; -\sin \alpha &amp; 0 \\<br>0 &amp; \sin \alpha &amp; \cos \alpha &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 1<br>\end{array}\right)<br>\\<br>\mathbf{R_y}(\alpha)=<br>\left(\begin{array}{cccc}\cos \alpha &amp; 0 &amp; \sin \alpha &amp; 0 \\<br>0 &amp; 1 &amp; 0 &amp; 0 \\<br>-\sin \alpha &amp; 0 &amp; \cos \alpha &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 1\end{array}\right)<br>\\<br>\mathbf{R_z}(\alpha)=\left(\begin{array}{cccc}\cos \alpha &amp; -\sin \alpha &amp; 0 &amp; 0 \\<br>\sin \alpha &amp; \cos \alpha &amp; 0 &amp; 0 \\<br>0 &amp; 0 &amp; 1 &amp; 0 \\<br>0 &amp; 0 &amp; 0 &amp; 1<br>\end{array}\right)<br>\end{array}<br>$$</p><p>å…¶ä¸­$\mathbf{R}_{y}(\alpha)$ä¼šæœ‰ä¸€äº›å¥‡æ€ªï¼Œå› ä¸ºæ ¹æ®å³æ‰‹èºæ—‹å®šåˆ™ï¼Œ$z$ ä¸ $x$ å‰ä¹˜å¾—åˆ° $y$ï¼Œ$x$ ä¸ $z$ å‰ä¹˜å¾—åˆ° $-y$ï¼Œè¿™æ˜¯å…¶åœ¨$\sin \alpha$ä¸Šç¬¦å·ä¸å…¶ä»–ä¸¤ä¸ªç›¸åçš„åŸå› ã€‚ï¼ˆä½¿ç”¨å·¦æ‰‹èºæ—‹ä¹Ÿä¼šå­˜åœ¨ç‰¹æ®Šçš„è½´ï¼‰</p><h2 id="3D-Rotations"><a href="#3D-Rotations" class="headerlink" title="3D Rotations"></a>3D Rotations</h2><p>Compose any 3D rotation from $R_x, R_y, R_z$?</p><p>$$<br>\mathbf{R_{xyz}}(\alpha, \beta, \gamma) = \mathbf{R_x}(\alpha)\mathbf{R_y}(\beta)\mathbf{R_z}(\gamma)<br>$$</p><p>å…¶ä¸­ï¼Œä¸‰ä¸ªè§’åº¦$\alpha, \beta, \gamma$ ç§°ä¸ºEuler anglesã€‚</p><p>ä¸€ä¸ªå…¸å‹çš„åº”ç”¨åœºæ™¯ï¼šOften used in flight simulators: roll, pitch, yawã€‚</p><p><img src="/images/games101/03/2/3d-rot.png" alt="3D Rotations"></p><h2 id="Rodriguesâ€™-Rotation-Formula"><a href="#Rodriguesâ€™-Rotation-Formula" class="headerlink" title="Rodriguesâ€™ Rotation Formula"></a>Rodriguesâ€™ Rotation Formula</h2><p>Rotation by angle $\alpha$ around axis $\mathbf{n}$.</p><p>$$<br>\mathbf{R}(\mathbf{n}, \alpha)=<br>\cos (\alpha) \mathbf{I}+(1-\cos (\alpha)) \mathbf{n} \mathbf{n}^{T}+\sin (\alpha) \underbrace{\left(\begin{array}{ccc}0 &amp; -n_{z} &amp; n_{y} \\<br>n_{z} &amp; 0 &amp; -n_{x} \\<br>-n_{y} &amp; n_{x} &amp; 0<br>\end{array}\right)}_{\mathbf{N}}<br>$$</p><ul><li>å…¶ä¸­axisé»˜è®¤æ˜¯è¿‡åŸç‚¹çš„ï¼›</li><li>å½“è½´ä¸è¿‡åŸç‚¹å¯ä»¥åˆ©ç”¨ä¹‹å‰çš„æ–¹æ³•ï¼šå°†æ‰€æœ‰çš„ä¸œè¥¿ç§»åŠ¨åˆ°åŸç‚¹ï¼Œå†æ—‹è½¬ï¼Œç„¶åå†ç§»å›å»ï¼›</li><li>å…¶ä¸­$\mathbf{N}$æ˜¯å‘é‡çš„å‰ä¹˜ï¼Œåªæ˜¯è¡¨ç¤ºæˆçŸ©é˜µå½¢å¼ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çº¿æ€§ä»£æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-03-01ï¼š2D Transformation</title>
      <link href="/2022/04/24/ji-suan-ji-tu-xing-xue/games/games101-03-01-2d-transformation/"/>
      <url>/2022/04/24/ji-suan-ji-tu-xing-xue/games/games101-03-01-2d-transformation/</url>
      
        <content type="html"><![CDATA[<h1 id="Linear-Transforms-Matrices"><a href="#Linear-Transforms-Matrices" class="headerlink" title="Linear Transforms = Matrices"></a>Linear Transforms = Matrices</h1><h2 id="Scale-Transform"><a href="#Scale-Transform" class="headerlink" title="Scale Transform"></a>Scale Transform</h2><p>å˜æ¢æ“ä½œä¸ºï¼š</p><p>$$<br>\text{scale}(s_x, s_y) = \left(\begin{array}{ll}s_x &amp; 0 \\ 0 &amp; s_y \end{array}\right)<br>$$</p><p>åœ¨ç‚¹$(x, y)$ç»è¿‡å˜æ¢åå˜ä¸º$(x^{\prime}, y^{\prime})$ï¼Œå¦‚ä¸‹ï¼š</p><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime}<br>\end{array}\right)=\left(\begin{array}{ll}<br>s_x &amp; 0 \\<br>0 &amp; s_y<br>\end{array}\right) \left(\begin{array}{l}<br>x \\<br>y<br>\end{array}\right) = \left(\begin{array}{l}<br>s_xx \\<br>s_yy<br>\end{array}\right)<br>$$</p><h2 id="Reflection-Transform"><a href="#Reflection-Transform" class="headerlink" title="Reflection Transform"></a>Reflection Transform</h2><p>åœ¨æ°´å¹³æ–¹å‘ä¸Šï¼Œå…¶å®æ˜¯æ²¿yè½´ç¿»è½¬ã€‚</p><p>$$<br>x^{\prime} = -x \\<br>y^{\prime} = y<br>$$</p><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime}<br>\end{array}\right)=\left(\begin{array}{ll}<br>-1 &amp; 0 \\<br>0 &amp; 1<br>\end{array}\right) \left(\begin{array}{l}<br>x \\<br>y<br>\end{array}\right) = \left(\begin{array}{l}<br>-x \\<br>y<br>\end{array}\right)<br>$$</p><p>åœ¨ç«–ç›´æ–¹å‘ä¸Šï¼Œå…¶å®æ˜¯æ²¿xè½´ç¿»è½¬ã€‚</p><p>$$<br>x^{\prime} = x \\<br>y^{\prime} = -y<br>$$</p><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime}<br>\end{array}\right)=\left(\begin{array}{ll}<br>1 &amp; 0 \\<br>0 &amp; -1<br>\end{array}\right) \left(\begin{array}{l}<br>x \\<br>y<br>\end{array}\right) = \left(\begin{array}{l}<br>x \\<br>-y<br>\end{array}\right)<br>$$</p><h2 id="Shear-Transform"><a href="#Shear-Transform" class="headerlink" title="Shear Transform"></a>Shear Transform</h2><p><img src="/images/games101/03/shear.png" alt="Shear Transform"></p><p>åœ¨æ°´å¹³æ–¹å‘ä¸Šï¼Œçºµåæ ‡ä¸å˜åŒ–ã€‚</p><p>$$<br>x^{\prime} = x + ay \\<br>y^{\prime} = y<br>$$</p><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime}<br>\end{array}\right)=\left(\begin{array}{ll}<br>1 &amp; a \\<br>0 &amp; 1<br>\end{array}\right) \left(\begin{array}{l}<br>x \\<br>y<br>\end{array}\right) = \left(\begin{array}{l}<br>x + ay \\<br>y<br>\end{array}\right)<br>$$</p><p>åœ¨ç«–ç›´æ–¹å‘ä¸Šï¼Œæ¨ªåæ ‡ä¸å˜åŒ–ã€‚</p><p>$$<br>x^{\prime} = x \\<br>y^{\prime} = y + ax<br>$$</p><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime}<br>\end{array}\right)=<br>\left(\begin{array}{ll}<br>1 &amp; 0 \\<br>a &amp; 1<br>\end{array}\right) \left(\begin{array}{l}<br>x \\<br>y<br>\end{array}\right) = \left(\begin{array}{l}<br>x \\<br>y + ax<br>\end{array}\right)<br>$$</p><h2 id="Rotate-Transform"><a href="#Rotate-Transform" class="headerlink" title="Rotate Transform"></a>Rotate Transform</h2><h3 id="é»˜è®¤è§„åˆ™"><a href="#é»˜è®¤è§„åˆ™" class="headerlink" title="é»˜è®¤è§„åˆ™"></a>é»˜è®¤è§„åˆ™</h3><ul><li>about the origin (0, 0)ï¼šå›´ç»•åŸç‚¹æ—‹è½¬ï¼›</li><li>CCW by defaultï¼šé»˜è®¤æ˜¯é€†æ—¶é’ˆæ—‹è½¬ï¼›</li></ul><p><img src="/images/games101/03/rotate.png" alt="Rotate Transform"></p><p>å–å›¾ä¸­ä¸¤ä¸ªç‰¹æ®Šç‚¹è®¡ç®—æ—‹è½¬çŸ©é˜µï¼Œå¾—åˆ°ï¼š</p><p>$$<br>\mathbf{R}_{\theta} = \left(\begin{array}{ll}<br>\cos\theta &amp; -\sin\theta \\<br>\sin\theta &amp; \cos\theta<br>\end{array}\right)<br>$$</p><h3 id="ç‰¹æ®Šæ€§è´¨"><a href="#ç‰¹æ®Šæ€§è´¨" class="headerlink" title="ç‰¹æ®Šæ€§è´¨"></a>ç‰¹æ®Šæ€§è´¨</h3><p>$$<br>\mathbf{R_{-\theta}} =<br>\left(\begin{array}{cc}<br>\cos \theta &amp; \sin \theta \\<br>-\sin \theta &amp; \cos \theta<br>\end{array}\right) = \mathbf{R_{\theta}^{\top}}<br>$$</p><p>æ ¹æ®å®šä¹‰ï¼š</p><p>$$<br>\mathbf{R_{-\theta}}=\mathbf{R_{\theta}^{-1}}<br>$$</p><p>å› æ­¤å¾—åˆ°ï¼š</p><p>$$<br>\mathbf{R_{\theta}^{\top}}=\mathbf{R_{\theta}^{-1}}<br>$$</p><p>è¿™ä¸€æ€§è´¨è¡¨æ˜æ—‹è½¬çŸ©é˜µæ˜¯æ­£äº¤çŸ©é˜µã€‚</p><h2 id="Linear-Transformæ€»ç»“"><a href="#Linear-Transformæ€»ç»“" class="headerlink" title="Linear Transformæ€»ç»“"></a>Linear Transformæ€»ç»“</h2><p>å…¶ä¸­å¯¹åº”çŸ©é˜µçš„ç»´åº¦ä¸ç‚¹çš„ç»´åº¦ä¿æŒä¸€è‡´ã€‚</p><p>$$<br>x^{\prime} = ax + by \\<br>y^{\prime} = cx + dy<br>$$</p><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime}<br>\end{array}\right)=\left(\begin{array}{ll}<br>a &amp; b \\<br>c &amp; d<br>\end{array}\right) \left(\begin{array}{l}<br>x \\<br>y<br>\end{array}\right) = \left(\begin{array}{l}<br>ax + by \\<br>cx + dy<br>\end{array}\right)<br>$$</p><p>$$<br>x^{\prime} = Mx<br>$$</p><h1 id="Homogeneous-coordinates"><a href="#Homogeneous-coordinates" class="headerlink" title="Homogeneous coordinates"></a>Homogeneous coordinates</h1><h2 id="ä¸ºå•¥è¦ç”¨é½æ¬¡åæ ‡ï¼Ÿ"><a href="#ä¸ºå•¥è¦ç”¨é½æ¬¡åæ ‡ï¼Ÿ" class="headerlink" title="ä¸ºå•¥è¦ç”¨é½æ¬¡åæ ‡ï¼Ÿ"></a>ä¸ºå•¥è¦ç”¨é½æ¬¡åæ ‡ï¼Ÿ</h2><p>è¦è§£å†³å¹³ç§»å˜æ¢çš„é—®é¢˜ï¼Œå°†ä¹‹ä¸ä¹‹å‰çš„å˜æ¢ç»Ÿä¸€è¡¨ç¤ºï¼Œå› ä¸ºä¸èƒ½å°†å¹³ç§»å˜æ¢å†™æˆçŸ©é˜µä¹˜æ³•çš„å½¢å¼ã€‚</p><h2 id="Translation-Transform"><a href="#Translation-Transform" class="headerlink" title="Translation Transform"></a>Translation Transform</h2><p><img src="/images/games101/03/translation.png" alt="Translation Transform"></p><p>$$<br>x^{\prime} = x + t_x \\<br>y^{\prime} = y + t_y<br>$$</p><p>Translation cannot be represented in matrix form. ä¸æ˜¯çº¿æ€§å˜æ¢ã€‚</p><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime}<br>\end{array}\right)=<br>\left(\begin{array}{ll}<br>a &amp; b \\<br>c &amp; d<br>\end{array}\right)<br>\left(\begin{array}{l}<br>x \\<br>y<br>\end{array}\right)<br>+<br>\left(\begin{array}{l}<br>t_x \\<br>t_y<br>\end{array}\right)<br>$$</p><p>ç”±äºä¸æƒ³å°†è¯¥å˜æ¢ç‰¹æ®Šå¤„ç†ï¼Œä¸ºäº†ç»Ÿä¸€è¡¨ç¤ºï¼Œå› æ­¤éœ€è¦é½æ¬¡åæ ‡ã€‚</p><h2 id="Solution-Homogenous-Coordinates"><a href="#Solution-Homogenous-Coordinates" class="headerlink" title="Solution: Homogenous Coordinates"></a>Solution: Homogenous Coordinates</h2><p>Add a third coordinate (w-coordinate)</p><ul><li>2D point = $(x, y, 1)^T$</li><li>2D vector = $(x, y, 0)^T$</li></ul><blockquote><p>ä¸ºå•¥ç‚¹å’Œå‘é‡åœ¨å¢åŠ çš„åæ ‡ä¸Šçš„è¡¨ç¤ºåˆ†åˆ«ä¸º1å’Œ0ï¼Œè€Œä¸æ˜¯ç›¸åŒå‘¢ï¼Ÿå› ä¸ºå‘é‡å…·æœ‰å¹³ç§»ä¸å˜æ€§ï¼Œè€Œç‚¹ç»è¿‡å¹³ç§»åˆ™ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p></blockquote><p>Valid operation if w-coordinate of result is 1 or 0ï¼š</p><ul><li>vector + vector = vector</li><li>point â€“ point = vector</li><li>point + vector = point</li><li>point + point = ??</li></ul><p>In homogeneous coordinates,</p><p>$$<br>\left(\begin{array}{l}<br>x \\<br>y \\<br>w<br>\end{array}\right)<br>$$<br>is the 2D point<br>$$<br>\left(\begin{array}{l}<br>x/w \\<br>y/w \\<br>1<br>\end{array}\right)<br>$$</p><p>$$w \ne 0. $$</p><p>åœ¨è¯¥æ‰©å……å®šä¹‰ä¸‹ï¼Œé½æ¬¡åæ ‡ä¸­ï¼Œä¸¤ç‚¹ä¹‹é—´çš„åŠ å’Œç»“æœæ˜¯ä¸¤ä¸ªç‚¹çš„ä¸­ç‚¹ï¼Œè¿˜æ˜¯ä¸€ä¸ªç‚¹ã€‚</p><blockquote><p>é½æ¬¡åæ ‡çš„ä»£ä»·ï¼šå¼•å…¥äº†å¤šä½™çš„æ•°å­—ï¼Œç†è®ºä¸Šä¼šå¢åŠ å­˜å‚¨ï¼Œä½†æ˜¯å®é™…ä¸­å¯ä»¥ä¸ç®¡ã€‚</p></blockquote><h2 id="Translationåœ¨é½æ¬¡åæ ‡ä¸‹çš„è¡¨ç¤º"><a href="#Translationåœ¨é½æ¬¡åæ ‡ä¸‹çš„è¡¨ç¤º" class="headerlink" title="Translationåœ¨é½æ¬¡åæ ‡ä¸‹çš„è¡¨ç¤º"></a>Translationåœ¨é½æ¬¡åæ ‡ä¸‹çš„è¡¨ç¤º</h2><p>ä½¿ç”¨è¯¥æ–¹æ³•è¡¨ç¤ºTranslationå¾—åˆ°ï¼š</p><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime} \\<br>w^{\prime}<br>\end{array}\right)=<br>\left(\begin{array}{lll}<br>1 &amp; 0 &amp; t_x \\<br>0 &amp; 1 &amp; t_y \\<br>0 &amp; 0 &amp; 1<br>\end{array}\right) \left(\begin{array}{l}<br>x \\<br>y \\<br>1<br>\end{array}\right)<br>= \left(\begin{array}{l}<br>x + t_x \\<br>y + t_y \\<br>1<br>\end{array}\right)<br>$$</p><p>ä»è€Œå®ç°è½¬åŒ–ä¸ºçŸ©é˜µä¹˜æ³•çš„å½¢å¼ã€‚</p><h2 id="Affine-Transformä»¿å°„å˜æ¢"><a href="#Affine-Transformä»¿å°„å˜æ¢" class="headerlink" title="Affine Transformä»¿å°„å˜æ¢"></a>Affine Transformä»¿å°„å˜æ¢</h2><p>Affine map = linear map + translation</p><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime}<br>\end{array}\right)<br>=<br>\left(\begin{array}{ll}<br>a &amp; b \\<br>c &amp; d<br>\end{array}\right)<br>\left(\begin{array}{l}<br>x \\<br>y<br>\end{array}\right)<br>+<br>\left(\begin{array}{l}<br>t_x \\<br>t_y<br>\end{array}\right)<br>$$</p><p>åœ¨é½æ¬¡åæ ‡ä¸‹è¡¨ç¤ºå¦‚ä¸‹ï¼š</p><p>$$<br>\left(\begin{array}{l}<br>x^{\prime} \\<br>y^{\prime} \\<br>1<br>\end{array}\right)<br>=<br>\left(\begin{array}{lll}<br>a &amp; b &amp; t_x \\<br>c &amp; d &amp; t_y \\<br>0 &amp; 0 &amp; 1<br>\end{array}\right) \cdot<br>\left(\begin{array}{l}<br>x \\<br>y \\<br>1<br>\end{array}\right)<br>$$</p><h2 id="é½æ¬¡åæ ‡ä¸‹ç»Ÿä¸€è¡¨ç¤º"><a href="#é½æ¬¡åæ ‡ä¸‹ç»Ÿä¸€è¡¨ç¤º" class="headerlink" title="é½æ¬¡åæ ‡ä¸‹ç»Ÿä¸€è¡¨ç¤º"></a>é½æ¬¡åæ ‡ä¸‹ç»Ÿä¸€è¡¨ç¤º</h2><h3 id="Scale"><a href="#Scale" class="headerlink" title="Scale"></a>Scale</h3><p>$$<br>\mathbf{S}(s_x, s_y) =<br>\left(\begin{array}{ll}<br>s_x &amp; 0 &amp; 0 \\<br>0 &amp; s_y &amp; 0 \\<br>0&amp;0&amp; 1<br>\end{array}\right)<br>$$</p><h3 id="Rotation"><a href="#Rotation" class="headerlink" title="Rotation"></a>Rotation</h3><p>$$<br>\mathbf{R}(\theta) = \left(\begin{array}{ll}<br>\cos\theta &amp; -\sin\theta &amp; 0 \\<br>\sin\theta &amp; \cos\theta &amp; 0 \\<br>0 &amp; 0 &amp; 1<br>\end{array}\right)<br>$$</p><h3 id="Translation"><a href="#Translation" class="headerlink" title="Translation"></a>Translation</h3><p>$$<br>\mathbf{T}(t_x, t_y) =<br>\left(\begin{array}{lll}<br>1 &amp; 0 &amp; t_x \\<br>0 &amp; 1 &amp; t_y \\<br>0 &amp; 0 &amp; 1<br>\end{array}\right)<br>$$</p><h1 id="Inverse-Transform"><a href="#Inverse-Transform" class="headerlink" title="Inverse Transform"></a>Inverse Transform</h1><p>é€†å˜æ¢ $M$ åœ¨æ•°å­¦ä¸Šç­‰ä»·äºä¹˜ä¸Šé€†çŸ©é˜µã€‚$M^{-1}$ is the inverse of transform in both a matrix and geometric senseã€‚</p><p><img src="/images/games101/03/inverse.png" alt="Inverse Transform"></p><h1 id="Composite-Transform"><a href="#Composite-Transform" class="headerlink" title="Composite Transform"></a>Composite Transform</h1><h2 id="å…·ä½“å®è·µ"><a href="#å…·ä½“å®è·µ" class="headerlink" title="å…·ä½“å®è·µ"></a>å…·ä½“å®è·µ</h2><p>åœ¨ç»„åˆä¸åŒçš„å˜æ¢æ—¶ï¼Œæ³¨æ„ï¼šTransform Ordering Mattersã€‚</p><p><img src="/images/games101/03/compose_ex.png" alt="Composite Example"></p><p>å¦‚ä½•ç†è§£ï¼Ÿ</p><p>Matrix multiplication is not commutative.</p><p>$$<br>R_{45} \cdot T_{(1,0)} \ne T_{(1,0)} \cdot  R_{45}<br>$$</p><p>Note that matrices are applied right to left:</p><p>$$<br>T_{(1,0)} \cdot R_{45}<br>\left(\begin{array}{l}x \\ y<br>\\<br>1<br>\end{array}<br>\right)<br>=<br>\left(\begin{array}{lll}1 &amp; 0 &amp; 1 \\ 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 1\end{array}<br>\right)<br>\left(<br>\begin{array}{ccc}\cos 45^{\circ} &amp; -\sin 45^{\circ} &amp; 0<br>\\<br>\sin 45^{\circ} &amp; \cos 45^{\circ} &amp; 0 \\<br>0 &amp; 0 &amp; 1\end{array}<br>\right)<br>\left(\begin{array}{l}x \\ y \\ 1<br>\end{array}\right)<br>$$</p><p>å¯¹äºçŸ©é˜µä¹˜æ³•æ¥è¯´ï¼Œå½“è€ƒè™‘åˆ°å˜æ¢æ—¶ï¼Œæ˜¯<strong>ä»å³åˆ°å·¦</strong>ä¾æ¬¡èµ·ä½œç”¨çš„ã€‚</p><h2 id="æ¨å¹¿"><a href="#æ¨å¹¿" class="headerlink" title="æ¨å¹¿"></a>æ¨å¹¿</h2><p>Sequence of affine transforms $A_1, A_2, A_3,$ </p><p>Compose by matrix multiplicationå°†æ‰€æœ‰çš„å˜æ¢ç»“åˆèµ·æ¥å½¢æˆä¸€ä¸ªå˜æ¢çŸ©é˜µç„¶åå†ç»Ÿä¸€ä¸åŸå§‹ç‚¹ç›¸ä¹˜ã€‚</p><p><img src="/images/games101/03/compose.png" alt="Compose Transform"></p><p>è¿™ä¸€æŠ€å·§å¯¹äºæ€§èƒ½è®¡ç®—å¾ˆé‡è¦ï¼ŒVery important for performanceã€‚</p><h1 id="Decomposing-Complex-Transforms"><a href="#Decomposing-Complex-Transforms" class="headerlink" title="Decomposing Complex Transforms"></a>Decomposing Complex Transforms</h1><h2 id="ä¾‹å­ï¼šæ²¿ç€ç‰¹å®šç‚¹æ—‹è½¬"><a href="#ä¾‹å­ï¼šæ²¿ç€ç‰¹å®šç‚¹æ—‹è½¬" class="headerlink" title="ä¾‹å­ï¼šæ²¿ç€ç‰¹å®šç‚¹æ—‹è½¬"></a>ä¾‹å­ï¼šæ²¿ç€ç‰¹å®šç‚¹æ—‹è½¬</h2><p>How to rotate around a given point c?</p><ol><li>Translate center to origin</li><li>Rotate</li><li>Translate back</li></ol><p><img src="/images/games101/03/decompose.png" alt="Decompose Transforms"></p><p>çŸ©é˜µå½¢å¼å¦‚ä¸‹ï¼šï¼ˆä»å³åˆ°å·¦ä¾æ¬¡å†™ï¼‰</p><p>$$<br>\mathbf{T}(c) \cdot \mathbf{R}(\alpha) \cdot \mathbf{T}(-c)<br>$$</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çº¿æ€§ä»£æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-02ï¼šReview of Linear Algebra</title>
      <link href="/2022/04/24/ji-suan-ji-tu-xing-xue/games/games101-02-review-of-linear-algebra/"/>
      <url>/2022/04/24/ji-suan-ji-tu-xing-xue/games/games101-02-review-of-linear-algebra/</url>
      
        <content type="html"><![CDATA[<h1 id="è®¡ç®—æœºå›¾å½¢å­¦çš„é¢„å¤‡çŸ¥è¯†"><a href="#è®¡ç®—æœºå›¾å½¢å­¦çš„é¢„å¤‡çŸ¥è¯†" class="headerlink" title="è®¡ç®—æœºå›¾å½¢å­¦çš„é¢„å¤‡çŸ¥è¯†"></a>è®¡ç®—æœºå›¾å½¢å­¦çš„é¢„å¤‡çŸ¥è¯†</h1><p>æœ¬èŠ‚ä¸»è¦æ˜¯å¤ä¹ äº†è®¡ç®—æœºå›¾å½¢å­¦ä¸­å¯èƒ½ç”¨åˆ°çš„çº¿æ€§ä»£æ•°çŸ¥è¯†ï¼Œå…¶å®CGä¸­ä¹Ÿä¼šç”¨åˆ°å…¶ä»–ä¸€äº›çŸ¥è¯†ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p><h2 id="Basic-mathematics"><a href="#Basic-mathematics" class="headerlink" title="Basic mathematics"></a>Basic mathematics</h2><ul><li>Linear algebra</li><li>Calculus</li><li>Statistics</li></ul><h2 id="Basic-physics"><a href="#Basic-physics" class="headerlink" title="Basic physics"></a>Basic physics</h2><ul><li>Optics</li><li>Mechanics</li></ul><h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><ul><li>Signal processing</li><li>Numerical analysis</li></ul><h2 id="And-a-bit-of-aesthetics"><a href="#And-a-bit-of-aesthetics" class="headerlink" title="And a bit of aesthetics"></a>And a bit of aesthetics</h2><h1 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><ul><li>Usually written as $\vec{a}$ or in bold $\textbf{a}$</li><li>Or using start and end points</li><li>Direction and length</li><li>No absolute starting position</li></ul><h2 id="Vector-Normalization"><a href="#Vector-Normalization" class="headerlink" title="Vector Normalization"></a>Vector Normalization</h2><ul><li>Magnitude (length) of a vector written as $|\vec{a}|$</li><li>Unit vector<ul><li>A vector with magnitude of 1</li><li>Finding the unit vector of a vector (normalization): $\hat{a}=\vec{a} /|\vec{a}|$</li><li>Used to represent directions</li></ul></li></ul><h2 id="Vector-Addition"><a href="#Vector-Addition" class="headerlink" title="Vector Addition"></a>Vector Addition</h2><ul><li>Geometrically: Parallelogram law &amp; Triangle law</li><li>Algebraically: Simply add coordinates</li></ul><h2 id="Cartesian-Coordinates"><a href="#Cartesian-Coordinates" class="headerlink" title="Cartesian Coordinates"></a>Cartesian Coordinates</h2><ul><li>X and Y can be any (usually orthogonal unit) vectors  $$<br>  \mathbf{A}=\left(\begin{array}{l}x \\ y \end{array}\right) \quad \mathbf{A}^{T}=(x, y) \quad|\mathbf{A}|=\sqrt{x^{2}+y^{2}}<br>  $$  é»˜è®¤å‘é‡æ˜¯åˆ—å‘é‡ã€‚  <img src="/images/games101/02/cc.png" alt="Cartesian Coordinates"></li></ul><h2 id="Vector-Multiplication"><a href="#Vector-Multiplication" class="headerlink" title="Vector Multiplication"></a>Vector Multiplication</h2><h3 id="Dot-scalar-Product"><a href="#Dot-scalar-Product" class="headerlink" title="Dot (scalar) Product"></a>Dot (scalar) Product</h3><p><img src="/images/games101/02/dp.png" alt="Dot Product"></p><ul><li>å®šä¹‰  $$<br>  \vec{a} \cdot \vec{b}=|\vec{a}||\vec{b}| \cos \theta<br>  $$  $$<br>  \cos \theta=\frac{\vec{a} \cdot \vec{b}}{|\vec{a}||\vec{b}|}<br>  $$</li><li>è¿ç®—æ³•åˆ™ï¼š  $$<br>  \begin{array}{l} \vec{a} \cdot \vec{b} = \vec{b} \cdot \vec{a} \\<br>  \vec{a} \cdot(\vec{b}+\vec{c})=\vec{a} \cdot \vec{b}+\vec{a} \cdot \vec{c} \\  (k \vec{a}) \cdot \vec{b}=\vec{a} \cdot(k \vec{b})=k(\vec{a} \cdot \vec{b})\end{array}<br>  $$</li><li>Dot Product in Cartesian Coordinates  Component-wise multiplication, then adding up<ul><li>In 2D  $$<br>  \vec{a} \cdot \vec{b}=\left(\begin{array}{l}x_{a} \\ y_{a}\end{array}\right) \cdot\left(\begin{array}{l}x_{b} \\ y_{b}\end{array}\right)=x_{a} x_{b}+y_{a} y_{b}<br>  $$</li><li>In 3D  $$<br>  \vec{a} \cdot \vec{b}=\left(\begin{array}{c}x_{a} \\ y_{a} \\ z_{a}\end{array}\right) \cdot\left(\begin{array}{c}x_{b} \\ y_{b} \\ z_{b}\end{array}\right)=x_{a} x_{b}+y_{a} y_{b}+z_{a} z_{b}<br>  $$</li></ul></li></ul><h3 id="Dot-Product-in-Graphics"><a href="#Dot-Product-in-Graphics" class="headerlink" title="Dot Product in Graphics"></a>Dot Product in Graphics</h3><ul><li>Find angle between two vectors, (e.g. cosine of angle between light source and surface)</li><li>Finding projection of one vector on another  <img src="/images/games101/02/project.png" alt="æŠ•å½±">  $\vec{b}_{\perp}$:  projection of  $\vec{b}$  onto  $\vec{a}$<ul><li>$\vec{b}_{\perp}$ must be along $\vec{a}$ (or along $\hat{a}$ )</li><li>$\vec{b}_{\perp}=k \hat{a}$</li><li>Whatâ€™s its magnitude $k$?</li><li>$k=|\vec{b}_{\perp}|=|\vec{b}| \cos \theta$</li></ul></li><li>æŠ•å½±å¯ä»¥ç”¨æ¥ï¼š<ul><li>Measure how close two directions are</li><li>Decompose a vector</li><li>Determine forward / backwardï¼šæ˜ç¡®ä¸¤ä¸ªå‘é‡çš„æ–¹å‘æ€§ï¼ŒåŒå‘ã€åå‘ã€å‚ç›´ï¼›  <img src="/images/games101/02/fb.png" alt="åˆ¤æ–­forward/backward"></li></ul></li></ul><h3 id="Cross-vector-Product"><a href="#Cross-vector-Product" class="headerlink" title="Cross (vector) Product"></a>Cross (vector) Product</h3><p><img src="/images/games101/02/cp.png" alt="Cross Product"></p><ul><li>Cross product is orthogonal to two initial vectorsï¼šç»“æœä¸ºå‘é‡ï¼Œä¸æ˜¯æ•°å­—ï¼›</li><li>Direction determined by right-hand rule</li><li>Useful in constructing coordinate systemsï¼šæ„å»ºçš„ç§°ä¸ºå³æ‰‹åæ ‡ç³»ï¼›</li></ul><p>$$<br>\begin{array}{l}\vec{x} \times \vec{y}=+\vec{z} \\<br>\vec{y} \times \vec{x}=-\vec{z} \\<br>\vec{y} \times \vec{z}=+\vec{x} \\<br>\vec{z} \times \vec{y}=-\vec{x} \\<br>\vec{z} \times \vec{x}=+\vec{y} \\<br>\vec{x} \times \vec{z}=-\vec{y}\end{array}<br>$$</p><ul><li>è¿ç®—æ€§è´¨  $$<br>  \begin{array}{c}\vec{a} \times \vec{b}=-\vec{b} \times \vec{a} \\<br>  \vec{a} \times \vec{a}=\overrightarrow{0} \\<br>  \vec{a} \times(\vec{b}+\vec{c})=\vec{a} \times \vec{b}+\vec{a} \times \vec{c} \\<br>  \vec{a} \times(k \vec{b})=k(\vec{a} \times \vec{b})\end{array}<br>  $$</li><li>Cross Product: Cartesian Formula  $$<br>  \vec{a} \times \vec{b}=\left(\begin{array}{l}y_{a} z_{b}-y_{b} z_{a} \\<br>  z_{a} x_{b}-x_{a} z_{b} \\<br>  x_{a} y_{b}-y_{a} x_{b}\end{array}\right)<br>  $$</li></ul><h3 id="Cross-Product-in-Graphics"><a href="#Cross-Product-in-Graphics" class="headerlink" title="Cross Product in Graphics"></a>Cross Product in Graphics</h3><ul><li>Determine left / rightï¼š$\vec{a} \times \vec{b} &gt; 0$ï¼Œè¯´æ˜ $\vec{b}$ åœ¨ $\vec{a}$ çš„å·¦è¾¹ï¼›åä¹‹åœ¨å³è¾¹ï¼›  <img src="/images/games101/02/lr.png" alt="åˆ¤æ–­å·¦/å³"></li><li>Determine inside / outsideï¼šå½“$p$ç‚¹ï¼Œä¸ä¸‰è§’å½¢å„ä¸ªé¡¶ç‚¹çš„è¿çº¿ï¼Œ$\overrightarrow{AP}$ã€$\overrightarrow{BP}$ã€$\overrightarrow{CP}$åˆ†åˆ«ä¸$\overrightarrow{AB}$ã€$\overrightarrow{BC}$ã€$\overrightarrow{CA}$è®¡ç®—Cross Productï¼Œå¦‚æœpç‚¹å‡åœ¨ä¸‰ä¸ªå‘é‡çš„å·¦ä¾§æˆ–è€…å³ä¾§ï¼Œåˆ™è¯¥ç‚¹åœ¨ä¸‰è§’å½¢å†…éƒ¨ï¼Œè‹¥è½åœ¨è¾¹ç•Œä¸Šå¯è‡ªç”±å¤„ç†ã€‚  <img src="/images/games101/02/io.png" alt="åˆ¤æ–­å†…/å¤–"></li></ul><h3 id="Orthonormal-bases-and-coordinate-frames"><a href="#Orthonormal-bases-and-coordinate-frames" class="headerlink" title="Orthonormal bases and coordinate frames"></a>Orthonormal bases and coordinate frames</h3><ul><li>Important for representing points, positions, locations</li><li>Often, many sets of coordinate systems<ul><li>Global, local, world, model, parts of model (head, hands, â€¦)</li></ul></li><li>Critical issue is transforming between these systems/bases</li></ul><p>æœ‰åŠ©äºå°†å‘é‡è¿›è¡Œåˆ†è§£ï¼Œä¾‹å¦‚å¯¹äºå³æ‰‹åæ ‡ç³»ï¼š</p><p>Any set of 3 vectors (in 3D) that</p><p>$$<br>\begin{array}{l}|\vec{u}|=|\vec{v}|=|\vec{w}|=1 \\<br>\vec{u} \cdot \vec{v}=\vec{v} \cdot \vec{w}=\vec{u} \cdot \vec{w}=0 \\<br>\vec{w}=\vec{u} \times \vec{v} \quad \text { (right-handed) } \\<br>\vec{p}=(\vec{p} \cdot \vec{u}) \vec{u}+(\vec{p} \cdot \vec{v}) \vec{v}+(\vec{p} \cdot \vec{w}) \vec{w} \\<br>\text { (projection) }\end{array}<br>$$</p><h1 id="Matrices"><a href="#Matrices" class="headerlink" title="Matrices"></a>Matrices</h1><ul><li>In Graphics, pervasively used to represent transformations</li><li>Array of numbers (m Ã— n = m rows, n columns)  $$<br>  \left(\begin{array}{ll}1 &amp; 3 \\ 5 &amp; 2 \\ 0 &amp; 4 \end{array}\right)<br>  $$</li><li>Addition and multiplication by a scalar are trivial: element by element</li></ul><h2 id="Matrix-Matrix-Multiplication"><a href="#Matrix-Matrix-Multiplication" class="headerlink" title="Matrix-Matrix Multiplication"></a>Matrix-Matrix Multiplication</h2><ul><li>(number of) columns in A must = # rows in B</li><li>(M x N) (N x P) = (M x P)  $$<br>  \left(\begin{array}{ll}1 &amp; 3 \\ 5 &amp; 2 \\ 0 &amp; 4\end{array}\right)\left(\begin{array}{llll}3 &amp; 6 &amp; 9 &amp; 4 \\ 2 &amp; 7 &amp; 8 &amp; 3\end{array}\right)<br>  $$</li><li>Element (i, j) in the product is the dot product of row i from A and column j from B</li><li>è¿ç®—è§„åˆ™<ul><li>Non-commutative: (AB and BA are different in general)</li><li>Associative and distributive<ul><li>(AB)C=A(BC)</li><li>A(B+C) = AB + AC</li><li>(A+B)C = AC + BC</li></ul></li></ul></li></ul><h2 id="Matrix-Vector-Multiplication"><a href="#Matrix-Vector-Multiplication" class="headerlink" title="Matrix-Vector Multiplication"></a>Matrix-Vector Multiplication</h2><p>Treat vector as a column matrix (mÃ—1)</p><p>$$<br>\left(\begin{array}{cc}-1 &amp; 0 \\ 0 &amp; 1\end{array}\right)\left(\begin{array}{l}x \\ y \end{array}\right)=\left(\begin{array}{c}-x \\ y \end{array}\right)<br>$$</p><h2 id="Transpose-of-a-Matrix"><a href="#Transpose-of-a-Matrix" class="headerlink" title="Transpose of a Matrix"></a>Transpose of a Matrix</h2><p>Switch rows and columns (ij -&gt; ji)</p><p>$$<br>\left(\begin{array}{ll}1 &amp; 2 \\ 3 &amp; 4 \\ 5 &amp; 6\end{array}\right)^{T}=\left(\begin{array}{lll}1 &amp; 3 &amp; 5 \\ 2 &amp; 4 &amp; 6\end{array}\right)<br>$$</p><p>è¿ç®—æ€§è´¨ï¼š</p><p>$$<br>(A B)^{T}=B^{T} A^{T}<br>$$</p><h2 id="Identity-Matrix-and-Inverses"><a href="#Identity-Matrix-and-Inverses" class="headerlink" title="Identity Matrix and Inverses"></a>Identity Matrix and Inverses</h2><p>$$<br>I_{3 \times 3}=\left(\begin{array}{ccc}1 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 1\end{array}\right)<br>$$</p><p>$$<br>\begin{array}{l}A A^{-1}=A^{-1} A=I \\ (A B)^{-1}=B^{-1} A^{-1}\end{array}<br>$$</p><h2 id="Vector-multiplication-in-Matrix-form"><a href="#Vector-multiplication-in-Matrix-form" class="headerlink" title="Vector multiplication in Matrix form"></a>Vector multiplication in Matrix form</h2><h3 id="Dot-product"><a href="#Dot-product" class="headerlink" title="Dot product"></a>Dot product</h3><p>$$<br>\begin{aligned}\vec{a} \cdot \vec{b} \\ =&amp;\vec{a}^{T} \vec{b} \\ =&amp;\left(\begin{array}{lll}x_{a} &amp; y_{a} &amp; z_{a}\end{array}\right)\left(\begin{array}{c}x_{b} \\ y_{b} \\ z_{b}\end{array}\right)=\left(x_{a} x_{b}+y_{a} y_{b}+z_{a} z_{b}\right)\end{aligned}<br>$$</p><h3 id="Cross-product"><a href="#Cross-product" class="headerlink" title="Cross product"></a>Cross product</h3><p>$$<br>\vec{a} \times \vec{b}=A^{*} b=\left(\begin{array}{ccc}0 &amp; -z_{a} &amp; y_{a} \\ z_{a} &amp; 0 &amp; -x_{a} \\ -y_{a} &amp; x_{a} &amp; 0\end{array}\right)\left(\begin{array}{l}x_{b} \\ y_{b} \\ z_{b}\end{array}\right)<br>$$</p><p>A: dual matrix of vector a</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çº¿æ€§ä»£æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GAMES101-01ï¼šOverview of Computer Graphics</title>
      <link href="/2022/04/24/ji-suan-ji-tu-xing-xue/games/games101-01-overview-of-computer-graphics/"/>
      <url>/2022/04/24/ji-suan-ji-tu-xing-xue/games/games101-01-overview-of-computer-graphics/</url>
      
        <content type="html"><![CDATA[<h2 id="What-is-Computer-Graphics"><a href="#What-is-Computer-Graphics" class="headerlink" title="What is Computer Graphics"></a>What is Computer Graphics</h2><blockquote><p>The use of computers to <strong>synthesize</strong> and <strong>manipulate</strong> visual information.</p></blockquote><p>è®¡ç®—æœºå›¾å½¢å­¦ä¸ç­‰äºopenGLï¼ŒopenGLåªæ˜¯å®ç°è®¡ç®—æœºå›¾å½¢å­¦æ“ä½œçš„APIã€‚</p><h2 id="ä¸Computer-Visionçš„åŒºåˆ«"><a href="#ä¸Computer-Visionçš„åŒºåˆ«" class="headerlink" title="ä¸Computer Visionçš„åŒºåˆ«"></a>ä¸Computer Visionçš„åŒºåˆ«</h2><p>ä¸€åˆ‡æ¶‰åŠéœ€è¦<strong>çŒœæµ‹</strong>çš„ç ”ç©¶éƒ½å±äºè®¡ç®—æœºè§†è§‰çš„èŒƒç•´ï¼Œéœ€è¦åˆ†æå’Œç†è§£ã€‚</p><p><img src="/images/games101/01/diff.png" alt="è®¡ç®—æœºå›¾å½¢å­¦ä¸è®¡ç®—æœºè§†è§‰çš„åŒºåˆ«"></p><p>å‚è€ƒèµ„æ–™ï¼š</p><ul><li><a href="https://www.tutorialspoint.com/dip/computer_vision_and_graphics.htm">Computer Vision and Computer Graphics</a></li><li><a href="https://www.quora.com/What-is-the-difference-between-the-fields-of-Computer-Graphics-and-Computer-Vision">What is the difference between the fields of Computer Graphics and Computer Vision?</a></li></ul><h2 id="åº”ç”¨é¢†åŸŸ"><a href="#åº”ç”¨é¢†åŸŸ" class="headerlink" title="åº”ç”¨é¢†åŸŸ"></a>åº”ç”¨é¢†åŸŸ</h2><h3 id="Video-Games"><a href="#Video-Games" class="headerlink" title="Video Games"></a>Video Games</h3><ul><li>ä»æŠ€æœ¯è§’åº¦æ¥è¯´ï¼Œä»€ä¹ˆæ˜¯å¥½ç”»é¢ï¼Ÿ<ul><li>ç”»é¢æ˜¯å¦è¶³å¤Ÿäº®â€”â€”å…¨å±€å…‰ç…§ï¼›</li></ul></li></ul><h3 id="Movies"><a href="#Movies" class="headerlink" title="Movies"></a>Movies</h3><ul><li>ç‰¹æ•ˆï¼šspecial effects</li><li>ç‰¹æ•ˆæ˜¯æœ€ç®€å•çš„å›¾å½¢å­¦åº”ç”¨ï¼Œå› ä¸ºå°‘è§ï¼Œæˆ–è€…ç¼ºä¹ç›´æ¥çš„ä½“éªŒï¼›</li><li>æœ€éš¾çš„æ˜¯æ¨¡æ‹ŸçœŸå®çš„ä¸œè¥¿ï¼›</li></ul><h3 id="Animations"><a href="#Animations" class="headerlink" title="Animations"></a>Animations</h3><h3 id="Design"><a href="#Design" class="headerlink" title="Design"></a>Design</h3><ul><li>CAD: Computer-aided Designï¼Œå®œå®¶å®¶å±…è®¾è®¡ï¼›</li></ul><h3 id="Visualization"><a href="#Visualization" class="headerlink" title="Visualization"></a>Visualization</h3><h3 id="Virtual-Reality"><a href="#Virtual-Reality" class="headerlink" title="Virtual Reality"></a>Virtual Reality</h3><p>ç»å¸¸ä¸å¢å¼ºç°å® Augmented Realityå…±åŒå‡ºç°ã€‚</p><ul><li>ä¸¤è€…çš„åŒºåˆ«<ul><li>VRï¼šçœ‹ä¸åˆ°ç°å®ï¼›</li><li>ARï¼šçœ‹åˆ°ç°å®ä¸œè¥¿ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€äº›æ–°ä¸œè¥¿åŠ å…¥ï¼›</li></ul></li></ul><h3 id="Digital-illustration"><a href="#Digital-illustration" class="headerlink" title="Digital illustration"></a>Digital illustration</h3><h3 id="Simulation"><a href="#Simulation" class="headerlink" title="Simulation"></a>Simulation</h3><h3 id="Graphical-User-Interfaces"><a href="#Graphical-User-Interfaces" class="headerlink" title="Graphical User Interfaces"></a>Graphical User Interfaces</h3><h3 id="Typography"><a href="#Typography" class="headerlink" title="Typography"></a>Typography</h3><h2 id="æŒ‘æˆ˜"><a href="#æŒ‘æˆ˜" class="headerlink" title="æŒ‘æˆ˜"></a>æŒ‘æˆ˜</h2><h3 id="Fundamental-intellectual-challenges"><a href="#Fundamental-intellectual-challenges" class="headerlink" title="Fundamental intellectual challenges"></a>Fundamental intellectual challenges</h3><ol><li>Creates and interacts with realistic virtual world;</li><li>Requires understanding of all aspects of physical world;</li><li>New computing methods, displays, technologies;</li></ol><h3 id="Technical-challenges"><a href="#Technical-challenges" class="headerlink" title="Technical challenges"></a>Technical challenges</h3><ol><li>Math of (perspective) projections, curves, surfaces;</li><li>Physics of lighting and shading;</li><li>Representing / operating shapes in 3D;</li><li>Animation / simulation;</li><li>3D graphics software programming and hardware;</li></ol><h2 id="ä¸»è¦ç ”ç©¶å†…å®¹"><a href="#ä¸»è¦ç ”ç©¶å†…å®¹" class="headerlink" title="ä¸»è¦ç ”ç©¶å†…å®¹"></a>ä¸»è¦ç ”ç©¶å†…å®¹</h2><h3 id="Rasterization"><a href="#Rasterization" class="headerlink" title="Rasterization"></a>Rasterization</h3><ul><li>Project geometry primitives (3D triangles / polygons) onto the screen;</li><li>Break projected primitives into fragments (pixels);</li><li>Gold standard in Video Games (Real-time Applications)  å°†3Då½¢ä½“æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œæ˜¯æ‰€æœ‰æ¸¸æˆï¼Œå³<strong>å®æ—¶ï¼ˆæ¯ç§’ 30å¸§å›¾ç‰‡ï¼Œ30fpsï¼Œå¦åˆ™å«ç¦»çº¿ï¼‰è®¡ç®—æœºå›¾å½¢å­¦</strong>çš„ä¸»è¦åº”ç”¨ã€‚</li></ul><h3 id="Curves-and-Meshes"><a href="#Curves-and-Meshes" class="headerlink" title="Curves and Meshes"></a>Curves and Meshes</h3><p>How to represent geometry in Computer Graphics.</p><h3 id="Ray-Tracing"><a href="#Ray-Tracing" class="headerlink" title="Ray Tracing"></a>Ray Tracing</h3><ul><li>Shoot rays from the camera though each pixel<ul><li>Calculate intersection and shading;</li><li>Continue to bounce the rays till they hit light sources;</li></ul></li><li>Gold standard in Animations / Movies (Offline Applications)</li></ul><h3 id="Animation-Simulation"><a href="#Animation-Simulation" class="headerlink" title="Animation / Simulation"></a>Animation / Simulation</h3><ul><li>Key frame Animation</li><li>Mass-spring System</li></ul>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºå›¾å½¢å­¦ </tag>
            
            <tag> è®¡ç®—æœºè§†è§‰ </tag>
            
            <tag> å…‰æ …åŒ– </tag>
            
            <tag> å…‰çº¿è¿½è¸ª </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å…¥é—¨è®¡ç®—æœºå›¾å½¢å­¦ï¼šä¸€ä»½checklist</title>
      <link href="/2022/04/24/ji-suan-ji-tu-xing-xue/ru-he-ru-men-ji-suan-ji-tu-xing-xue-yi-fen-checklist/"/>
      <url>/2022/04/24/ji-suan-ji-tu-xing-xue/ru-he-ru-men-ji-suan-ji-tu-xing-xue-yi-fen-checklist/</url>
      
        <content type="html"><![CDATA[<h1 id="å¤ªé•¿ä¸çœ‹ç‰ˆ"><a href="#å¤ªé•¿ä¸çœ‹ç‰ˆ" class="headerlink" title="å¤ªé•¿ä¸çœ‹ç‰ˆ"></a>å¤ªé•¿ä¸çœ‹ç‰ˆ</h1><h2 id="ä¸è¦"><a href="#ä¸è¦" class="headerlink" title="ä¸è¦"></a>ä¸è¦</h2><ul><li>ä¸è¦å…³æ³¨å›¾å½¢APIï¼šOpenGLã€DirectXã€Vulkanç­‰åªæ˜¯APIï¼Œè€ŒåŸç†ç›¸åŒï¼›</li><li>ä¸è¦å…³æ³¨GPUè¿˜æ˜¯CPUï¼šå®ƒä»¬åªæ˜¯æ•ˆç‡ä¸åŒï¼›</li><li>ä¸è¦å…³æ³¨æ¸¸æˆç¼–ç¨‹ç±»ï¼šæ¯”å¦‚UEå¼•æ“ç­‰ï¼Œè¿™äº›åªæ˜¯ä¸Šå±‚çš„åº”ç”¨ï¼›</li><li>ä¸è¦å…³æ³¨æ²¡æœ‰ä»£ç çš„è®ºæ–‡ï¼šCGååº”ç”¨ï¼Œå•çº¯å…¥é—¨æ²¡å¿…è¦ï¼›</li></ul><h2 id="è¦"><a href="#è¦" class="headerlink" title="è¦"></a>è¦</h2><ul><li>ä¸Šè¯¾ä»¥å»ºç«‹ç†è®ºè„‰ç»œï¼šCGä¸€èˆ¬åŒ…å«Rendering/Geometry/Simulation</li><li>å¤šå†™ä»£ç ï¼šCGååº”ç”¨ï¼Œä»£ç è•´å«ç»†èŠ‚ï¼›</li><li>è¦è¾¹ç†è®ºè¾¹å®è·µç¼–ç¨‹ï¼›</li></ul><h2 id="å»ºè®®"><a href="#å»ºè®®" class="headerlink" title="å»ºè®®"></a>å»ºè®®</h2><ul><li>ä»å¤´é€ è½®å­ï¼šä¾¿äºäº†è§£ç»†èŠ‚ï¼›</li><li>æ‹†è§£å°é¡¹ç›®ï¼šæ˜ç™½å·¥ä¸šçº§é¡¹ç›®ï¼Œå­¦ä¹ å…¶ä»–äººçš„ç»éªŒï¼›</li></ul><h1 id="æŠ€èƒ½è¦æ±‚"><a href="#æŠ€èƒ½è¦æ±‚" class="headerlink" title="æŠ€èƒ½è¦æ±‚"></a>æŠ€èƒ½è¦æ±‚</h1><h2 id="ç¼–ç¨‹æŠ€èƒ½"><a href="#ç¼–ç¨‹æŠ€èƒ½" class="headerlink" title="ç¼–ç¨‹æŠ€èƒ½"></a>ç¼–ç¨‹æŠ€èƒ½</h2><ul><li>C/C++ï¼šå‚è€ƒC++ Primerè¿™æœ¬ä¹¦ï¼Œæ²¡æœ‰plusï¼›</li></ul><h2 id="ç†è®ºæŠ€èƒ½"><a href="#ç†è®ºæŠ€èƒ½" class="headerlink" title="ç†è®ºæŠ€èƒ½"></a>ç†è®ºæŠ€èƒ½</h2><ul><li>å¾®ç§¯åˆ†</li><li>çº¿æ€§ä»£æ•°<ul><li><a href="https://math.mit.edu/~gs/linearalgebra/">Introduction to Linear Algebra, 5th Edition</a></li><li><a href="http://immersivemath.com/ila/index.html">Immersive Math</a></li></ul></li></ul><h1 id="é¢†åŸŸå†…å®¹"><a href="#é¢†åŸŸå†…å®¹" class="headerlink" title="é¢†åŸŸå†…å®¹"></a>é¢†åŸŸå†…å®¹</h1><h2 id="æ•´ä½“ç»“æ„"><a href="#æ•´ä½“ç»“æ„" class="headerlink" title="æ•´ä½“ç»“æ„"></a>æ•´ä½“ç»“æ„</h2><p>ä¸»è¦æ˜¯å»ºç«‹å¯¹CGçš„æ•´ä½“è®¤è¯†ï¼Œä¸è¦æ±‚å¤šä¹ˆæ·±å…¥ï¼Œè¦æ±‚ç»“æ„æ¸…æ™°ï¼Œæ–¹ä¾¿å¿«é€Ÿå…¥é—¨ã€‚</p><ul><li>ä¹¦ç±<ul><li>Fundamentals of Computer Graphics, Fourth Edition</li></ul></li><li>è¯¾ç¨‹<ul><li><a href="http://games-cn.org/intro-graphics/">GAMES101:ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨</a></li></ul></li></ul><h2 id="å®æ—¶æ¸²æŸ“"><a href="#å®æ—¶æ¸²æŸ“" class="headerlink" title="å®æ—¶æ¸²æŸ“"></a>å®æ—¶æ¸²æŸ“</h2><ul><li>ä¹¦ç±ï¼šReal-Time Rendering, Fourth Edition</li><li>è¯¾ç¨‹<ul><li><a href="http://games-cn.org/games202/">Games202:é«˜è´¨é‡å®æ—¶æ¸²æŸ“ - è®¡ç®—æœºå›¾å½¢å­¦ä¸æ··åˆç°å®ç ”è®¨ä¼š</a></li></ul></li></ul><h2 id="å‡ ä½•"><a href="#å‡ ä½•" class="headerlink" title="å‡ ä½•"></a>å‡ ä½•</h2><ul><li><a href="https://www.bilibili.com/video/BV1B54y1B7Uc">æ•°å­—å‡ ä½•å¤„ç†-ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦-å‚…å­æ˜_å“”å“©å“”å“©_bilibili</a></li></ul><h2 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h2><ul><li><a href="https://www.bilibili.com/video/BV1ZK411H7Hc?from=search&seid=5195290021208890151">GAMES201ï¼šé«˜çº§ç‰©ç†å¼•æ“å®æˆ˜æŒ‡å—2020_å“”å“©å“”å“©_bilibili</a></li></ul><h1 id="æ‹†è§£é¡¹ç›®"><a href="#æ‹†è§£é¡¹ç›®" class="headerlink" title="æ‹†è§£é¡¹ç›®"></a>æ‹†è§£é¡¹ç›®</h1><p>è¿™äº›é¡¹ç›®å¯ç”¨äºæ‹†è§£ç»ƒä¹ ã€‚</p><ul><li><a href="https://github.com/ssloy/tinyrenderer">è½¯ä»¶å…‰æ …åŒ–æ¸²æŸ“å™¨â€”â€”tinyrenderer</a></li><li><a href="https://github.com/skywind3000/mini3d">è½¯ä»¶å…‰æ …åŒ–æ¸²æŸ“å™¨â€”â€”mini3d</a></li><li><a href="https://github.com/topics/box2d-lite">ç‰©ç†å¼•æ“â€”â€”box2d-lite</a></li><li><a href="https://github.com/mitsuba-renderer/mitsuba2">æ¸²æŸ“ç³»ç»Ÿâ€”â€”mitsuba2æ¸²æŸ“å™¨</a></li></ul><h1 id="å…¶ä»–æŠ€æœ¯èµ„æº"><a href="#å…¶ä»–æŠ€æœ¯èµ„æº" class="headerlink" title="å…¶ä»–æŠ€æœ¯èµ„æº"></a>å…¶ä»–æŠ€æœ¯èµ„æº</h1><h2 id="å…‰æ …æŠ€æœ¯"><a href="#å…‰æ …æŠ€æœ¯" class="headerlink" title="å…‰æ …æŠ€æœ¯"></a>å…‰æ …æŠ€æœ¯</h2><p>Peter Shirleyï¼ˆFundamentals of Computer Graphicsä½œè€…ï¼‰çš„ä¸€ç³»åˆ—å…³äºå…‰çº¿è¿½è¸ªçš„æ–‡ç« <a href="https://raytracing.github.io/">Ray Tracing in One Weekend Series</a>ã€‚</p><ul><li><strong>Ray Tracing in One Weekend</strong></li><li><strong>Ray Tracing: The Next Week</strong></li><li><strong>Ray Tracing: The Rest of Your Life</strong></li></ul><h2 id="å‚è€ƒç™¾ç§‘å…¨ä¹¦â€”â€”PBR"><a href="#å‚è€ƒç™¾ç§‘å…¨ä¹¦â€”â€”PBR" class="headerlink" title="å‚è€ƒç™¾ç§‘å…¨ä¹¦â€”â€”PBR"></a>å‚è€ƒç™¾ç§‘å…¨ä¹¦â€”â€”PBR</h2><p><a href="https://www.pbrt.org/">Physically Based Rendering: From Theory to Implementation</a></p><p>è¯¥å‚è€ƒä¹¦è¿˜é…æœ‰å¼€æºçš„<a href="https://github.com/mmp/pbrt-v3">å·¥ä¸šçº§æ¸²æŸ“å™¨</a>ä»¥ä¾›ä½¿ç”¨å’Œå­¦ä¹ ã€‚</p><h1 id="å­¦ä¹ è·¯çº¿"><a href="#å­¦ä¹ è·¯çº¿" class="headerlink" title="å­¦ä¹ è·¯çº¿"></a>å­¦ä¹ è·¯çº¿</h1><ol><li>å­¦ä¹ GAMES-101ï¼Œå¹¶å­¦ä¹ C++å®è·µ+åšä½œä¸šï¼›</li><li>åˆ©ç”¨Fundamentals of Computer Graphicä½œä¸ºè¡¥å……å†…å®¹ï¼›</li><li>åœ¨å¯¹åº”ç« èŠ‚ä¸­ï¼Œé€šè¿‡æ‹†è§£é¡¹ç›®å’Œèµ„æºæ¥æ·±åº¦ç†è§£çŸ¥è¯†ï¼›<ol><li>å…‰è¿½æŠ€æœ¯ï¼›</li><li>å…‰æ …åŒ–æ¸²æŸ“ï¼›</li></ol></li></ol><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://www.zhihu.com/question/41468803">é›¶åŸºç¡€å¦‚ä½•å­¦ä¹ è®¡ç®—æœºå›¾å½¢å­¦ï¼Ÿ</a></p><p><a href="https://www.scratchapixel.com/">Scratchapixel</a></p><p><a href="https://www.zhihu.com/column/game-programming">æµ…å¢¨çš„æ¸¸æˆç¼–ç¨‹</a></p><p><a href="https://developer.nvidia.com/gpugems/gpugems/contributors">Contributors</a></p><p><a href="https://learnopengl.com/Introduction">Introduction</a></p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å…¥é—¨æŒ‡å— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2022å¹´å¼€å¹´è¿”æ ¡è¢«éš”ç¦»äº†</title>
      <link href="/2022/02/09/si-kao-nei-sheng/2022-nian-kai-nian-fan-xiao-bei-ge-chi-liao/"/>
      <url>/2022/02/09/si-kao-nei-sheng/2022-nian-kai-nian-fan-xiao-bei-ge-chi-liao/</url>
      
        <content type="html"><![CDATA[<p>æ˜¨å¤©è¿”æ ¡äº†ï¼Œæœ¬æ¥æœ‰ä¸€ä¸ªè®ºæ–‡æ„è§éœ€è¦å›å¤ä¸€ä¸‹ï¼Œä»Šå¤©ä¸€ä¸Šåˆåœ¨å›å¤è®ºæ–‡çš„æ„è§ï¼Œå‡†å¤‡ä»Šå¤©å®Œæˆæ„è§å›å¤åï¼Œå°±ç»§ç»­è‡ªå·±çš„æ¯•ä¸šè®ºæ–‡æ’°å†™ï¼Œä½†æ˜¯ï¼Œå¤©æœ‰ä¸æµ‹é£äº‘ï¼Œç”Ÿæ´»æ€»æ˜¯ä¼šè·Ÿä½ å¼€ä¸€ä¸ªç©ç¬‘ã€‚æ€»æ˜¯æ€•ä½ å¤ªæ— èŠï¼Œç»™ä½ åŠ å…¥ä¸€äº›è°ƒå‘³å“ï¼Œè®©ä½ çš„ç”Ÿæ´»å……æ»¡ä¸°å¯Œçš„è‰²å½©ã€‚</p><h1 id="è¯§å¼‚"><a href="#è¯§å¼‚" class="headerlink" title="è¯§å¼‚"></a>è¯§å¼‚</h1><p>ä¸­åˆæ”¶åˆ°ä¸€ä¸ªçŸ­ä¿¡ï¼Œè¯´æˆ‘çš„æ­å·å¥åº·ç å˜æˆäº†é»„è‰²ï¼Œå½“æ—¶æˆ‘ä¸€åº¦æœ‰ç‚¹æ‡µï¼Œè§‰å¾—æ˜¯ä¸æ˜¯å‡ºç°é”™è¯¯äº†ï¼Œä½†æ˜¯åˆæ˜¯ç¡®å®çš„ä¿¡æ¯ï¼Œ</p><p><img src="/images/%E9%9A%94%E7%A6%BB/message.png" alt="æ”¶åˆ°çŸ­ä¿¡ã€‚ã€‚ã€‚"></p><p>è™½ç„¶çœ‹åˆ°è¿™ä¸ªä¿¡æ¯ï¼Œä½†æ˜¯ä»ç„¶è§‰å¾—ä¸ç›¸ä¿¡ï¼Œæ­¤æ—¶æƒ³åˆ°çš„åæœæ˜¯ï¼š</p><ul><li>å®Œäº†ï¼Œå¯èƒ½è¦éš”ç¦»ï¼›</li><li>ä¿¡æ¯è¦æ±‚æŠ¥å‘Šï¼Œå› æ­¤æƒ³èƒ½ä¸èƒ½ä¸æŠ¥å‘Šï¼Œä½†æ˜¯å¥½åƒä¸è¡Œï¼Œä¼šå¸¦æ¥é£é™©ï¼›</li></ul><p>æ€»ä¹‹ï¼Œæ­¤æ—¶ï¼Œå°±æ˜¯ä¸Šè¿°ä¸¤ç§å¿ƒç†çš„åšå¼ˆï¼Œä½†æ˜¯ç†æ€§å æ®äº†ä¸Šé£ï¼Œå¿…é¡»åœ°æŠ¥å‘Šï¼Œä¸ç„¶åæœå¯èƒ½å¾ˆå¤§ï¼Œä¸å‡ºäº‹åˆ™å·²ï¼Œä¸€å‡ºäº‹å°±æ˜¯å¤§äº‹ã€‚</p><h1 id="æ‡Šæ‚”"><a href="#æ‡Šæ‚”" class="headerlink" title="æ‡Šæ‚”"></a>æ‡Šæ‚”</h1><p>æƒ³åˆ°ä¸Šè¿°çš„ç»“æœï¼Œç¬¬ä¸€æ—¶é—´å°±è·Ÿå­¦æ ¡çš„è´Ÿè´£äººè”ç³»äº†ï¼Œä½†æ˜¯æ²¡æœ‰å¾—åˆ°ç«‹å³çš„åé¦ˆï¼Œå¯èƒ½ä»–ä»¬ä¹Ÿéœ€è¦ç¡®å®šä¸€ä¸‹ä¿¡æ¯ï¼Œäºæ˜¯æˆ‘å°±ç­‰ç€ã€‚</p><p>ä½†æ˜¯ï¼Œæ€ä¹ˆæƒ³è‡ªå·±ä¹Ÿä¸ä¼šæ˜¯é»„ç ï¼Œè™½ç„¶ä»åŒ—äº¬ä¸°å°åŒºå›æ¥ï¼Œä½†æ˜¯ä¸æ˜¯ä¸­é«˜é£é™©çš„è¡—é“ï¼Œæƒ³æ¥ä¹Ÿä¸ä¼šæœ‰é—®é¢˜ï¼Œå› æ­¤æˆ‘è¿˜ç”³è¯‰äº†ä¸€ä¸‹ï¼Œç»“æœè¿˜æˆåŠŸäº†ï¼Œä¸‹åˆçš„æ—¶å€™ï¼Œç»¿ç å›æ¥äº†ï¼Œä½†æ˜¯è¡Œç¨‹ç ä»ç„¶æœ‰åŒ—äº¬çš„ç—•è¿¹ï¼Œæˆ‘åæ¥æƒ³äº†ä¸€ä¸‹ï¼Œå¯èƒ½æ˜¯å› ä¸ºåœ¨åŒ—äº¬ç­‰è½¦çš„æ—¶é—´è¶…è¿‡äº†4ä¸ªå°æ—¶ï¼Œæœ‰äº†ç—•è¿¹ï¼Œæ‰€ä»¥æ‰è¢«æ‰“ä¸Šäº†é»„ç æ ‡ç­¾ï¼ŒçœŸæ˜¯å……æ»¡äº†å¶ç„¶æ€§ã€‚</p><p>æœ¬æ¥ï¼Œæˆ‘ä»¥ä¸ºå¥åº·ç å˜æˆäº†ç»¿ç ï¼Œåº”è¯¥ä¸ä¼šéš”ç¦»äº†å§ï¼Œä½†æ˜¯ä¸‹åˆå¾—åˆ°çš„å›å¤æ˜¯å»éš”ç¦»ï¼Œè€Œä¸”æ˜¯14å¤©ï¼Œæˆ‘å¤©ã€‚ã€‚ã€‚ï¼Œçªç„¶æœ‰ä¸€ç§è‡ªå·±æ²¡æ³•æŒ‰æ—¶æ¯•ä¸šäº†çš„æ„Ÿè§‰ï¼Œå­¦é™¢çš„è€å¸ˆçš„å‚¬ä¿ƒå¯èƒ½ï¼Œåœ¨æˆ‘çœ‹æ¥å°±æ˜¯è®©æˆ‘å»¶æœŸæ¯•ä¸šï¼Œé‚£ç§å¯¹æŠ—çš„å¿ƒç†å¾ˆå¼ºçƒˆï¼Œä½†æ˜¯æˆ‘å¿ä½äº†ï¼Œæƒ³ç”¨ä¸€ä¸ªæ‹–å­—è¯€ã€‚æ…¢æ…¢åœ°ï¼Œæˆ‘è§‰å¾—è¿™æ ·å¯èƒ½ä¸å¯¹ï¼Œå› ä¸ºæ— æ³•è§£å†³é—®é¢˜ï¼Œè€Œä¸”æ˜¯èº²é¿é—®é¢˜ã€‚è¦ä¹ˆç«‹å³éš”ç¦»ï¼Œè¦ä¹ˆæ‰¿æ‹…åæœï¼Œå¯èƒ½æ˜¯æ— æ³•æ´»åŠ¨ï¼Œç”šè‡³å­¦é™¢å¯èƒ½æœ‰ç›¸åº”çš„æƒ©ç½šæªæ–½ç­‰ç­‰ï¼Œä¸ç®¡èº²å¤šä¹…ï¼Œè¿Ÿæ—©è¦é¢å¯¹è¿™ä¸¤ä¸ªç»“æœã€‚</p><p>ä½†æ˜¯ï¼Œæˆ‘ä»ç„¶ä¸æ˜ç™½çš„æ˜¯ï¼Œå›½å®¶å·²ç»å…¬å¸ƒäº†ä¸­ä½é£é™©åŒºï¼Œå·²ç»å…·ä½“åˆ°è¡—é“ï¼Œæˆ‘è§‰å¾—å›½å®¶åšçš„å¾ˆå¥½äº†ï¼Œä¸ºä»€ä¹ˆåœ°æ–¹ä»è¦ä»¥ä¸¥æ ¼ç®¡æ§ä¸ºç†ç”±ï¼Œæ‰©å¤§ä¸­é«˜é™©åœ°åŒºèŒƒå›´å‘¢ï¼Ÿ</p><p>åŒæ—¶ä¹Ÿæœ‰ä¸€ç§æ‡Šæ‚”çš„å¿ƒæƒ…ï¼Œå¦‚æœè‡ªå·±ä¸é©¬ä¸Šå‘Šè¯‰è€å¸ˆï¼Œè‡ªå·±çš„å¥åº·ç æƒ…å†µï¼Œç­‰åˆ°å¥åº·ç å˜ç»¿ï¼Œå¯èƒ½å°±ä¸ç”¨æŠ¥å‘Šå’Œéš”ç¦»äº†ã€‚</p><h1 id="åæ€"><a href="#åæ€" class="headerlink" title="åæ€"></a>åæ€</h1><p>ä»Šå¤©é¢å¯¹çš„é—®é¢˜æ˜¯ä¸ªå†³ç­–é—®é¢˜ï¼Œå…¶å®æ˜¯è¦æ‰¾å‡ºä¸€ä¸ªæœ€ä¼˜çš„å†³ç­–ã€‚</p><p>å†³ç­–çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿé€šä¿—çš„è¯´ï¼Œæ—©å›æ¥æ˜¯ä¸ºäº†æŠ“ç´§æ—¶é—´èµ¶è®ºæ–‡æ¯•ä¸šï¼Œè¿™æ˜¯æˆ‘çš„ç›®æ ‡ã€‚</p><p>æœ¬æ¥ä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œå°±æŒ‰ç…§é¢„å®šè®¡åˆ’æ‰§è¡Œå³å¯ï¼Œä½†æ˜¯çªç„¶æœ‰äº†æ„å¤–æƒ…å†µâ€”â€”å¥åº·ç å˜é»„äº†ï¼Œè¿™ä¸ªæ—¶å€™å¦‚ä½•è°ƒæ•´è®¡åˆ’ä»¥é€‚åº”é¢„å®šçš„ç›®æ ‡ï¼Œæœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼š</p><ul><li>ç’æŠ¥<ul><li>æœ€ä¼˜çš„ç»“æœæ˜¯è°éƒ½ä¸çŸ¥é“ï¼ŒæŒ‰ç…§é¢„å®šè®¡åˆ’æ‰§è¡Œï¼›</li><li>æœ€åçš„ç»“æœæ˜¯ï¼Œè‡ªå·±å‡ºç°é—®é¢˜ï¼Œè¢«å‘ç°ï¼Œç„¶åè¢«è¿½æº¯ä¿¡æ¯ï¼ŒæŒ‰åŸè®¡åˆ’æ¯•ä¸šæ—¶ä¸å¯èƒ½äº†ï¼Œç”šè‡³è¿˜ä¼šæœ‰é¢å¤–çš„éº»çƒ¦ï¼Œç”šè‡³ä¼šå½±å“ä¸ºäº†çš„èŒä¸šå‘å±•å’Œè§„åˆ’ã€‚</li></ul></li><li>ä¸»åŠ¨æŠ¥å‘Š<ul><li>é©¬ä¸ŠæŠ¥å‘Š<ul><li>æœ€åçš„ç»“æœæ˜¯é›†ä¸­éš”ç¦»14å¤©ï¼Œåœ¨éš”ç¦»åœºæ‰€å†™è®ºæ–‡ï¼›</li><li>æœ€å¥½çš„ç»“æœï¼Œä¸ç”¨éš”ç¦»ï¼ŒæŒ‰ç…§åŸè®¡åˆ’æ‰§è¡Œï¼›</li></ul></li><li>å»¶è¿ŸæŠ¥å‘Š<ul><li>æœ€åçš„ç»“æœï¼Œé›†ä¸­éš”ç¦»14å¤©ï¼Œåœ¨éš”ç¦»åœºæ‰€å†™è®ºæ–‡ï¼›</li><li>æœ€å¥½çš„ç»“æœï¼Œä¸ç”¨éš”ç¦»ï¼ŒæŒ‰ç…§åŸè®¡åˆ’æ‰§è¡Œï¼›</li></ul></li></ul></li></ul><p>ä»ä¸Šè¿°çš„åˆ†æä¸­ï¼Œå‘ç°ç’æŠ¥è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œæœ€åçš„ç»“æœæ˜¯æˆ‘æ— æ³•æ‰¿å—çš„ï¼ˆåœ¨æ²¡æœ‰è¶³å¤Ÿä¿¡æ¯æ”¯æ’‘çš„æƒ…å†µä¸‹åšå‡ºè¿™ç§å†³ç­–ï¼‰ã€‚</p><p>åœ¨ä¸»åŠ¨æŠ¥å‘Šä¸­ï¼Œé©¬ä¸Šå’Œå»¶è¿ŸæŠ¥å‘Šçš„æœ€å¥½ç»“æœå’Œæœ€åç»“æœéƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ—¢ç„¶å¦‚æ­¤ï¼Œä½†æ˜¯å»¶è¿ŸæŠ¥å‘Šä¸­ï¼Œå…¶å‘ç°æœ€å¥½ç»“æœçš„æƒé‡è‚¯å®šè¦æ¯”é©¬ä¸ŠæŠ¥å‘Šå¤§ä¸€äº›ï¼Œå› æ­¤è¿™ç§æƒ…å†µä¸‹ï¼Œç›®å‰ä¿¡æ¯çš„æ”¯æ’‘ä¸‹ï¼Œå»¶è¿ŸæŠ¥å‘Šå¯èƒ½è¦å¥½ä¸€äº›ï¼Œå› ä¸ºå¾—åˆ°çš„ç»“æœéƒ½æ˜¯ç›¸åŒçš„ã€‚</p><p>æ€»ç»“æ¥çœ‹ï¼Œ<strong>ä»å†³ç­–è§’åº¦æ¥çœ‹ï¼Œå»¶è¿ŸæŠ¥å‘Šæ›´å¥½ä¸€äº›ï¼Œå› ä¸ºäº‹æ€æ˜¯åœ¨ä¸æ–­å˜åŒ–çš„ï¼Œä½†æ˜¯è¿™ç§å˜åŒ–ï¼Œå¹¶æ²¡æœ‰æ”¹å˜ç»“æœï¼Œåªæ˜¯æ”¹å˜äº†ç»“æœçš„åˆ†å¸ƒã€‚</strong></p><p>å› æ­¤ï¼Œåº”äº†é‚£å¥è¯ï¼Œ</p><ul><li><strong>å¥½äº‹æ™šè¯´ä¸å¦‚æ—©è¯´</strong></li><li><strong>åäº‹æ—©è¯´ä¸å¦‚æ™šè¯´</strong></li></ul><h1 id="åº”å¯¹"><a href="#åº”å¯¹" class="headerlink" title="åº”å¯¹"></a>åº”å¯¹</h1><p>é¢å¯¹è¿™ç§æƒ…å†µï¼Œå¯èƒ½æœ‰å„ç§â€œå¦‚æœâ€ï¼š</p><ul><li>å¦‚æœï¼Œæˆ‘å½“åˆæ²¡æœ‰ä»åŒ—äº¬å—å›æ¥ã€‚ã€‚ã€‚</li><li>å¦‚æœï¼Œæˆ‘å½“åˆæ²¡æœ‰åœç•™è¶…è¿‡4ä¸ªå°æ—¶ã€‚ã€‚ã€‚</li><li>å¦‚æœï¼Œå­¦æ ¡ä¸æ˜¯ä¸€åˆ€åˆ‡ã€‚ã€‚ã€‚</li><li>å¦‚æœï¼Œæˆ‘å»¶è¿ŸæŠ¥å‘Šã€‚ã€‚ã€‚</li></ul><p><strong>æ²¡æœ‰é‚£ä¹ˆå¤šå¦‚æœï¼Œäº‹æƒ…å·²ç»å‘ç”Ÿäº†ï¼ŒåŸåœ°æ‡Šæ‚”3ç§’é’Ÿï¼Œå°±è¦æƒ³æ€ä¹ˆåº”å¯¹çš„é—®é¢˜äº†ï¼Œè¿‡å»çš„äº‹æƒ…æ°¸è¿œæ— æ³•æ”¹å˜ã€‚</strong></p><p><strong>ä½ æ— æ³•é¢„æµ‹æœªæ¥ï¼Œå°±åƒä½ ä¹Ÿæ— æ³•é¢„æµ‹è‚¡å¸‚ä¸€æ ·ï¼Œåªèƒ½å»åº”å¯¹ã€‚</strong>é¢å¯¹è¿™ç§æƒ…å†µï¼Œå¯èƒ½éœ€è¦ï¼š</p><ul><li>æå‰å‡†å¤‡å·¥ä½œæ‰€éœ€ææ–™ï¼Œåšå¥½å‡†å¤‡ï¼›</li><li>åˆç†å®‰æ’è‡ªå·±çš„å·¥ä½œæ—¶é—´ï¼›</li><li>æå‰è¿›è¡Œå¿ƒç†æŒ‰æ‘©ï¼Œè¦åœ¨éš”ç¦»ç‚¹å¾…14å¤©ï¼›</li><li>ä¿æŒèº«ä½“å¥åº·ï¼Œæ¯•ç«Ÿåªåœ¨ä¸€ä¸ªå±‹è¡ŒåŠ¨ï¼›</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ€è€ƒå†…çœ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ€è€ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2021å¹´åº¦æ€»ç»“ï¼šé»æ˜å‰å¤œ</title>
      <link href="/2022/02/01/si-kao-nei-sheng/2021-nian-du-zong-jie-li-ming-qian-ye/"/>
      <url>/2022/02/01/si-kao-nei-sheng/2021-nian-du-zong-jie-li-ming-qian-ye/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è¿™äº›æ–‡å­—å†™åœ¨2021-2022å¹´çš„é™¤å¤•å¤œï¼Œ2021å¹´è½¬çœ¼é—´è¿‡å»äº†ã€‚è¿™ä¸€å¹´æ„Ÿè§‰è¿‡å¾—å¥½å¿«ï¼Œç–«æƒ…ä»ç„¶å½±å“ç€æ•´ä¸ªä¸­å›½ï¼Œç”šè‡³æ•´ä¸ªä¸–ç•Œã€‚æ‰€ä»¥ï¼Œæˆ‘å°†2021å¹´çš„æ€»ç»“æ¦‚æ‹¬ä¸ºï¼šé»æ˜å‰å¤œï¼Œä¸ä»…æ˜¯å¯¹äºæˆ‘ä»¬ç”Ÿæ´»çš„è¿™ä¸ªä¸–ç•Œï¼Œä¹ŸåŒ…æ‹¬æˆ‘ä»¬è‡ªå·±é¢å¯¹çš„æƒ…å†µï¼Œé»æ˜å‰å¤œæ˜¯æ€æ ·çš„çŠ¶å†µï¼Ÿ</p><ul><li>æœ¬è´¨è¿˜æ˜¯â€œå¤œâ€ï¼›</li><li>ä½†æ˜¯å­˜åœ¨å¸Œæœ›ï¼›</li><li>å¯¹äºåˆ°è¾¾é»æ˜çš„è¿‡ç¨‹ä¸ä¼šå¤ªé•¿ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ä¸­æ˜¯æœ€å†·çš„ï¼›</li></ul><p>æˆ–è®¸ä»¥åå›çœ‹è¿™äº›å½“æ—¶å†™ä¸‹çš„æ–‡å­—æ—¶ï¼Œä¹Ÿä¼šä½“ä¼šåˆ°ç°åœ¨çš„å¿ƒæƒ…å§ã€‚</p><h1 id="è¯»ä¹¦"><a href="#è¯»ä¹¦" class="headerlink" title="è¯»ä¹¦"></a>è¯»ä¹¦</h1><p>ä»Šå¹´è¯»äº†ä¸å°‘çš„é—²ä¹¦ï¼Œä¸ç®¡æ˜¯ä¸ºäº†æ¶ˆé£æ—¶é—´è¿˜æ˜¯æå‡è®¤çŸ¥ï¼Œæˆ–è€…åªæ˜¯ä¼‘æ¯ä¸€ä¸‹ã€‚è™½ç„¶è¯»äº†ä¹‹åï¼Œå‘ç°å¥½å¤šä¸œè¥¿éƒ½å¿˜äº†ï¼Œä½†æ˜¯ç›¸æ¯”äºæ²¡è¯»ï¼Œè¿˜æ˜¯æœ‰æ„ä¹‰çš„ï¼Œä¸è¿‡ä»Šå¹´å­¦åˆ°äº†ä¸€ä¸ªè¯â€œä¸¥è‚ƒå­¦ä¹ â€ï¼Œå…¶å®ç”¨åœ¨è¯»ä¹¦ä¸Šè¿˜æ˜¯æŒºæœ‰ç”¨çš„ï¼Œæœ‰äº›ä¹¦å¯ä»¥åœ¨åºŠä¸Šèººç€è¯»ï¼Œæœ‰äº›åªèƒ½åœ¨ç”µè„‘è¾¹ï¼Œè¾¹è¯»è¾¹åšç¬”è®°ã€‚è¿™ä¸€ç‚¹æ˜¯æˆ‘ä»Šå¹´åœ¨è¯»ä¹¦æ—¶ä½“ä¼šåˆ°çš„ï¼Œè¿˜æœ‰ä¸€äº›å¬ä¹¦çš„æ–¹å¼ï¼Œæˆ‘å°è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°å¹¶ä¸é€‚åˆæˆ‘ã€‚</p><p>ä»Šå¹´è¯»çš„ä¹¦å¥½åƒæœ‰ç‚¹æ‚ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li><p>ã€Šå¤§ç©ºå¤´ã€‹</p><p>  2020å¹´æŠ•èµ„å¸‚åœºçš„è¡Œæƒ…ï¼Œå®åœ¨æ˜¯è¿‡äºææ…Œäº†ï¼Œç–«æƒ…çš„å½±å“è¢«æåº¦æ”¾å¤§äº†ã€‚ä¹‹å‰çœ‹äº†ã€Šå¤§ç©ºå¤´ã€‹çš„ç”µå½±ï¼Œæ€»æœ‰ç‚¹è§‰å¾—ä¸è¿‡ç˜¾ï¼Œä¹¦ç¡®å®èƒ½ç•™å‡ºæ€è€ƒçš„æ—¶é—´ï¼Œè¿™æœ¬ä¹¦å¯¹äº08å¹´é‚£åœºé£æš´è§£é‡Šçš„å¾ˆæ¸…æ¥šï¼Œå›å¤´çœ‹ï¼Œç¡®æ˜¯ä¸€ä¸ªå¥½çš„æœºä¼šï¼Œå¦‚æœå­å¼¹å¤Ÿçš„è¯ã€‚å…¶ä¸­æœ‰å¾ˆå¤šä¸“ä¸šæœ¯è¯­ï¼Œä¸ºäº†â€œä¸“ä¸šâ€è€Œä¸“ä¸šï¼Œè¢«åŒ…è£…æˆå¤æ‚çš„ä¸œè¥¿ï¼Œæ˜¾å¾—â€œé«˜å¤§ä¸Šâ€ï¼Œå…¶å®å…¨éƒ½æ˜¯å”¬äººçš„ä¸œè¥¿ã€‚å›æœ›ä»Šå¹´ï¼Œç–«æƒ…å¼•èµ·çš„ææ…Œè¿˜åœ¨è”“å»¶ï¼Œä½†æ˜¯ä»ç„¶æœ‰ä¸€äº›æœºä¼šï¼Œç”šè‡³æœ‰ä¸€äº›æ³¡æ²«ã€‚</p></li><li><p>ã€Šæˆ‘åœ¨ç¾å†›èˆªæ¯ä¸Šçš„8å¹´ã€‹</p><p>  ä¸€ä¸ªåè£”å£«å…µçš„ç¾å†›æœå½¹è®°å½•ï¼Œæˆ‘è§‰å¾—å¾ˆçœŸå®ï¼Œä¸å…¶æ¯å¤©â€œå‰å®³äº†ï¼Œæˆ‘çš„å›½â€ï¼Œä¸å¦‚è€å®äº†è§£ä¸€ä¸‹ï¼Œå…¶ä»–äººéƒ½åœ¨å¹²ä»€ä¹ˆï¼Œæ•´æœ¬ä¹¦çœ‹å®Œåï¼ŒæŠ›å»åè£”åœ¨æµ·å¤–çš„é‚£äº›ç†Ÿæ‚‰çš„ç»å†ï¼Œæ›´å¤šçš„æ˜¯å¯¹äºç¾å†›çš„ä¸“ä¸šæ€§çš„è®¤è¯†ã€‚è¦åƒäº†è§£è‡ªå·±ä¸€æ ·äº†è§£ç«äº‰è€…ï¼Œä¸è¦èµ°ä¸¤ä¸ªæç«¯ã€‚</p></li><li><p>ã€Šå‘¨æœŸã€‹</p><p>  éœåå¾·Â·é©¬å…‹æ–¯å¯¹äºå‘¨æœŸçš„ç ”ç©¶ï¼ŒæŠ•èµ„ä¸­ä½ä¹°é«˜å–æ˜¯åŸºæœ¬åŸåˆ™ï¼Œä½†æ˜¯å®è·µèµ·æ¥æ˜¯å¾ˆå›°éš¾çš„ï¼Œå¦‚ä½•è¯†åˆ«å½“å‰ä½ç½®çš„é«˜ä½æ˜¯ä¸€é—¨è‰°æ·±çš„å­¦é—®ï¼Œè¿™æœ¬ä¹¦å°è¯•ä»ä¸åŒè§’åº¦å›ç­”è¿™ä¸€é—®é¢˜ï¼Œäººç±»èµ°æç«¯çš„è¡Œä¸ºæ°¸è¿œä¸ä¼šåœæ­¢ï¼Œè€Œè¿™äº›æç«¯è¡Œä¸ºå¯¼è‡´çš„ç»“æœæ€»ä¼šå›å½’æ­£å¸¸ï¼Œå› æ­¤éœ€è¦è­¦æƒ•â€œè¿™æ¬¡ä¸ä¸€æ ·çš„è®ºè°ƒâ€ï¼Œä½†æ˜¯å†å²ä¸ä¼šç®€å•é‡å¤ï¼Œä½†å´éµä»ç€ç±»ä¼¼çš„æ¨¡å¼ã€‚è¿™æœ¬ä¹¦å€¼å¾—äºŒåˆ·ã€‚</p></li><li><p>ã€Šå‰§å˜ï¼šäººç±»ç¤¾ä¼šä¸å›½å®¶å±æœºçš„è½¬æŠ˜ç‚¹ã€‹</p><p>  ã€Šæªç‚®ã€ç»†èŒä¸é’¢é“ã€‹åŒä¸€ä½œè€…â€”â€”è´¾é›·å¾·Â·æˆ´è’™å¾·ï¼Œ æˆ‘æŒºå–œæ¬¢è¿™æœ¬ä¹¦çš„ï¼Œä»å›½å®¶å†å²çš„è§’åº¦ï¼Œåˆ†æä¸ªäººçš„å±æœºå’Œå›½å®¶å±æœºçš„ç›¸ä¼¼æ€§ï¼Œä»¥åŠç›¸åº”çš„å¤„ç†ç­–ç•¥ï¼Œå±æœºä¸­æ°¸è¿œè•´å«ç€æœºä¼šï¼Œåƒä¸˜å‰å°”è¯´çš„â€œæ°¸è¿œä¸è¦æµªè´¹æ¯ä¸€æ¬¡å±æœºâ€ã€‚æ€»æ„Ÿè§‰ä½œè€…å’Œå…¶ä»–çš„äººä¸å¤ªä¸€æ ·ï¼Œçœ‹ä¸å‡ºæ¥ä»–åé‡å“ªä¸ªè§’åº¦é˜è¿°ï¼Œæœ‰èåˆäº†å¿ƒç†å­¦ã€å†å²å­¦ã€æ”¿æ²»å­¦è¿˜æœ‰è‡ªç„¶ç§‘å­¦ç­‰ï¼Œä¸åƒæ¯ç‡¥çš„ç¤¾ç§‘æ•™æã€‚</p></li><li><p>ã€Šåˆ›æ–°è€…ï¼šä¸€ç¾¤æŠ€æœ¯ç‹‚äººå’Œé¬¼æ‰ç¨‹åºå‘˜å¦‚ä½•æ”¹å˜ä¸–ç•Œã€‹</p><p>  è¿™æ˜¯å†™ã€Šä¹”å¸ƒæ–¯ä¼ ã€‹çš„ä½œè€…å†™çš„ï¼Œæˆ‘è§‰å¾—å¯ä»¥ä½œä¸ºä¸€ä¸ªè®¡ç®—æœºä¸“ä¸šå­¦ç”Ÿçš„å…¥é—¨ä¹¦ç±ï¼Œæ˜¯æåŠ›æ¨èçš„ï¼Œå…¶ä¸­å¥½å¤šå†…å®¹å¯ä»¥å’Œå¤§å­¦å­¦åˆ°çš„ä¸œè¥¿å¯¹åº”èµ·æ¥ï¼Œå½“åˆå­¦åˆ°çš„ä¸œè¥¿ï¼Œå…¨éƒ½æ˜¯å­¤ç«‹çš„ä¸œè¥¿ï¼Œç°åœ¨è¿™æœ¬ä¹¦å°†æ‰€æœ‰å†…å®¹éƒ½è¿èµ·æ¥äº†ï¼Œä»è¿™ä¸€ç‚¹ä¸Šæ¥çœ‹ä¹Ÿæ˜¯å€¼å¾—ä¸€è¯»çš„ã€‚å…¶ä¸­ä¹¦ä¸­ï¼Œæ²¡æœ‰å¦‚å°æ ‡é¢˜æ‰€è¯´é‚£æ ·ï¼Œä¸€å®šæ˜¯æŠ€æœ¯æ¨åŠ¨ï¼Œä½†æ— ç–‘å®ƒæ‰®æ¼”äº†ä¸»è¦çš„è§’è‰²ï¼Œè¿˜åŒ…æ‹¬ï¼šå®¶ä¸–ã€è®¤çŸ¥ã€æ–‡åŒ–ã€åˆ¶åº¦ç­‰ã€‚å…¶ä¸­è¿˜å……æ»¡ç€å‹¾å¿ƒæ–—è§’ã€å®˜åƒšæ–‡åŒ–ç­‰ç­‰ï¼Œæ€»ä¹‹ï¼Œåˆ›æ–°ä¸æ˜¯ç®€å•åœ°å®Œå…¨ç”±æŠ€æœ¯æ¨åŠ¨ã€‚</p></li><li><p>è¿˜æœ‰ä¸€æœ¬æ²¡æœ‰è¯»å®Œçš„ã€Šä¸œäº¬è´«å›°å¥³å­ã€‹</p><p>  è¿™æœ¬ä¹¦çœ‹èµ·æ¥å®åœ¨æ˜¯å¤ªéš¾å—äº†ï¼ŒèŒåœºæ­§è§†ã€å®¶åº­ç ´è£‚ã€æ€§åˆ«æ­§è§†ã€æ€§éªšæ‰°ç­‰ç­‰ï¼Œå›°æ‰°ç€å¥³æ€§ä»¬ï¼Œä½†æ˜¯è¿™å½’æ ¹ç»“åº•å¯èƒ½æ˜¯å¤šé‡å› ç´ å¯¼è‡´çš„ï¼Œä¸€ä¸ªå‘è¾¾å›½å®¶ä¸­çš„é«˜å­¦å†å¥³æ€§ç«Ÿç„¶æ²¦è½é£å°˜ï¼Œè€Œä¸”è¿˜ä¸å°‘ï¼Œå’‹çœ‹å’‹è§‰å¾—è¿™ä¸ªç¤¾ä¼šå‡ºç°é—®é¢˜äº†ï¼Œå¹¶ä¸èƒ½å…¨éƒ¨å¦‚ä¸­å›½å²å®¶é‚£æ ·ï¼Œåªæœ‰æœ‰é—®é¢˜å°±å½’ç½ªäºå¥³äººã€‚æ•´æœ¬ä¹¦ï¼Œå°±ä¸æ–­å°†ç¤¾ä¼šçš„é»‘æš—é¢å±•ç°ç»™ä½ çœ‹ï¼Œå°†è´Ÿé¢æƒ…ç»ªæ¨åˆ°æç‚¹ã€‚åç»­ï¼Œè¿™æœ¬ä¹¦ä¼šç»§ç»­è¯»ä¸‹å»ã€‚</p></li></ul><h1 id="è´¢åŠ¡è§„åˆ’"><a href="#è´¢åŠ¡è§„åˆ’" class="headerlink" title="è´¢åŠ¡è§„åˆ’"></a>è´¢åŠ¡è§„åˆ’</h1><p>ä»Šå¹´ä¹Ÿå¯¹è‡ªå·±çš„æ•´ä¸ªæŠ•èµ„è®¡åˆ’åšäº†ä¸€ä¸ªæ€»ç»“ï¼Œå› ä¸ºä¹Ÿæœ‰å¸®è€å¦ˆç®¡ç†çš„éƒ¨åˆ†ã€‚å› ä¸ºå„ç§æƒ…å†µå§ï¼Œä»Šå¹´çš„æƒ…å†µè¿˜ç®—å¯ä»¥ï¼Œä½†ä¹Ÿæ˜¯å……æ»¡äº†é­”å¹»ï¼Œä¸ç®¡æ€æ ·è¿™æ˜¯ç¬¬ä¸€æ¬¡æ€»ç»“è‡ªå·±çš„æŠ•èµ„æˆè´¥ï¼Œç»“æœå›¾è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th>æŠ•èµ„è®¡åˆ’</th><th>æ”¶ç›Šç‡</th></tr></thead><tbody><tr><td>æˆ‘çš„è®¡åˆ’</td><td>14.87%</td></tr><tr><td>è€å¦ˆçš„è®¡åˆ’</td><td>5.75%</td></tr><tr><td>æ²ªæ·±300</td><td>-5.20%</td></tr><tr><td>ä¸­è¯500</td><td>15.58%</td></tr><tr><td>æ’ç”ŸæŒ‡æ•°</td><td>-14.08%</td></tr><tr><td>åè‚¡æ··åˆåŸºé‡‘</td><td>7.68%</td></tr></tbody></table><p>æ€»çš„æ¥è¯´ï¼Œç»“æœè¿˜ä¸é”™ï¼Œå…¶ä¸­ç¬¬ä¸€æ¬¡å¸®è€å¦ˆç®¡é’±ï¼Œä¹‹å‰ä¹Ÿè·Ÿå¥¹æ˜ç¡®äº†æŠ•èµ„é£æ ¼ä»¥ç¨³å¥ä¸ºä¸»ï¼Œå› æ­¤æŠ•èµ„äº†å¤§é‡çš„å€ºåˆ¸å’Œè´§å¸ï¼Œæ‰€ä»¥åŸºæœ¬æ²¡æœ‰å›æ’¤ã€‚è™½ç„¶è€å¦ˆè¯´æ”¾å¿ƒæˆ‘ï¼Œä¸åœ¨æ„æŠ•èµ„å•¥ï¼Œä½†æ˜¯è€ƒè™‘åˆ°å¹´çºªå’Œå¿ƒç†ï¼Œè¿˜æ˜¯ä»¥ç¨³å¥ä¸ºä¸»ï¼Œå›å®¶å’Œè€å¦ˆå¤ç›˜äº†ä¸€ä¸‹ä»Šå¹´çš„æˆç»©ï¼Œå¾—åˆ°è®¤å¯ï¼Œ2022å¹´å¯èƒ½éœ€è¦åŠ å…¥ä¸€ä¸ªå¢å¼ºçš„å› ç´ ï¼Œæ¥ç¨å¾®æå‡ä¸€ç‚¹æ”¶ç›Šç‡ã€‚</p><p>å¯¹äºæˆ‘è‡ªå·±ï¼Œä»Šå¹´ä¹Ÿåœ¨é€æ­¥å»ºç«‹è‡ªå·±çš„æŠ•èµ„ä½“ç³»ï¼Œç›®å‰å·²ç»æœ‰ä¸€ä¸ªè®¾è®¡äº†ï¼Œæ­£åœ¨é€æ­¥å®ç°ï¼Œå¸Œæœ›èƒ½å¤Ÿä¸æ–­å®Œå–„è¿™ä¸ªä½“ç³»ã€‚è€Œä»Šå¹´çš„æˆç»©ï¼Œæœ‰ä¸€äº›è¿æ°”åœ¨é‡Œè¾¹ï¼Œå¹´åˆé“¶è¡Œä¿é™©ä¸å¤ªè¡Œï¼Œä¹°äº†ä¸€äº›ï¼Œæ‰€ä»¥æ”¶ç›Šè¿˜ä¸é”™ã€‚åœ¨å®è·µçš„è¿‡ç¨‹ä¸­ï¼Œé€æ­¥è®¤è¯†åˆ°æŠ•èµ„æ˜¯é—¨æŠ€æœ¯+è‰ºæœ¯çš„é¢†åŸŸï¼Œå¾ˆéš¾å®Œå…¨ä»æŠ€æœ¯è§’åº¦å»ç†è§£ï¼Œæˆ–è€…å®Œå…¨ä¸»è§‚å»çœ‹å¾…ï¼Œéœ€è¦ä¸æ–­ä»å®è·µä¸­è®¤è¯†ã€‚</p><h1 id="è‡ªçœå’Œä½“ä¼š"><a href="#è‡ªçœå’Œä½“ä¼š" class="headerlink" title="è‡ªçœå’Œä½“ä¼š"></a>è‡ªçœå’Œä½“ä¼š</h1><p>ä»Šå¹´çš„å¿ƒæƒ…ä½è½åˆ°æç‚¹ï¼Œé‚£ç§æ— åŠ›æ„Ÿï¼Œå¯èƒ½æ— æ³•å½¢å®¹ï¼Œæˆ‘æƒ³æåŠ›æŒ‘å‡ºè¿™ç§æç«¯è´Ÿé¢çš„æƒ…ç»ªä¸‹ï¼Œä½†æ˜¯å±¡é­å¤±è´¥ï¼Œè¿™æ˜¯è‡ªæˆ‘è°ƒèŠ‚çš„èƒ½åŠ›å‡ºç°äº†é—®é¢˜ï¼Œæˆ‘æƒ³è¿™ç§èƒ½åŠ›ç›¸æ¯”äºæŠ€æœ¯èƒ½åŠ›ã€è§£å†³é—®é¢˜çš„é—®é¢˜æ›´é‡è¦ï¼Œå› ä¸ºå­¦æ ¡é‡Œæœ‰äº›äººï¼Œå°±æ˜¯æ— æ³•æ‰¿å—è¿™ç§æ— åŠ›æ„Ÿï¼Œè€Œé€‰æ‹©äº†æç«¯çš„è¡Œä¸ºï¼Œè¿™æ˜¯è¦é¿å…çš„ï¼Œç°åœ¨æˆ‘è¿˜ä¸æ¸…æ¥šå¦‚ä½•é”»ç‚¼è¿™ç§èƒ½åŠ›ï¼Œä½†æ˜¯æˆ‘æ„è¯†åˆ°äº†è¿™æ–¹é¢çš„ç¼ºä¹ï¼Œåç»­å¯èƒ½éœ€è¦çœ‹ä¸€äº›ä¹¦ï¼Œæˆ–è€…ç›¸å…³ææ–™å­¦ä¹ ï¼Œä½†æ˜¯å¯èƒ½æœ€å¥½çš„è¿˜æ˜¯è‡ªå·±ä»ä¸­ä½“ä¼šå¹¶å®è·µã€‚</p><p>è‡ªæˆ‘å¦å®šå’Œæ€€ç–‘ï¼Œè¿™å‡ å¹´æ¥æ·±æ·±åœ°é™·å…¥äº†è‡ªæˆ‘å¦å®šçš„æ€ªåœˆï¼Œè§‰å¾—è‡ªå·±ä¸€æ–‡ä¸å€¼ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šï¼Œä»€ä¹ˆéƒ½ä¸è¡Œã€‚åæ¥åæ€ï¼Œè¿™ä¸æ‰€åœ¨çš„ç¯å¢ƒå¯†ä¸å¯åˆ†ï¼Œä½†æ˜¯ä¹Ÿæœ‰è‡ªå·±çš„åŸå› ï¼ŒæœŸæœ›è¿‡é«˜ï¼Œå¹¶ä¸”æ²¡æœ‰å¯¹è¦åšçš„äº‹æƒ…è¿›è¡Œé‡åŒ–ï¼Œå¯¼è‡´æ— æ³•æ˜ç¡®ä»»åŠ¡çš„ç»“æœï¼Œä¹Ÿå°±æ— æ³•äº§ç”Ÿæ­£åé¦ˆã€‚ä½†æ˜¯ä»Šå¹´é€šè¿‡å‚åŠ äº†ä¸€äº›æ´»åŠ¨ï¼Œè§‰å¾—è‡ªå·±ä¸æ˜¯é‚£ä¹ˆä¸å ªï¼Œä¸ç®¡æ˜¯ä»è‡ªå·±è¡¨ç°çš„ç»“æœæ¥çœ‹ï¼Œæˆ–è€…æ˜¯ä»–äººçš„é—´æ¥çš„è¯„ä»·æ¥çœ‹ã€‚ä¸€ä¸ªé‡è¦çš„åŸå› ï¼Œå¯èƒ½æ˜¯åšäº‹çš„æ–¹æ³•å‡ºç°äº†é—®é¢˜ï¼Œè™½ç„¶åšäº‹æœ‰è§„åˆ’ï¼Œä½†æ˜¯æ²¡æœ‰æ˜ç¡®çš„å¯é‡åŒ–çš„ç›®æ ‡ï¼Œæˆ–è€…é˜¶æ®µæ€§çš„å¯ä»¥æ€»ç»“çš„æˆæœï¼Œè¿™æ˜¯éœ€è¦ä»¥åæ”¹æ­£çš„ã€‚</p><p>ä»Šå¹´çš„ä¸€ä¸ªä½“ä¼šæ˜¯ï¼Œäººä»¬å€¾å‘äºå°†ä¸€äº›è¡¨ç°çªå‡ºçš„äººç¥åŒ–ä¸ºåœ£äººï¼Œç§ä»¥ä¸ºè¿™ç§å€¾å‘æ˜¯æœ‰é—®é¢˜çš„ï¼Œä¸ç®¡æ˜¯ä¸“ä¸šé¢†åŸŸè¿˜æ˜¯æ—¥å¸¸ç”Ÿæ´»ï¼Œå¯¹äºä¸ªäººæ¥è¯´ï¼Œè¿™ä¼šè®©äººè¿·ä¿¡æƒå¨ï¼Œæ²¡æœ‰ç‹¬ç«‹æ€è€ƒçš„èƒ½åŠ›ï¼Œå¯¹äºè¢«ç¥åŒ–çš„äººä¹Ÿæ²¡æœ‰å¥½å¤„ï¼Œå½“äººä»¬æŠŠä½ æ§å¾—æ„ˆé«˜ï¼Œä½ ä¼šè¶Šç„¦è™‘ï¼Œå› ä¸ºä¸æ•¢ä¸æ¯«å‡ºé”™è¯¯ï¼Œåªè¦æœ‰é—®é¢˜ï¼Œä½ çš„æ‰€æœ‰ä¹‹å‰çš„åŠªåŠ›å…¨éƒ½ä¼šè¢«å¿½è§†ï¼Œæ‰€æœ‰äººéƒ½ä¼šèƒŒå›ä½ ï¼Œä¸ç®¡æ˜¯å¨±ä¹æ˜æ˜Ÿè¿˜æ˜¯ä¸“ä¸šäººå£«ã€‚å¯¹äºæ•´ä¸ªç¤¾ä¼šä¹Ÿå­˜åœ¨éšæ‚£ï¼Œäººä»¬ä¸æ•¢è´¨ç–‘ï¼Œä¸“ä¸šäººå£«å‡ºä¸€ç‚¹é—®é¢˜å°±ä¸€æ£’å­æ‰“æ­»ï¼Œé‚£äº›å½“åˆæœ€è¿½æ§ä½ çš„ï¼Œä¹‹åä¹Ÿæ˜¯æ‹†ä½ å¢™æœ€å¿«çš„äººã€‚æ€»ä¹‹ï¼Œå¯¹äºæˆ‘ä»¬è‡ªèº«æ¥è¯´ï¼Œä¸è¦ç¥åŒ–ä»»ä½•äººï¼Œä¹‹å‰çœ‹åˆ°ä¸€ä¸ªè®¿é—®ï¼Œä¸€ä¸ªè¯ºè´å°”ç»æµå­¦å¥–å¾—ä¸»çš„æŠ•èµ„æˆæœï¼Œä¸€å¡Œç³Šæ¶‚ï¼ŒæŒ‰ç†è¯´æ²¡äººæ¯”ä»–æ›´æ‡‚ç»æµï¼Œä½†æ˜¯ç»“æœå°±åœ¨é‚£é‡Œã€‚</p><h1 id="2022å¹´ç›®æ ‡"><a href="#2022å¹´ç›®æ ‡" class="headerlink" title="2022å¹´ç›®æ ‡"></a>2022å¹´ç›®æ ‡</h1><ul><li>å¾ˆæœ´ç´ å’Œç›´æ¥çš„ä¸€ä»¶äº‹æƒ…â€”â€”é¡ºåˆ©æ¯•ä¸šï¼Œæ‹¿åˆ°å­¦ä½ï¼Œè¿™æ˜¯ä»Šå¹´çš„ä¸»è¦ç›®æ ‡ã€‚</li><li>ä»Šå¹´å›å®¶çªç„¶å‘ç°ä¸€ä»¶äº‹æƒ…ï¼Œè€å¦ˆçœŸçš„å¹´çºªå¤§äº†ï¼Œä¹‹å‰æœ‰æ„è¯†åˆ°ï¼Œä½†æ˜¯æ²¡æœ‰å‡ å¹´è¿™ä¹ˆæ˜æ˜¾ï¼Œä»Šå¹´æ¯•ä¸šå›å®¶åï¼Œè¦å¸¦è€å¦ˆå»è‡³å°‘ä¸¤ä¸ªåœ°æ–¹æ¸¸ç©ï¼Œå¹¶æ‹ä¸€äº›ç…§ç‰‡ã€‚</li><li>å­¦ä¹ è®¡ç®—æœºå›¾å½¢å­¦ï¼šå®Œæˆé—«ä»¤çªåšå£«çš„<a href="http://games-cn.org/intro-graphics/">GAMES101:ç°ä»£è®¡ç®—æœºå›¾å½¢å­¦å…¥é—¨</a>è¯¾ç¨‹å’Œä½œä¸šã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ€è€ƒå†…çœ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹´åº¦æ€»ç»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RotatE - å»ºæ¨¡å¤æ‚å…³ç³»çš„åˆ©å™¨</title>
      <link href="/2021/11/20/shu-ju-ke-xue/rotate-jian-mo-fu-za-guan-xi-de-li-qi/"/>
      <url>/2021/11/20/shu-ju-ke-xue/rotate-jian-mo-fu-za-guan-xi-de-li-qi/</url>
      
        <content type="html"><![CDATA[<p>æ–‡ç« æ¥æº: <a href="https://arxiv.org/abs/1902.10197v1">RotatE: Knowledge Graph Embedding by Relational Rotation in Complex Space</a></p><h1 id="ä¹‹å‰ç ”ç©¶ä¸­çš„é—®é¢˜"><a href="#ä¹‹å‰ç ”ç©¶ä¸­çš„é—®é¢˜" class="headerlink" title="ä¹‹å‰ç ”ç©¶ä¸­çš„é—®é¢˜"></a>ä¹‹å‰ç ”ç©¶ä¸­çš„é—®é¢˜</h1><p>ä¸èƒ½å¯¹ä¸‰ç§å…³ç³»åŒæ—¶è¿›è¡Œå»ºæ¨¡å’Œæ¨ç†ã€‚</p><blockquote><p>None of existing models is capable of modeling and inferring all the above patterns: symmetry/antisymmetry, inversion, and compositionã€‚</p></blockquote><h3 id="ä¾‹å­è¯´æ˜"><a href="#ä¾‹å­è¯´æ˜" class="headerlink" title="ä¾‹å­è¯´æ˜"></a>ä¾‹å­è¯´æ˜</h3><ul><li>symmetryï¼šå©šå§»ï¼ŒåŒå‘å…³ç³»ï¼›</li><li>antisymmetryï¼šå­é¡ºï¼Œå•å‘å…³ç³»ï¼›</li><li>inversionï¼šä¸Šä½è¯å’Œä¸‹ä½è¯ï¼Œæ­£å‘å’Œåå‘å…³ç³»ï¼›</li><li>compositionï¼šæˆ‘æ¯äº²çš„ä¸ˆå¤«æ˜¯æˆ‘çˆ¶äº²ï¼Œå…³ç³»ç»„åˆè®¡ç®—ï¼›</li></ul><h1 id="æƒ³æ³•"><a href="#æƒ³æ³•" class="headerlink" title="æƒ³æ³•"></a>æƒ³æ³•</h1><blockquote><p>Motivation is from Eulerâ€™s identity: a unitary complex number can be regarded as a rotation in the complex plane.</p></blockquote><p>$$<br>e^{i\theta} = \text{cos}\theta + i\text{sin}\theta<br>$$</p><p>å³ï¼Œä»»ä½•ä¸€ä¸ªå¤æ•°éƒ½å¯ä»¥çœ‹ä½œå¤å¹³é¢ä¸Šçš„ä¸€ä¸ªæ—‹è½¬å‘é‡ã€‚</p><p><strong>RotatE model maps the entities and relations to the complex vector space and deï¬nes each relation as a rotation from the source entity to the target entity.</strong></p><p>å½¢å¼åŒ–è¡¨è¾¾ï¼š</p><p>Given a triplet $(h, r, t)$ , we expect that $t = h \circ r$ , where $h, r, t \in \mathbb{C}^k $ are the embeddings, the modulus $| r_i | = 1$ and $\circ$ denotes the <code>Hadamard (element-wise) product</code>. Speciï¬cally, for each dimension in the complex space, we expect that:</p><p>$$<br>t_i = h_i r_i , \text{where} \ h_i , r_i , t_i \in \mathbb{C}^k \text{and} \ | r_i | = 1.<br>$$</p><p>è¯´æ˜ï¼š</p><ul><li><p><code>symmetric</code></p><p>  a relation $r$ is symmetric if and only if each element of its embedding $r_i$ , satisï¬es $r_i= e^{0/i\pi}= \pm1$ ;</p></li><li><p><code>inverse</code></p><p>  Two relations $r_1$ and $r_2$ are inverse if and only if their embeddings are <code>conjugates</code>: $r_2= \overline{r}_1$ ;</p></li><li><p><code>composition</code></p><p>  a relation $r_3= e^{i\theta_3} $  is a combination of other two relations $r_1= e^{i\theta_1}$ and $r_2= e^{i\theta_2}$ if and only if $r_3 = r_1 \circ r_2$ (i.e. $\theta_3 = \theta_1 + \theta_2$ ).</p></li></ul><h1 id="æ–¹æ³•è¯´æ˜"><a href="#æ–¹æ³•è¯´æ˜" class="headerlink" title="æ–¹æ³•è¯´æ˜"></a>æ–¹æ³•è¯´æ˜</h1><h2 id="Relations-Formal-deï¬nition"><a href="#Relations-Formal-deï¬nition" class="headerlink" title="Relations Formal deï¬nition"></a>Relations Formal deï¬nition</h2><p><strong>Deï¬nition 1</strong>. A relation $r$ is <code>symmetric</code> (<code>antisymmetric</code>) if $\forall x, y$ </p><p>$$ r(x, y) â‡’ r(y, x) \ ( r(x, y) â‡’ Â¬r(y, x) ) $$</p><p>A clause with such form is a <code>symmetry</code> (<code>antisymmetry</code>) pattern.</p><p><strong>Deï¬nition 2</strong>. Relation $r_1$ is <code>inverse</code> to relation $r_2$ if $\forall x, y$ </p><p>$$r_2 (x, y) â‡’ r_1(y, x)$$ </p><p>A clause with such form is a <code>inversion</code> pattern.</p><p><strong>Deï¬nition 3</strong>. Relation $r_1$ is <code>composed</code> of relation $r_2$ and relation $r_3$ . if $\forall x, y, z$</p><p>$$r_2 (x, y) âˆ§ r_3 (y, z) â‡’ r_1 (x, z)$$ </p><p>A clause with such form is a <code>composition</code> pattern.</p><h2 id="å»ºæ¨¡æ€è€ƒè¿‡ç¨‹"><a href="#å»ºæ¨¡æ€è€ƒè¿‡ç¨‹" class="headerlink" title="å»ºæ¨¡æ€è€ƒè¿‡ç¨‹"></a>å»ºæ¨¡æ€è€ƒè¿‡ç¨‹</h2><p>æˆ‘ä»¬å¸Œæœ›è¾¾æˆä»¥ä¸‹ç›®æ ‡ï¼š</p><ul><li>(é)å¯¹ç§°å…³ç³»<br>$$ r(x, y) â‡’ r(y, x) \ ( r(x, y) â‡’ Â¬r(y, x))$$</li><li>é€†å‘å…³ç³»<br>$$r_2 (x, y) â‡’ r_1(y, x)$$</li><li>ç»„åˆå…³ç³»<br>$$r_2 (x, y) âˆ§ r_3 (y, z) â‡’ r_1 (x, z)$$</li></ul><p>é‚£å°±è¦æ‰¾åˆ°ä¸€ä¸ªå‡½æ•°èƒ½å¤Ÿå®ç°è¿™ä¸‰ç§å…³ç³»çš„è¡¨ç¤ºã€‚</p><p>TransEèƒ½å¤Ÿå¯¹è¿™ä¸‰ç§å…³ç³»åŒæ—¶å»ºæ¨¡å—ï¼Ÿç¨ç¨åˆ†æä¸€ä¸‹ï¼š</p><ul><li><p>å¯¹äº<code>symmetric</code></p><p>  éœ€è¦æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å…³ç³»çš„embeddings</p><p>  $$ r(x, y) â‡’ r(y, x)$$</p><p>  $$x + r_i = y$$</p><p>  $$y + r_j = x$$</p><p>  $$r_i = r_j$$</p><p>  åˆ™ï¼Œåªèƒ½ $r_i = r_j = 0$ ï¼Œæ‰€ä»¥ä¸èƒ½è¡¨ç¤º <code>symmetric</code>ã€‚</p></li></ul><ul><li><p>å¯¹äº<code>antisymmetry</code></p><p>  $$ r(x, y) â‡’ Â¬r(y, x) $$</p><p>  è¦æ±‚ï¼š</p><p>  $$x + r_i = y$$</p><p>  $$y + r_j = x$$</p><p>  $$r_i \ne r_j$$</p><p>  æ¨¡å‹æ˜¯èƒ½å¤Ÿæ»¡è¶³è¦æ±‚çš„ï¼Œåªè¦ä¿è¯ï¼š</p><p>  $$r_i + r_j = 0$$</p><p>  $$r_i \ne r_j$$</p><p>  è‡³äºå»ºæ¨¡çš„æ•ˆæœå¥½ä¸å¥½ï¼Œé‚£æ˜¯å¦å¤–ä¸€å›äº‹ã€‚</p></li><li><p>å¯¹äº<code>inversion</code></p><p>  éœ€è¦æ»¡è¶³ï¼š</p><p>  $$r_2 (x, y) â‡’ r_1(y, x)$$ </p><p>  ä»ä¸Šè¿°<strong>åå¯¹ç§°</strong>çš„è§’åº¦è¿›ä¸€æ­¥çœ‹ï¼Œåœ¨æ»¡è¶³<strong>åå¯¹ç§°</strong>çš„åŒæ—¶ï¼Œå®ƒä¹Ÿå°±æ»¡è¶³äº†<code>inversion</code>å…³ç³»çš„è¡¨è¾¾ã€‚</p><p>  $$x + r_2 = y$$</p><p>  $$y + r_1 = x$$</p><p>  $$r_i \ne r_j$$</p><p>  åªè¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶å°±è¡Œï¼š<br>  $$r_1 = - r_2$$</p></li><li><p>å¯¹äº<code>composition</code></p><p>  éœ€è¦æ»¡è¶³ï¼š</p><p>  $$r_2 (x, y) âˆ§ r_3 (y, z) â‡’ r_1 (x, z)$$</p><p>  å¯¹äºä½¿ç”¨TransEæ¥è¡¨ç¤ºå¦‚ä¸‹ï¼š</p><p>  $$x + r_2 = y$$</p><p>  $$y + r_3 = z$$</p><p>  $$x + r_1 = z$$</p><p>  å¯¹<code>TransE</code>çš„è¡¨ç¤ºè¿›è¡Œå˜å½¢ï¼š</p><p>  $$x + r_2 + r_3 = x + r_1$$</p><p>  è‡ªç„¶å¾—åˆ°ï¼š</p><p>  $$r_2 + r_3 = r_1$$</p></li></ul><p>æ€»ç»“æ¥çœ‹ï¼Œ<code>TransE</code>é™¤äº†<strong>å¯¹ç§°å…³ç³»</strong>æ— æ³•è¡¨è¾¾ï¼Œå…¶ä½™å…³ç³»å‡èƒ½è¡¨è¾¾ï¼Œ<strong>ç°åœ¨çš„é—®é¢˜æ˜¯å¦‚ä½•åœ¨TransEçš„åŸºç¡€ä¸Šå¯¹å¯¹ç§°å…³ç³»å»ºæ¨¡ï¼Œä½¿å¾—å…³ç³»çš„embeddingä¸å…¨ä¸º0.</strong></p><p>é‚£ä¹ˆè¦æ˜ç™½çš„æ˜¯<code>TransE</code>ä¸ºå•¥ä¸èƒ½å»ºæ¨¡å¯¹ç§°å…³ç³»ï¼Ÿå› ä¸ºåœ¨ä½¿ç”¨<strong>å¹³ç§»</strong>å»ºæ¨¡å…³ç³»æ—¶ï¼Œå¯¹åº”çš„æ˜¯<strong>åŠ æ³•è¿ç®—</strong>ã€‚é‚£ä¹ˆæ¢ä¸€ç§æƒ³æ³•ï¼ŒåŠ æ³•ä¸è¡Œï¼Œé‚£ä¹ˆä¹˜æ³•æ˜¯ä¸æ˜¯å¯ä»¥ï¼Ÿ</p><p>ä¸ºäº†æ»¡è¶³å¯¹ç§°å…³ç³»çš„è¦æ±‚ï¼Œæœ‰å¦‚ä¸‹çš„å…³ç³»ï¼š</p><p>$$hr_i = t$$</p><p>$$tr_j = h$$</p><p>$$r_i = r_j$$</p><p>èƒ½å¤Ÿæ¨å¯¼å‡ºä»¥ä¸‹å…³ç³»ï¼š</p><p>$$tr_jr_i = t$$</p><p>$$r_jr_i = 1$$</p><p>$$r_ir_i = 1 = r_jr_j$$</p><p>ä¸Šè¿°å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªç»´åº¦ä¸Šçš„æƒ…å†µï¼Œå½“æ¢åˆ°æ‰€æœ‰embeddingä¸Šçš„ç»´åº¦æ—¶ï¼Œè¿™å°±è‡ªç„¶å¼•å‡ºäº† <code>Hadmard (or element-wise) product</code>ã€‚</p><p>è¿™å°±æ˜¯å½“æ—¶ä½¿ç”¨<code>Hadmard (or element-wise) product</code>éœ€è¦æ»¡è¶³çš„æ¡ä»¶ï¼Œä¸ºäº†å»ºæ¨¡å¯¹ç§°å…³ç³»ï¼Œè¦ä¿è¯:</p><p>$$r_ir_i = 1 = r_jr_j$$</p><p>å…¶å®ï¼Œè¿™å°±æ˜¯ä¸Šæ–‡ä¸­è¦ä¿è¯ </p><p>$$| r_i | = 1$$</p><p>çš„åŸå› ã€‚</p><p>We map the head and tail entities $h$ , $t$ to the complex embeddings, i.e., $\mathbf{h}, \mathbf{t} \in \mathbb{C}^ k$ , then we <code>deï¬ne the functional mapping</code> induced by each relation $\mathbf{r}$ as an element-wise rotation from the head entity $\mathbf{h}$ to the tail entity $\mathbf{t}$ .</p><p>è¿™é‡Œï¼Œå¼€å§‹æ—¶ä¸æ˜ç™½ä¸ºä»€ä¹ˆé€‰æ‹© <code>Hadmard (or element-wise) product</code>ï¼Œè¿™ä¸ªä¸æ¬§æ‹‰å…¬å¼æ˜¯å•¥å…³ç³»ï¼Ÿå› ä¸ºåŸæ–‡ç”¨äº† <code>define</code>ï¼Œæˆ‘è§‰å¾—é€»è¾‘å¯èƒ½å¹¶ä¸å……åˆ†ï¼Œå¯èƒ½æ˜¯ä¸€ç§å¯å‘å¼çš„é€‰æ‹©ï¼Œåªè¦å®ƒæ»¡è¶³ä¸‰ç§å…³ç³»çš„å½¢å¼åŒ–å»ºæ¨¡å°±è¡Œã€‚</p><blockquote><p>å…¶å®è¿™ç§æ€è€ƒæ–¹æ³•ï¼Œæˆ‘ä»”ç»†æƒ³äº†ä¸€ä¸‹ï¼Œå…¶å®æ˜¯ä¸¤ç§æ–¹å¼çš„åŒºåˆ«ï¼Œæˆ‘ä¸€å¼€å§‹ä¸æ˜ç™½ï¼Œæ˜¯å› ä¸ºæ²¡æœ‰ä¸¥æ ¼çš„é€»è¾‘æ¨å¯¼å‡ºè¦ç”¨Hadmardï¼Œæ‰€ä»¥å®ƒå‡ºæ¥æ—¶ï¼Œæˆ‘ä¸€å¤´é›¾æ°´ï¼Œè¿™æ˜¯ä¸€ç§ä»å› åˆ°æœçš„æ€è€ƒæ–¹å¼ã€‚ä½†æ˜¯è¿™é‡Œæ¢ä¸€ç§æ–¹æ³•å»æ€è€ƒï¼ŒHadmardçš„ç»“æœæ»¡è¶³æˆ‘ä»¬å¼€å§‹æ—¶çš„å‡è®¾ï¼Œå³èƒ½å¤Ÿå»ºæ¨¡å¯¹ç§°å…³ç³»ï¼Œå› æ­¤æˆ‘ä»¬é€‰äº†å®ƒï¼Œè¿™æ˜¯ä¸€ç§ç”±æœåŠå› çš„æ–¹å¼ï¼Œæˆ‘çš„æ„Ÿè§‰ï¼Œåœ¨MLé¢†åŸŸè¿™ç§æ–¹å¼å¥½åƒæ›´å¸¸è§ï¼Œä¹Ÿæ˜¯è¢«æ•°å­¦ç³»çš„äººåæ§½çš„åŸå› ã€‚</p></blockquote><h2 id="ç”¨Hadmard-productéªŒè¯å…³ç³»çº¦æŸ"><a href="#ç”¨Hadmard-productéªŒè¯å…³ç³»çº¦æŸ" class="headerlink" title="ç”¨Hadmard productéªŒè¯å…³ç³»çº¦æŸ"></a>ç”¨Hadmard productéªŒè¯å…³ç³»çº¦æŸ</h2><p>éªŒè¯ä¸‰ç§å…³ç³»å¦‚ä¸‹ï¼š</p><ul><li><p>å¯¹äº<code>symmetric</code></p><p>  éœ€è¦æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å…³ç³»çš„embeddings</p><p>  $$ r(x, y) â‡’ r(y, x)$$</p><p>  $$\mathbf{h} \circ \mathbf{r_i} = \mathbf{t}$$</p><p>  $$\mathbf{t} \circ \mathbf{r_j} = \mathbf{h} $$</p><p>  $$\mathbf{r_i} = \mathbf{r_j} $$</p><p>  æ¨å¯¼å‡ºï¼š<br>  $$\mathbf{r_i} \circ \mathbf{r_i} = 1 = \mathbf{r_j} \circ \mathbf{r_j} $$<br>  ç¬¦åˆã€‚</p></li><li><p>å¯¹äº<code>antisymmetry</code></p><p>  ç±»ä¼¼çš„ï¼Œ<br>  $$ r(x, y) â‡’ Â¬r(y, x) $$</p><p>  æ¨å¯¼å‡ºï¼Œ<br>  $$\mathbf{r_i} \circ \mathbf{r_i} \ne 1 $$<br>  ç¬¦åˆã€‚</p></li><li><p>å¯¹äº<code>inversion</code></p><p>  éœ€è¦æ»¡è¶³ï¼š</p><p>  $$r_2 (x, y) â‡’ r_1(y, x)$$ </p><p>  $$\mathbf{h} \circ \mathbf{r_i} = \mathbf{t}$$</p><p>  $$\mathbf{t} \circ \mathbf{r_j} = \mathbf{h} $$</p>  <!-- $$\mathbf{r_i} = \mathbf{r_j} $$ --><p>  æ¨å¯¼å‡ºï¼š<br>  $$\mathbf{r_i} \circ \mathbf{r_j} = 1 $$</p><p>  $$\mathbf{r_i} = \mathbf{r_j}^{-1} $$</p><p>  ç¬¦åˆã€‚</p></li><li><p>å¯¹äº<code>composition</code></p><p>  éœ€è¦æ»¡è¶³ï¼š</p><p>  $$r_2 (x, y) âˆ§ r_3 (y, z) â‡’ r_1 (x, z)$$</p><p>  æ ¹æ®ï¼š</p><p>  $$\mathbf{x} \circ \mathbf{r_2} = \mathbf{y}$$</p><p>  $$\mathbf{y} \circ \mathbf{r_3} = \mathbf{z} $$</p><p>  $$\mathbf{x} \circ \mathbf{r_1} = \mathbf{z} $$</p><p>  æ¨å¯¼å‡ºï¼š<br>  $$\mathbf{x} \circ \mathbf{r_2} \circ \mathbf{r_3} = \mathbf{x} \circ \mathbf{r_1} $$</p><p>  $$\mathbf{r_2} \circ \mathbf{r_3} = \mathbf{r_1}$$</p><p>  å®Œç¾å¾—å‡ºã€‚</p></li></ul><p>æ€»ç»“æ¥çœ‹ï¼Œ<code>Hadmard product</code>èƒ½å¤Ÿå®Œç¾å»ºæ¨¡ä¸‰ç§å…³ç³»ï¼Œåˆ°æ­¤ï¼Œæˆ‘ä»¬çš„å‡è®¾æˆç«‹ã€‚</p><h2 id="ä¸æ¬§æ‹‰å…¬å¼çš„å…³ç³»"><a href="#ä¸æ¬§æ‹‰å…¬å¼çš„å…³ç³»" class="headerlink" title="ä¸æ¬§æ‹‰å…¬å¼çš„å…³ç³»"></a>ä¸æ¬§æ‹‰å…¬å¼çš„å…³ç³»</h2><p>ç”¨ç±»æ¯”çš„æ–¹æ³•æ¥çœ‹ï¼Œ<code>TransE</code>æ˜¯å°†æ‰€æœ‰çš„å®ä½“å’Œå…³ç³»æ˜ å°„åˆ°embedding spaceä¸­ï¼Œä¹Ÿå°±æ˜¯å®å¹³é¢ï¼Œä½¿ç”¨çš„æ˜¯<strong>å‘é‡åŠ æ³•è¿ç®—</strong>ï¼Œä¸‰è€…ä¹‹é—´çš„å…³ç³»å¯ä»¥ä½¿ç”¨<strong>å¹³ç§»</strong>è¿™ç§æ“ä½œæ¥å»ºç«‹å…³è”ã€‚</p><p>é‚£ä¹ˆ<strong>Hadmard product</strong>å®ç°çš„æ˜¯<strong>å‘é‡å…ƒç´ ä¹˜æ³•è¿ç®—</strong>ï¼Œå¦‚æœæ”¾åˆ°å®å¹³é¢ä¸­ï¼Œè¿™æ²¡åŠæ³•å¯¹åº”ä¸€ä¸ªæ“ä½œï¼Œä¸ç®¡æ˜¯ç”¨çŸ©é˜µä¹˜æ³•å®ç°çš„çº¿æ€§å˜æ¢ï¼Œè¿˜æ˜¯åŠ ä¸Šå¹³ç§»çš„ä»¿å°„å˜æ¢ï¼Œéƒ½æ²¡åŠæ³•å¯¹åº”å°†ä¸¤ä¸ªåŒæ ·é•¿åº¦çš„å‘é‡ç»è¿‡å…ƒç´ ç›¸ä¹˜å¾—åˆ°åŒæ ·é•¿åº¦çš„å‘é‡ï¼Œå› æ­¤åœ¨ç†è®ºä¸Šè¯´ä¸è¿‡å»ã€‚</p><p>é‚£ä¹ˆï¼Œæ¢åˆ°å¤å¹³é¢ä¸Šï¼Œä¼šæ€ä¹ˆæ ·ï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“å¤å¹³é¢ä¸Šä¸€ä¸ªå¤æ•°çš„è¡¨ç¤ºæ–¹æ³•æœ‰å¥½å‡ ç§ï¼š</p><ul><li>ä»£æ•°ï¼š$a+ib$ï¼Œä»¥ $(1,i)$ ä¸ºåŸºçš„çº¿æ€§ç»„åˆï¼›</li><li>æŒ‡æ•°å½¢å¼</li><li>æåæ ‡</li><li>å‘é‡å½¢å¼</li><li>çŸ©é˜µä¹˜æ³•</li></ul><p>å…·ä½“çš„å†…å®¹å¯ä»¥å‚çœ‹<a href="https://zhuanlan.zhihu.com/p/85321120">è¿™é‡Œ</a>ã€‚</p><p>é€šè¿‡æ¬§æ‹‰å…¬å¼å¯ä»¥å°†æŒ‡æ•°å½¢å¼å’Œæåæ ‡å»ºç«‹å…³ç³»ã€‚</p><p>æ­¤æ—¶ï¼Œå¤æ•°çš„ç›¸ä¹˜å¯ä»¥çœ‹åšçŸ©é˜µå˜æ¢ï¼š</p><p>$$z_1z_2 =(a+ib)(c+id) = (ac-bd)+(bc+ad)i$$</p><p><img src="/images/rotate/5.png" alt="å¤æ•°ä¹˜æ³•è§†ä¸ºçŸ©é˜µå˜æ¢"></p><p>æˆ‘ä»¬åªè¦æŠŠembeddingæ‹†æˆå®éƒ¨å’Œè™šéƒ¨ï¼Œç„¶åå†åˆ©ç”¨å¤æ•°çš„ä¹˜æ³•è¿›è¡Œè®¡ç®—ï¼Œå°±åŒæ ·èƒ½å¾—åˆ°å®éƒ¨å’Œè™šéƒ¨ï¼Œå³å½¢å¼ä¸å˜ã€‚</p><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œå·²ç»å¼„æ˜ç™½å‡ ä»¶äº‹æƒ…äº†ï¼š</p><ul><li><code>TransE</code>çš„ç¼ºé™·</li><li><code>RoratE</code>çš„æ”¹è¿›æƒ³æ³•</li><li><code>Hadmard product</code>æ»¡è¶³ä¸‰ç§å…³ç³»çš„è¡¨è¾¾éœ€æ±‚</li><li><code>Hadmard product</code>çš„è®¡ç®—å¯ä»¥çœ‹æˆæ˜¯å¤å¹³é¢ä¸­embeddingçš„ç›¸ä¹˜</li></ul><p>è¿˜æœ‰ä¸€ä»¶äº‹æƒ…ï¼Œå¤å¹³é¢ä¸­embeddingçš„ç›¸ä¹˜å’Œæ¬§æ‹‰å…¬å¼æœ‰å•¥å…³ç³»ï¼Ÿ</p><p>æˆ‘ä»¬ä½¿ç”¨äº†<code>Hadmard product</code>å°†ä¸€ä¸ªheadå®ä½“å˜æˆäº†tailå®ä½“ï¼Œå…¶ä¸­çš„ä¸€ä¸ªæ“ä½œç”¨æ¥è¡¡é‡å…³ç³»ï¼Œåœ¨å¤ç©ºé—´ä¸­å°†ä¸€ä¸ªå®ä½“å˜æˆå¦ä¸€ä¸ªå®ä½“ï¼Œä½¿ç”¨çš„æ˜¯ä¹˜æ³•çš„æ–¹å¼ï¼Œé‚£å°±æ˜¯æŒ‡æ•°äº†ï¼Œè€ŒæŒ‡æ•°ä¸å¤ç©ºé—´å»ºç«‹å…³ç³»çš„é€”å¾„ï¼Œå°±æ˜¯æ¬§æ‹‰å…¬å¼ã€‚</p><p>$$<br>e^{i\theta} = \text{cos}\theta + i\text{sin}\theta<br>$$</p><p>å¤ç©ºé—´ä¸­çš„æ¯ä¸ªæ•°æœ‰æŒ‡æ•°å½¢å¼å’Œæåæ ‡å½¢å¼ï¼Œè¿™ä¸¤è€…ä¹‹é—´çš„å…³ç³»ä¹Ÿæ˜¯æ¬§æ‹‰å…¬å¼ã€‚</p><p>ä»æŒ‡æ•°å½¢å¼æ¥çœ‹ï¼Œå°†ä¸€ä¸ªå¤æ•°çš„embeddingå˜æ¢æˆå¦ä¸€ä¸ªå¤æ•°çš„embeddingå¦‚ä¸‹ï¼š</p><p>$$e^{i{\Theta}_h} e^{i{\Theta}_r} = e^{i{\Theta}_t}$$</p><p>ç”¨æåæ ‡è¡¨ç¤ºï¼Œå°±æ˜¯å°†$e^{i{\Theta}_h}$ é€†æ—¶é’ˆæ–¹å‘æ—‹è½¬äº†è§’åº¦ $\Theta_r$ï¼Œå˜æˆäº† $e^{i{\Theta}_t}$ ã€‚</p><p>å½“å°†å…³ç³»å†™æˆæåæ ‡å½¢å¼æ—¶ï¼Œ</p><!--$$\begin{pmatrix}    \text{cos}\theta & -\text{sin}\theta \\  \text{sin}\theta & \text{cos}\theta \end{pmatrix} $$--><p><img src="/images/rotate/math_1.png"></p><p>ä¹Ÿå°±æ˜¯å¦‚ä¸‹æ‰€ç¤ºï¼š</p><!--$$\begin{pmatrix}    a & -b \\    b & a \end{pmatrix}\begin{pmatrix}    \text{cos}\theta & -\text{sin}\theta \\    \text{sin}\theta & \text{cos}\theta \end{pmatrix}$$ --><p><img src="/images/rotate/math_2.png"></p><p>è¿™ä¸å°±æ˜¯çº¿æ€§å˜æ¢é‡Œçš„æ—‹è½¬å—ï¼Œä¹Ÿå°±æ˜¯æœ¬æ–‡çš„åç§°çš„ç”±æ¥ï¼</p><p>ä¸æ˜ç™½çš„å¯ä»¥å›é¡¾ä¸€ä¸‹<a href="https://blog.csdn.net/huangguohui_123/article/details/106000355">ä»¥å‰çš„çŸ¥è¯†</a>ã€‚</p><p>å› ä¸ºæˆ‘ä»¬ä¹‹å‰çº¦æŸäº†å…³ç³»çš„æ¨¡é•¿å›ºå®šï¼Œä¸º1ï¼Œå³ $|r_i| = 1$ ã€‚</p><p>å› æ­¤ï¼Œåœ¨æ—‹è½¬è¿‡ç¨‹ä¸­ï¼Œheadå®ä½“çš„æ¨¡é•¿ä¸ä¼šå—åˆ°å½±å“ï¼Œåªæ˜¯æ¯ä¸€ä¸ªç»´åº¦ä¸‹çš„å¤æ•°çš„ç›¸ä½å—åˆ°äº†å½±å“ã€‚</p><h1 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h1><p>For each triple $(h, r, t)$ , we deï¬ne the <code>distance function</code> of RotatE as:</p><p>$$d_r (\mathbf{h}, \mathbf{t}) = \Vert \mathbf{h} \circ \mathbf{r} âˆ’ \mathbf{t} \Vert$$</p><h2 id="Losså‡½æ•°"><a href="#Losså‡½æ•°" class="headerlink" title="Losså‡½æ•°"></a>Losså‡½æ•°</h2><!--$$L=-\log \sigma \left( \gamma-d_r (\mathbf{h}, \mathbf{t}) \right) - \sum_{i=1}^{n} \frac{1}{k} \log \sigma\left (d_r \left( \mathbf{h}_{i}^{\prime}, \mathbf{t}_{i}^{\prime}\right)-\gamma\right)$$--><p><img src="/images/rotate/math_3.png"></p><ul><li>$\gamma$ : å’Œ<code>TransE</code>ä¸­ä¸€æ ·ï¼Œæ˜¯<code>margin</code>ï¼Œè§†ä¸ºè¶…å‚æ•°ï¼›</li><li>$\sigma$ : <code>sigmoid function</code></li><li>$(h_i , r, t_i )$ is the <code>i-th negative triplet</code>.</li><li>$k$ ä¸ºembedding dimension</li></ul><h2 id="é‡‡æ ·"><a href="#é‡‡æ ·" class="headerlink" title="é‡‡æ ·"></a>é‡‡æ ·</h2><p>åŸæ¥çš„é‡‡æ ·æ–¹å¼æ˜¯ä½¿ç”¨<strong>å‡åŒ€çš„æ–¹å¼</strong>æ›¿æ¢headå’Œtailï¼š</p><ul><li><p>ä½æ•ˆ</p><p>  suffers the problem of inefï¬ciency since many samples are obviously false as training goes on</p></li><li><p>æ²¡æœ‰è¶³å¤Ÿçš„ä¿¡æ¯</p><p>  not provide any meaningful information.</p></li></ul><p>æ–‡ä¸­æå‡º<code>self-adversarial negative sampling</code>ï¼Œå…·ä½“è€Œè¨€å°±æ˜¯æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è¿›è¡Œé‡‡æ ·ï¼Œ</p><!--$$p\left(h_{j}^{\prime}, r, t_{j}^{\prime} \mid\left\{\left(h_{i}, r_{i}, t_{i}\right)\right\}\right)=\frac{\exp \alpha f_{r}\left(\mathbf{h}_{j}^{\prime}, \mathbf{t}_{j}^{\prime}\right)}{\sum_{i} \exp \alpha f_{r}\left(\mathbf{h}_{i}^{\prime}, \mathbf{t}_{i}^{\prime}\right)}$$--><p><img src="/images/rotate/math_4.png"></p><ul><li><p>$\alpha$ : temperature of sampling. </p><blockquote><p>Moreover, since the sampling procedure <strong>may be costly</strong>, we treat the above probability as the <strong>weight of the negative sample</strong>. Therefore, the ï¬nal negative sampling loss with self-adversarial training takes the following form:</p></blockquote><p>  <img src="/images/rotate/math_5.png"></p></li></ul><!--$$L=-\log \sigma\left(\gamma-d_{r}(\mathbf{h}, \mathbf{t})\right)-\sum_{i=1}^{n} p\left(h_{i}^{\prime}, r, t_{i}^{\prime}\right) \log \sigma\left(d_{r}\left(\mathbf{h}_{i}^{\prime}, \mathbf{t}_{i}^{\prime}\right)-\gamma\right)$$--><h1 id="è¯„ä¼°"><a href="#è¯„ä¼°" class="headerlink" title="è¯„ä¼°"></a>è¯„ä¼°</h1><h2 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h2><p><img src="/images/rotate/1.png" alt="æ•°æ®é›†"></p><h2 id="å®éªŒè®¾ç½®"><a href="#å®éªŒè®¾ç½®" class="headerlink" title="å®éªŒè®¾ç½®"></a>å®éªŒè®¾ç½®</h2><ul><li><p><code>Filtered setting</code>: we rank test triples against all other candidate triples not appearing in the training, validation, or test set, where candidates are generated by corrupting subjects or objects: $(h^{â€˜} , r, t)$ or $(h, r, t^{â€˜} )$. </p></li><li><p><code>Mean Rank (MR)</code>, <code>Mean Reciprocal Rank (MRR)</code> and <code>Hits at N (H@N)</code> are standard evaluation measures for these datasets and are evaluated in our experiments.</p></li></ul><h2 id="è¶…å‚è®¾ç½®"><a href="#è¶…å‚è®¾ç½®" class="headerlink" title="è¶…å‚è®¾ç½®"></a>è¶…å‚è®¾ç½®</h2><ul><li><code>optimizer</code>: <code>Adam</code></li><li><code>search strategy</code>: ï¬ne-tune the hyperparameters on the validation dataset with <code>grid search</code></li><li><code>embedding dimension</code>: 125, 250, 500, 1000</li><li><code>batch size</code>: 512, 1024, 2048 </li><li>self-adversarial <code>sampling temperature</code>: 0.5, 1.0 </li><li><code>ï¬xed margin</code> $\gamma$ :3, 6, 9, 12, 18, 24, 30. we ï¬nd that the ï¬xed margin $\gamma$ could prevent our model from over-ï¬tting.</li></ul><h1 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h1><p>è¿™é‡Œä¸»è¦ä½“ç°äº†åœ¨3ä¸ªæ¥æºï¼Œ4ä¸ªæ•°æ®é›†ä¸Šçš„è¯„ä¼°æ•ˆæœã€‚</p><p><img src="/images/rotate/2.png" alt="åœ¨FB15kå’ŒWN18çš„ç»“æœ"><br><img src="/images/rotate/3.png" alt="åœ¨FB15k-237å’ŒWN18RRçš„ç»“æœ"><br><img src="/images/rotate/4.png" alt="åœ¨Countriesçš„ç»“æœ"></p><h1 id="ç»“æœæ€»ç»“"><a href="#ç»“æœæ€»ç»“" class="headerlink" title="ç»“æœæ€»ç»“"></a>ç»“æœæ€»ç»“</h1><p>æœ¬è®ºæ–‡ä¸»è¦è¾¾æˆäº†ä¸‰é¡¹ç›®çš„ï¼š</p><ul><li><p>able to <strong>model and infer various relation patterns</strong> including: symmetry/antisymmetry, inversion, and composition.</p></li><li><p>propose a <strong>novel self-adversarial negative sampling technique</strong> for efï¬ciently and effectively training the RotatE model.</p></li><li><p>the RotatE model is <strong>scalable to large knowledge graphs</strong> as it remains linear in both time and memory.</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç§‘å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çŸ¥è¯†å›¾è°± </tag>
            
            <tag> è¡¨ç¤ºå­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TransE - ç®€å•ä½†æœ‰æ•ˆçš„çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ æ–¹æ³•</title>
      <link href="/2021/11/19/shu-ju-ke-xue/transe-jian-dan-dan-you-xiao-de-zhi-shi-tu-pu-biao-shi-xue-xi-fang-fa/"/>
      <url>/2021/11/19/shu-ju-ke-xue/transe-jian-dan-dan-you-xiao-de-zhi-shi-tu-pu-biao-shi-xue-xi-fang-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>æ¥è‡ªè®ºæ–‡ NIPS 2013å¹´çš„ <a href="https://papers.nips.cc/paper/2013/hash/1cecc7a77928ca8133fa24680a88d2f9-Abstract.html">Translating Embeddings for Modeling Multi-relational Data</a>ã€‚</p><p>è¿™ä¸ªæ–¹æ³•å¼€åˆ›äº†KGEä¸­çš„ä¸€ç§æ€è€ƒæ–¹å¼ï¼Œè™½ç„¶ç®€å•ï¼Œä½†æ˜¯å€¼å¾—ä¸€è¯»ï¼Œå› ä¸ºæœ‰æ—¶å€™è¶Šç®€å•çš„æ–¹æ³•ï¼Œå–å¾—çš„æ•ˆæœå¯èƒ½æ²¡æœ‰äººä»¬æƒ³å¾—é‚£ä¹ˆå·®ã€‚</p><h1 id="é’ˆå¯¹çš„é—®é¢˜"><a href="#é’ˆå¯¹çš„é—®é¢˜" class="headerlink" title="é’ˆå¯¹çš„é—®é¢˜"></a>é’ˆå¯¹çš„é—®é¢˜</h1><p>The problem of <code>embedding entities and relationships of multirelational data</code> in low-dimensional vector spaces.</p><h2 id="é’ˆå¯¹çš„ç ”ç©¶å¯¹è±¡"><a href="#é’ˆå¯¹çš„ç ”ç©¶å¯¹è±¡" class="headerlink" title="é’ˆå¯¹çš„ç ”ç©¶å¯¹è±¡"></a>é’ˆå¯¹çš„ç ”ç©¶å¯¹è±¡</h2><p><code>Multi-relational data</code> refers to directed graphs whose nodes correspond to <code>entities</code> and <code>edges</code> of the form <code>(head, label, tail)</code> , denoted $(h, l, t)$ , each of which indicates that there exists a relationship of name <code>label</code> between the entities <code>head</code> and <code>tail</code>.</p><h2 id="ä¹‹å‰ç ”ç©¶å­˜åœ¨é—®é¢˜"><a href="#ä¹‹å‰ç ”ç©¶å­˜åœ¨é—®é¢˜" class="headerlink" title="ä¹‹å‰ç ”ç©¶å­˜åœ¨é—®é¢˜"></a>ä¹‹å‰ç ”ç©¶å­˜åœ¨é—®é¢˜</h2><ul><li>è¡¨è¾¾èƒ½åŠ›ä¸Šå‡ä»¥è®¡ç®—æˆæœ¬ä¸Šå‡ä¸ºä»£ä»·</li></ul><blockquote><p>The greater expressivity of these models comes <code>at the expense of substantial increases in model complexity</code> which results in modeling assumptions that are <code>hard to interpret</code>, and in <code>higher computational costs</code>.</p></blockquote><ul><li>æ­£åˆ™åŒ–æ–¹æ³•éš¾ä»¥è®¾è®¡å¯¼è‡´è¿‡æ‹Ÿåˆ</li></ul><blockquote><p>such approaches are potentially subject to either <code>overï¬tting</code> since <code>proper regularization of such high-capacity models is hard to design</code>, </p></blockquote><ul><li>éå‡¸ä¼˜åŒ–å¯¼è‡´æ¬ æ‹Ÿåˆ</li></ul><blockquote><p>or <code>underï¬tting</code> due to the <code>non-convex optimization problems</code> with many local minima that need to be solved to train them.</p></blockquote><h1 id="ç ”ç©¶ç›®æ ‡"><a href="#ç ”ç©¶ç›®æ ‡" class="headerlink" title="ç ”ç©¶ç›®æ ‡"></a>ç ”ç©¶ç›®æ ‡</h1><p>æ¨¡å‹å¸Œæœ›è¾¾åˆ°çš„ç›®æ ‡ï¼š</p><ul><li>easy to train,</li><li>contains a reduced number of parameters,</li><li>and can scale up to very large databases</li></ul><p>in complex and heterogeneous multi-relational domains simple yet appropriate modeling assumptions can <strong>lead to better trade-offs between accuracy and scalability</strong>.</p><h1 id="æƒ³æ³•"><a href="#æƒ³æ³•" class="headerlink" title="æƒ³æ³•"></a>æƒ³æ³•</h1><p>Relationships are represented as <code>translations</code> in the <code>embedding space</code>: if $(h, l, t)$ holds, then the embedding of the tail entity $t$ should be close to the embedding of the head entity $h$ plus some vector that depends on the relationship $l$ .</p><p>æ¨¡å‹çš„åŸºæœ¬æƒ³æ³•æ˜¯<code>head</code>çš„å‘é‡è¡¨ç¤º $h$ ä¸<code>relation</code>çš„å‘é‡è¡¨ç¤º $r$ ä¹‹å’Œä¸<code>tail</code>çš„å‘é‡è¡¨ç¤º  $t$ è¶Šæ¥è¿‘è¶Šå¥½ï¼Œå³ï¼š</p><p>$$<br>h+r \approx t<br>$$</p><p>è¿™é‡Œçš„â€œæ¥è¿‘â€å¯ä»¥ä½¿ç”¨<code>L1</code>æˆ–<code>L2</code>èŒƒæ•°è¿›è¡Œè¡¡é‡ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¯ä»¥è°ƒèŠ‚çš„è¶…å‚æ•°ã€‚</p><h2 id="æ–¹æ³•è¿‡ç¨‹"><a href="#æ–¹æ³•è¿‡ç¨‹" class="headerlink" title="æ–¹æ³•è¿‡ç¨‹"></a>æ–¹æ³•è¿‡ç¨‹</h2><p><img src="/images/transe/1.png" alt="ç®—æ³•è¿‡ç¨‹"></p><h2 id="æŸå¤±å‡½æ•°"><a href="#æŸå¤±å‡½æ•°" class="headerlink" title="æŸå¤±å‡½æ•°"></a>æŸå¤±å‡½æ•°</h2><p>æŸå¤±å‡½æ•°æ˜¯ä½¿ç”¨äº†è´ŸæŠ½æ ·çš„max-marginå‡½æ•°ï¼ˆåŸæ–‡ä¸ºï¼š<code>a margin-based ranking criterion</code>ï¼‰ã€‚</p><p>$$<br>L(y, y^{\prime}) = \max(0, margin - y + y^{\prime})<br>$$</p><ul><li>$y$ æ˜¯æ­£æ ·æœ¬çš„å¾—åˆ†ï¼›</li><li>$y^{\prime}$ æ˜¯è´Ÿæ ·æœ¬çš„å¾—åˆ†ã€‚</li></ul><p>ç„¶åä½¿æŸå¤±å‡½æ•°å€¼æœ€å°åŒ–ï¼Œå½“è¿™ä¸¤ä¸ªåˆ†æ•°ä¹‹é—´çš„å·®è·å¤§äº<code>margin</code>çš„æ—¶å€™å°±å¯ä»¥äº†(æˆ‘ä»¬ä¼šè®¾ç½®è¿™ä¸ªå€¼ï¼Œé€šå¸¸æ˜¯1ï¼Œè¿™ä¸ªæ˜¯è¶…å‚æ•°)ã€‚</p><p>ç”±äºæˆ‘ä»¬ä½¿ç”¨è·ç¦»æ¥è¡¨ç¤ºå¾—åˆ†ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å…¬å¼ä¸­åŠ ä¸Šä¸€ä¸ªå‡å·ï¼ŒçŸ¥è¯†è¡¨ç¤ºçš„æŸå¤±å‡½æ•°ä¸ºï¼š</p><p>$$<br>L(h,r,t) = \max(0, d_{pos} - d_{neg} + margin)<br>$$</p><p>å…¶ä¸­ï¼Œ$d$ æ˜¯ï¼š</p><p>$$<br>d = \Vert h+r -t \Vert<br>$$</p><p>è¿™æ˜¯<code>L1</code>æˆ–<code>L2</code>èŒƒæ•°ã€‚è‡³äºå¦‚ä½•å¾—åˆ°è´Ÿæ ·æœ¬ï¼Œåˆ™æ˜¯å°†headå®ä½“æˆ–tailå®ä½“æ›¿æ¢ä¸ºä¸‰å…ƒç»„ä¸­çš„éšæœºå®ä½“ï¼Œå…·ä½“çš„æ–¹æ³•å¯ä»¥å‚è€ƒ <a href="https://lifehit.cn/2021/11/17/zhi-shi-tu-pu-biao-shi-xue-xi-xun-lian-fang-fa/">çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ ï¼šè®­ç»ƒæ–¹æ³•</a>ã€‚</p><h2 id="éœ€è¦è°ƒèŠ‚çš„å‚æ•°"><a href="#éœ€è¦è°ƒèŠ‚çš„å‚æ•°" class="headerlink" title="éœ€è¦è°ƒèŠ‚çš„å‚æ•°"></a>éœ€è¦è°ƒèŠ‚çš„å‚æ•°</h2><p>å¯¹äºæ¨¡å‹æœ¬èº«æ¥è¯´ï¼Œåªéœ€è¦ç¡®å®šï¼š</p><ul><li>å®ä½“å’Œå…³ç³»çš„ç»´åº¦ï¼š<code>embedding size</code></li><li>è¡¡é‡æ¥è¿‘ç¨‹åº¦çš„æŒ‡æ ‡ï¼š<code>L1</code>æˆ–è€…<code>L2</code></li><li><code>margin</code></li></ul><p>å³å¯ã€‚</p><h1 id="è¯„ä¼°"><a href="#è¯„ä¼°" class="headerlink" title="è¯„ä¼°"></a>è¯„ä¼°</h1><h2 id="ä½¿ç”¨çš„æ•°æ®é›†"><a href="#ä½¿ç”¨çš„æ•°æ®é›†" class="headerlink" title="ä½¿ç”¨çš„æ•°æ®é›†"></a>ä½¿ç”¨çš„æ•°æ®é›†</h2><p><img src="/images/transe/2.png" alt="ä½¿ç”¨çš„æ•°æ®é›†"></p><h2 id="å®éªŒè®¾è®¡"><a href="#å®éªŒè®¾è®¡" class="headerlink" title="å®éªŒè®¾è®¡"></a>å®éªŒè®¾è®¡</h2><ul><li><p>è¯„ä¼°æŒ‡æ ‡</p><ul><li><code>mean rank</code></li><li><code>hits@10</code></li></ul></li><li><p>è¿‡æ»¤çœŸå®ä¸‰å…ƒç»„</p></li></ul><p>è¿™éƒ¨åˆ†å¯ä»¥å‚è€ƒ <a href="https://lifehit.cn/2021/11/17/zhi-shi-tu-pu-biao-shi-xue-xi-ping-gu-fang-fa/">çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ ï¼šè¯„ä¼°æ–¹æ³•</a>ã€‚</p><h2 id="è¯„ä¼°ç»“æœ"><a href="#è¯„ä¼°ç»“æœ" class="headerlink" title="è¯„ä¼°ç»“æœ"></a>è¯„ä¼°ç»“æœ</h2><p><img src="/images/transe/3.png" alt="Link prediction è¯„ä¼°ç»“æœ"></p><h2 id="å‚æ•°è®¾ç½®"><a href="#å‚æ•°è®¾ç½®" class="headerlink" title="å‚æ•°è®¾ç½®"></a>å‚æ•°è®¾ç½®</h2><ul><li><code>optimizer</code>: stochastic gradient descent</li><li><code>lr</code>: 0.001, 0.01, 0.1</li><li><code>margin</code>: 1, 2, 10</li><li><code>dimension k</code>: 20, 50</li><li><code>regularization</code>: L1, L2</li><li><code>epochs</code>: &lt;1000</li></ul><h1 id="ç¼ºé™·"><a href="#ç¼ºé™·" class="headerlink" title="ç¼ºé™·"></a>ç¼ºé™·</h1><ul><li>simplicity</li><li>åªé€‚åˆå¤„ç†ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œä¸é€‚åˆä¸€å¯¹å¤š/å¤šå¯¹ä¸€/å¤šå¯¹å¤šçš„å…³ç³»ã€‚<blockquote><p>ä¸¾ä¸ªä¾‹å­ï¼Œæœ‰ä¸¤ä¸ªä¸‰å…ƒç»„ï¼ˆä¸­å›½ç§‘å­¦é™¢å¤§å­¦ï¼Œåœ°ç‚¹ï¼ŒåŒ—äº¬ï¼‰å’Œï¼ˆé¢å’Œå›­ï¼Œåœ°ç‚¹ï¼ŒåŒ—äº¬ï¼‰ï¼Œä½¿ç”¨TransEè¿›è¡Œè¡¨ç¤ºçš„è¯ä¼šå¾—åˆ°ä¸­å›½ç§‘å­¦é™¢å¤§å­¦çš„è¡¨ç¤ºå‘é‡å’Œé¢å’Œå›­çš„è¡¨ç¤ºå‘é‡å¾ˆæ¥è¿‘ï¼Œç”šè‡³å®Œå…¨ç›¸åŒã€‚ä½†æ˜¯å®ƒä»¬çš„äº²å¯†åº¦å®é™…ä¸Šå¯èƒ½æ²¡æœ‰è¿™ä¹ˆå¤§ã€‚</p></blockquote></li></ul><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ä¸ªæ–¹æ³•ä»æ¨¡å‹è§’åº¦æ¥çœ‹ï¼Œå¾ˆç®€å•ï¼Œä½†æ˜¯è¦æ³¨æ„æ–‡ç« çš„ç›®æ ‡æ˜¯ï¼Œå–å¾—é¢„æµ‹æ€§èƒ½å’Œè®¡ç®—æ€§èƒ½ä¹‹é—´çš„å¹³è¡¡ï¼Œä¹Ÿå°±è¯´æ˜¯æ¯”æˆ‘å¼ºçš„æ²¡æˆ‘å¿«ï¼Œæ¯”æˆ‘å¿«çš„æ²¡æˆ‘å¼ºã€‚</p><p>è€Œä¸”æ•´ä¸ªæ¨¡å‹ï¼Œå¾ˆä¼˜ç¾ï¼Œæ²¡æœ‰ä»»ä½•ç¹ççš„ä¸œè¥¿ï¼Œæ˜¯å€¼å¾—è¯»çš„ä¸€ç¯‡å…¥é—¨çš„æ–‡ç« ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç§‘å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çŸ¥è¯†å›¾è°± </tag>
            
            <tag> è¡¨ç¤ºå­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘è¿˜æ˜¯é‡å¯äº†åšå®¢å†™ä½œ</title>
      <link href="/2021/11/18/si-kao-nei-sheng/wo-huan-shi-chong-qi-liao-bo-ke-xie-zuo/"/>
      <url>/2021/11/18/si-kao-nei-sheng/wo-huan-shi-chong-qi-liao-bo-ke-xie-zuo/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»¥å‰çš„åšå®¢"><a href="#ä»¥å‰çš„åšå®¢" class="headerlink" title="ä»¥å‰çš„åšå®¢"></a>ä»¥å‰çš„åšå®¢</h1><p>åšå®¢çš„å†™ä½œå·²ç»åœäº†å¾ˆä¹…äº†ï¼Œè‡³äºå½“åˆæ˜¯å¦‚ä½•å¼€å§‹çš„ï¼Œå·²ç»æœ‰ç‚¹è®°ä¸æ¸…äº†ï¼Œä¸è¿‡æœ‰ä¸€ç‚¹å¯ä»¥æ˜ç¡®çš„æ˜¯ï¼šå½“åˆå†™åšå®¢ä¸€åŠæ˜¯ä¸ºäº†è®°å½•æŠ€æœ¯çš„ç§¯ç´¯ï¼Œä¸€åŠæ˜¯æœ‰ä¸€å®šçš„åŠŸåˆ©æ€§çš„ï¼Œå°±æ˜¯èƒ½å¤Ÿåœ¨æ‰¾å·¥ä½œæ—¶å†™åˆ°ç®€å†ä¸Šã€‚æœ€åæ‰¾åˆ°çš„å·¥ä½œä¸é”™ï¼Œä¸çŸ¥é“è¿™ä¸ªæœ‰æ²¡æœ‰èµ·ä½œç”¨ã€‚</p><p>å½“åˆå†™åšå®¢æ—¶ï¼Œç”±äºæ˜¯ç¬¬ä¸€æ¬¡ï¼Œå°±ç›´æ¥åœ¨ä¸€ä¸ªæŠ€æœ¯ç½‘ç«™ä¸Šå¼€å§‹äº†ï¼Œè¿™ä¸ªç½‘ç«™ï¼Œå¦‚æœç»å¸¸æ³¡æŠ€æœ¯ç¤¾åŒºçš„äººéƒ½ä¼šçŸ¥é“ï¼ŒCSDNï¼Œå¼€å§‹ä»–æä¾›äº†æ¯”è¾ƒä¾¿æ·çš„æ–¹å¼ï¼Œä½ åªè¦å†™å°±è¡Œäº†ï¼Œæ‰€ä»¥å¯¹äºæ–°æ‰‹è¿˜æ˜¯æŒºå‹å¥½çš„ï¼Œç±»ä¼¼çš„å¹³å°è¿˜æœ‰åšå®¢å›­ï¼Œç­‰ç­‰ã€‚</p><p>åœ¨è¿™ä¸ªå¹³å°ä¸Šæˆ‘ä¹Ÿå†™ä½œä¹Ÿæ…¢æ…¢ç¨³å®šä¸‹æ¥ï¼Œæˆªæ­¢åˆ°ç°åœ¨ 2021å¹´11æœˆ18æ—¥ï¼Œç›®å‰çš„æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><img src="/images/restart_blog/1.png" alt="ä»¥å‰çš„åšå®¢æµè§ˆæ•°æ®1"><br><img src="/images/restart_blog/2.png" alt="ä»¥å‰çš„åšå®¢æµè§ˆæ•°æ®2"></p><p>æœ€åä¸€ç¯‡æ–‡ç« æ˜¯å‘å¸ƒäº2017å¹´9æœˆä»½ï¼Œè·ä»Šå·²ç»4å¹´å¤šäº†ï¼Œç„¶åæˆ‘å°±åœæ­¢äº†æ›´æ–°ã€‚è¯´å®è¯ï¼Œè¿™äº›æ•°æ®æ˜¯æˆ‘æ²¡æœ‰æƒ³åˆ°çš„ï¼Œå› ä¸ºå½“æ—¶æ˜¯ä¸€è¾¹å­¦æŠ€æœ¯ï¼Œä¸€è¾¹è®°å½•ä¸‹è‡ªå·±çš„é—®é¢˜ï¼Œæ²¡æƒ³åˆ°è¿‡å¾—åˆ°å¾ˆå¤šäººçš„åé¦ˆï¼Œè™½ç„¶ä¸å¾ˆå¤šçš„å¤§ä½¬ä¸èƒ½æ¯”ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€äº›æˆå°±æ„Ÿçš„ã€‚åœ¨æ­¤ï¼Œä¹Ÿä¸ºä¹‹å‰ç§¯æç»™ä¸åé¦ˆçš„æœ‹å‹è¡¨ç¤ºæ„Ÿè°¢ã€‚</p><p>ä½†æ˜¯ä¹‹åä¸ºå•¥åœäº†å‘¢ï¼Ÿé™¤äº†ä¸€äº›å…¶ä»–åŸå› ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><h2 id="CSDNçš„ç¯å¢ƒåœ¨å˜å"><a href="#CSDNçš„ç¯å¢ƒåœ¨å˜å" class="headerlink" title="CSDNçš„ç¯å¢ƒåœ¨å˜å"></a>CSDNçš„ç¯å¢ƒåœ¨å˜å</h2><p>ä¸çŸ¥é“ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼ŒCSDNä¸­çš„å¹¿å‘Šå’Œå†™ä½œçš„ä½“éªŒè¶Šæ¥è¶Šä¸å¥½äº†ï¼Œå½“ä½ çœ‹åˆ°è¾›è¾›è‹¦è‹¦å†™å®Œçš„æ–‡ç« ï¼Œæ—è¾¹æœ‰ä¸€ä¸ªè®©äººä¸é€‚çš„å¹¿å‘Šæ—¶ï¼Œæ€»è§‰å¾—æœ‰ç‚¹éš¾å—ã€‚</p><p>åŒæ—¶ï¼Œè¿˜æœ‰ä¸€äº›æŠ€æœ¯ä¸Šçš„åŸå› ï¼Œåœ¨å†™ä½œçš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€æ¬¡ï¼Œæˆ‘å‘ç°å†™åˆ°ä¸€åŠçš„æ–‡ç« æ¶ˆå¤±äº†ï¼Œæ²¡æœ‰ä»»ä½•è®°å½•ï¼Œè¿™å¯¼è‡´æˆ‘å¯¹è¿™ä¸ªå¹³å°äº§ç”Ÿäº†ä¸ä¿¡ä»»æ„Ÿï¼ŒåŒæ—¶è¿˜åŒ…æ‹¬æ•´ä¸ªå¹³å°æŠ€æœ¯è´¨é‡çš„ä¸‹é™ï¼Œä¹‹åæˆ‘æœ‰ä»»ä½•é—®é¢˜ï¼ŒåŸºæœ¬éƒ½æ˜¯å»Stack OverflowæŸ¥æ‰¾ï¼Œé™¤äº†ä¸€äº›è½¯ä»¶å®‰è£…ä¸Šé‡åˆ°çš„é—®é¢˜ã€‚</p><p>æ…¢æ…¢åœ°ï¼Œå½“ä½ å†™çš„è¶Šå¤šï¼Œä¼šå‘ç°å¯¹è¿™ä¸ªå¹³å°çš„å¤±æœ›è¶Šå¤šï¼Œè€Œä¸”æ²‰æ²¡æˆæœ¬è¶Šé«˜ï¼Œä¸å®¹æ˜“è¿ç§»ã€‚å› æ­¤ï¼Œå¸Œæœ›ï¼Œèƒ½æœ‰ä¸€ä¸ªè‡ªå·±æŒæ§çš„å¹³å°ã€‚</p><h2 id="ä¸“æ³¨äºæŠ€æœ¯é¢†åŸŸçš„é™åˆ¶"><a href="#ä¸“æ³¨äºæŠ€æœ¯é¢†åŸŸçš„é™åˆ¶" class="headerlink" title="ä¸“æ³¨äºæŠ€æœ¯é¢†åŸŸçš„é™åˆ¶"></a>ä¸“æ³¨äºæŠ€æœ¯é¢†åŸŸçš„é™åˆ¶</h2><p>ä¹‹å‰å†™çš„åšå®¢ï¼Œä¸“æ³¨äºçº¯æŠ€æœ¯é¢†åŸŸï¼Œä½†æ˜¯æ…¢æ…¢åœ°ï¼Œæˆ‘å‘ç°ï¼Œè¿™ç§â€œè‡ªæˆ‘è®¾é™â€çš„æ–¹å¼ï¼Œä¸åˆ©äºè‡ªå·±çš„å‘å±•ï¼Œå› ä¸ºäººçš„æ€è€ƒæ˜¯å¤šæ–¹é¢çš„ï¼Œå› æ­¤ï¼Œæˆ‘å¸Œæœ›ä»å„ä¸ªæ–¹é¢æ¥è®°å½•ä¸ªäººçš„å‘å±•å’Œå¯¹æŠ€æœ¯çš„æ€è€ƒï¼Œè€Œä¸åªæ˜¯æŠ€æœ¯æœ¬èº«ã€‚</p><p>åŸºäºè¿™ç§è€ƒè™‘ï¼Œå¸Œæœ›å»ºç«‹ä¸€ç§ç»¼åˆçš„åšå®¢ä½“éªŒï¼Œå…¨é¢åœ°è®°å½•æŠ€æœ¯ã€æ€è€ƒå’Œé˜…è¯»ï¼Œä»¥åŠè‡ªå·±çš„ä¸€äº›ç»å†ã€‚</p><h1 id="ä¸ºå•¥é‡å¯"><a href="#ä¸ºå•¥é‡å¯" class="headerlink" title="ä¸ºå•¥é‡å¯"></a>ä¸ºå•¥é‡å¯</h1><p>é‡å¯åšå®¢çš„å†™ä½œæ˜¯ä¸å®¹æ˜“çš„ï¼Œå¼€å§‹å¾ˆéš¾ï¼Œä½†æ˜¯åšæŒæ›´éš¾ï¼Œä¸æ€•ç¬‘è¯ï¼Œä¹‹å‰æˆ‘å°è¯•é‡å¯äº†ä¸€æ¬¡ï¼Œä½†æ˜¯ç”±äºç§ç§åŸå› ï¼Œæœ€åæ²¡æœ‰åšæŒä¸‹å»ã€‚ä½†æ˜¯ï¼Œæ­¤æ—¶æ­¤åˆ»ï¼Œæˆ‘è§‰å¾—å¯èƒ½ä»ç„¶æ²¡æœ‰å‡†å¤‡å¥½ï¼Œä½†ä¸æ˜¯æœ‰ä¸€å¥è¯å—ï¼Ÿ<strong>åšä¸€ä»¶äº‹æœ€å¥½çš„æ—¶åˆ»æ˜¯10å¹´å‰ï¼Œå…¶æ¬¡æ˜¯ç°åœ¨ã€‚</strong> çºµç„¶ï¼Œç°åœ¨ä»ç„¶æœ‰å¾ˆå¤šçš„äº‹æƒ…éœ€è¦å¤„ç†ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æŒ¤å‡ºæ—¶é—´ï¼Œé‡å»ºäº†è¿™ä¸ªåšå®¢å¹³å°ã€‚å› ä¸ºï¼Œæˆ‘çŸ¥é“ï¼Œæœ‰äº›ä¸œè¥¿ï¼Œ<strong>å¦‚æœä¸ç°åœ¨è®°å½•ä¸‹æ¥ï¼Œå¯èƒ½å°±æ°¸è¿œæ²¡æœ‰è®°å½•çš„æœºä¼šäº†ã€‚</strong></p><p>ä¸ºå•¥è¦é‡å¯åšå®¢å†™ä½œï¼Œè¯´åˆ°åº•ä¸»è¦æœ‰ä¸¤ä¸ªæ–¹é¢åŸå› ï¼š</p><h2 id="ç•™ä¸‹æ€è€ƒçš„legacy"><a href="#ç•™ä¸‹æ€è€ƒçš„legacy" class="headerlink" title="ç•™ä¸‹æ€è€ƒçš„legacy"></a>ç•™ä¸‹æ€è€ƒçš„legacy</h2><p>ä¸åƒ4å¹´å‰é‚£ä¹ˆåŠŸåˆ©æ€§äº†ï¼Œåå€’æ˜¯å¸Œæœ›ç•™ä¸‹ä¸€äº›legacyï¼Œèƒ½å¤Ÿä¾›ä»¥åæ¥å›å¿†ï¼Œä¸ç®¡æ˜¯æŠ€æœ¯ï¼Œè¿˜æ˜¯æ€è€ƒï¼Œé˜…è¯»ã€‚</p><p>å¯èƒ½æ˜¯å¹´çºªå¤§äº†ï¼Œå­¦ç”Ÿæ—¶ä»£çš„å°¾å£°æ…¢æ…¢æ¥åˆ°äº†ã€‚æœ‰å¾ˆå¤šçš„å†…å®¹è¾“å‡ºï¼Œè™½ç„¶ä¹Ÿæœ‰ä¸€ç›´åœ¨æ•´ç†ï¼Œä½†æ˜¯éƒ½æ˜¯èººåœ¨è‡ªå·±çš„Notioné‡Œï¼Œæ²¡æœ‰è¾“å‡ºåˆ°å…¬å¼€çš„ä¸–ç•Œï¼Œå¯èƒ½éƒ½æ˜¯è‡ªå—¨ï¼Œå› æ­¤ï¼Œä¹Ÿå¸Œæœ›æ‰¾ä¸€ä¸ªå‡ºå£ï¼Œèƒ½å¤Ÿå‘ˆç°è‡ªå·±çš„å­¦ä¹ ï¼Œæ€è€ƒå’Œç»å†ã€‚</p><h2 id="ä¿ƒè¿›å­¦ä¹ å’Œäº¤æµ"><a href="#ä¿ƒè¿›å­¦ä¹ å’Œäº¤æµ" class="headerlink" title="ä¿ƒè¿›å­¦ä¹ å’Œäº¤æµ"></a>ä¿ƒè¿›å­¦ä¹ å’Œäº¤æµ</h2><p>æœ€è¿‘çœ‹äº†å¾ˆå¤šå­¦ä¹ è¿‡ç¨‹æ–¹é¢çš„æ–‡ç« å’Œä¹¦ç±ï¼Œæ·±åˆ»é¢†ä¼šåˆ°ä¸€ä»¶äº‹æƒ…ï¼š<strong>è¯´ä¸å‡ºæ¥çš„çŸ¥è¯†ï¼Œå°±æ˜¯ä½ è¿˜ä¸æ‡‚çš„ã€‚</strong> å¯¹äºä½ èƒ½æŒæ¡çš„çŸ¥è¯†ï¼Œæœ€å¥½æ˜¯ä»¥ç®€å•å’Œæ˜“æ‡‚çš„æ–¹å¼è¯´å‡ºæ¥ï¼Œè®²ç»™åˆ«äººå¬ï¼Œå¦‚æœåˆ«äººæ‡‚äº†ï¼Œé‚£ä¹ˆä½ ä¹Ÿæ‡‚äº†ï¼Œå¦‚æœåˆ«äººä¸æ‡‚ï¼Œå…¶å®ä½ ä¹Ÿä¸æ‡‚ï¼Œå› ä¸ºæ¯æ¬¡å­¦ä¹ ä¸€ä¸ªæ–°çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬éƒ½å€¾å‘äºéª—è‡ªå·±ï¼Œå› ä¸ºè‡ªå·±è½»æ˜“å°±æ‡‚äº†ï¼Œä½†æ˜¯äº‹å®å¯èƒ½æ­£å¥½ç›¸åã€‚</p><p>è´¹æ›¼å­¦ä¹ æ–¹æ³•ï¼Œæˆ‘åœ¨å¥½å¤šæ–‡ç« å’Œä¹¦ç±é‡Œéƒ½å¬åˆ°äº†è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ç®€å•çœ‹<a href="https://learnku.com/articles/35137">è¿™é‡Œ</a>äº†è§£ï¼Œä¾¿æ·±å…¥æŸ¥çœ‹äº†ä¸€ä¸‹ï¼Œå¯¹äºè´¹æ›¼è¿™ä¸ªäººï¼Œå¤§å®¶å¯ä»¥å»wikiæŸ¥çœ‹ï¼Œå¯¹äºè¿™ç§å­¦ä¹ æ–¹æ³•ï¼Œç®€å•æ¥è®²ï¼Œå³ï¼š</p><ul><li>å­¦ä¸œè¥¿ï¼›</li><li>æ•™ç»™åˆ«äººï¼›</li><li>å¦‚æœè®²ä¸æ¸…ï¼Œå›å»é‡å­¦ï¼›</li><li>å†æ•™ï¼Œä»¥æŠŠå¤–è¡Œäººæ•™æ‡‚ä¸ºç›®æ ‡ï¼›</li></ul><p>å…¶ä¸­éœ€è¦æ‰¾åˆ°ä¸€ä¸ªæƒ…æ™¯ï¼Œæ¥å®ç°â€œæ•™â€è¿™ä¸ªæ­¥éª¤ï¼Œæˆ‘å¸Œæœ›è¿™ä¸ªåšå®¢èƒ½å……å½“è¿™ä¸ªåª’ä»‹ï¼Œå½“ç„¶ä¸æ˜¯ä¼ ç»Ÿçš„â€œæ•™æˆâ€ï¼Œè€Œæ˜¯ä½œä¸ºä¸€ä¸ªå°†å­¦åˆ°çš„çŸ¥è¯†è¿›è¡Œæ€»ç»“ã€é™ˆè¿°å’Œè¾“å‡ºçš„å¹³å°ï¼Œè¿™æ ·èƒ½è®©è‡ªå·±æŒæ¡çš„æ›´åŠ å¤¯å®ã€‚</p><h1 id="ä»¥åçš„å‘å±•"><a href="#ä»¥åçš„å‘å±•" class="headerlink" title="ä»¥åçš„å‘å±•"></a>ä»¥åçš„å‘å±•</h1><p>æˆ‘ä¹Ÿä¸çŸ¥é“æœªæ¥ä¼šå‘å±•æˆä»€ä¹ˆæ ·å­ï¼Œæ€»ä¹‹å¸Œæœ›èƒ½åšæŒä¸‹å»ï¼Œæˆ‘å¾ˆé’¦ä½©é˜®ä¸€å³°ã€é™ˆçš“ç­‰å¤§ç¥çš„æŒä¹‹ä»¥æ’ï¼Œæˆ–è®¸è¿™å°±æ˜¯ä»–ä»¬èƒ½èµ°å‡ºä¸€æ¡å¯¹äºæŠ€æœ¯äººå‘˜æ¥è¯´ï¼Œå¾ˆæˆåŠŸçš„è·¯ã€‚</p><h1 id="è‡´è°¢"><a href="#è‡´è°¢" class="headerlink" title="è‡´è°¢"></a>è‡´è°¢</h1><p>åœ¨äº’è”ç½‘çš„æ—¶ä»£ï¼Œæˆ‘ä»¬æ˜¯å¹¸ç¦çš„ï¼Œè¿™ä¸ªåšå®¢å¹³å°çš„æ­å»ºï¼Œå¹¶æ²¡æœ‰æ¶ˆè€—å¤ªå¤šæ—¶é—´ï¼Œå› ä¸ºæœ‰ä»¥ä¸‹çš„æŠ€æœ¯æ”¯æ’‘ï¼š</p><ul><li>Github</li><li>Hexoé™æ€åšå®¢</li><li>Hexoä¸»é¢˜ <a href="https://github.com/blinkfox/hexo-theme-matery">hexo-theme-matery</a></li><li>ä¸‡ç½‘åŸŸå</li><li>Google Analytics</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ€è€ƒå†…çœ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢ </tag>
            
            <tag> å†™ä½œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ ï¼šè¯„ä¼°æ–¹æ³•</title>
      <link href="/2021/11/17/shu-ju-ke-xue/zhi-shi-tu-pu-biao-shi-xue-xi-ping-gu-fang-fa/"/>
      <url>/2021/11/17/shu-ju-ke-xue/zhi-shi-tu-pu-biao-shi-xue-xi-ping-gu-fang-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="èƒŒæ™¯ä»‹ç»"><a href="#èƒŒæ™¯ä»‹ç»" class="headerlink" title="èƒŒæ™¯ä»‹ç»"></a>èƒŒæ™¯ä»‹ç»</h1><p>å¦‚ä½•å¯¹çŸ¥è¯†å›¾è°±è¿›è¡Œè¯„ä¼°ï¼Œå…¶å®çŸ¥è¯†å›¾è°±æœ¬èº«å¹¶ä¸éœ€è¦è¯„ä¼°ï¼Œå› ä¸ºå…¶ä¸­çš„å®ä½“å’Œå…³ç³»å·²ç»ç¡®å®šï¼Œä½†æ˜¯è€ƒè™‘åˆ°åº”ç”¨æ—¶çš„æ•ˆç‡é—®é¢˜ç­‰ï¼Œéœ€è¦å°†å®ƒä»¬è¡¨ç¤ºæˆä½ç»´å‘é‡çš„å½¢å¼ï¼Œå› æ­¤è¿™ç§è¯„ä¼°æ˜¯é’ˆå¯¹è¡¨ç¤ºä¸ºä½ç»´å‘é‡çš„çŸ¥è¯†å›¾è°±ï¼Œæ¥æ¢æ±‚ï¼šä½ç»´å‘é‡çš„å½¢å¼æ˜¯å¦èƒ½å®Œç¾ä»£è¡¨ä¹‹å‰çš„çŸ¥è¯†å›¾è°±ã€‚</p><h1 id="è¯„ä¼°æ•°æ®å‡†å¤‡"><a href="#è¯„ä¼°æ•°æ®å‡†å¤‡" class="headerlink" title="è¯„ä¼°æ•°æ®å‡†å¤‡"></a>è¯„ä¼°æ•°æ®å‡†å¤‡</h1><p>é‚£ä¹ˆå¦‚ä½•è¯„ä¼°è¿™ç§â€œå®Œç¾ç¨‹åº¦â€å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“åœ¨ä¸€äº›tabularæ•°æ®ä¸­ä½¿ç”¨çš„æ¨¡å‹ï¼Œæ¯”å¦‚random forestï¼ŒGBDTï¼Œæ¥ä¸€ç»„æ–°çš„æ•°æ®ï¼Œå› ä¸ºæœ‰æ ‡è®°ï¼Œæˆ‘ä»¬é¢„æµ‹æ–°æ•°æ®äº§ç”Ÿçš„è¾“å‡ºï¼Œæ¥ä¸æ ‡è®°è¿›è¡Œå¯¹æ¯”ã€‚æ¨¡å‹å­¦åˆ°çš„æ˜¯ä¸åŒç±»å‹æ•°æ®ä¹‹é—´çš„äº¤äº’ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ˜¯é€šè¿‡å¯¹æ–°çš„æ•°æ®è¿›è¡Œpredictionæ¥è¯„ä¼°æ¨¡å‹çš„å­¦ä¹ æˆæœã€‚</p><p>é‚£ä¹ˆåœ¨çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ ä¸­ï¼Œæ¨¡å‹å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿå› ä¸ºæœ¬è´¨ä¸Šæ˜¯æ¢äº†ä¸€ç§è¡¨ç¤ºæ–¹æ³•ï¼Œæ‰€ä»¥æ¨¡å‹å­¦åˆ°çš„æ˜¯é’ˆå¯¹åŒä¸€äº‹åŠ¡çš„ä¸åŒçš„è¡¨ç¤ºå½¢å¼ï¼Œé‚£ä¹ˆå°±è¦æ±‚åœ¨è¯„ä¼°æ—¶ï¼Œä»ç„¶æœ‰åŒä¸€äº‹åŠ¡çš„å­˜åœ¨ï¼Œè¿™ä¹ˆè¯´æœ‰ç‚¹æŠ½è±¡ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><table><thead><tr><th>$x_1$</th><th>$x_2$</th><th>$â€¦$</th><th>$x_{i-1}$</th><th>$x_{i}$</th><th>$y$</th></tr></thead><tbody><tr><td>3</td><td>4</td><td>$â€¦$</td><td>4</td><td>3</td><td>1</td></tr><tr><td>1</td><td>5</td><td>$â€¦$</td><td>9</td><td>0</td><td>0</td></tr><tr><td>2</td><td>1</td><td>$â€¦$</td><td>11</td><td>7</td><td>1</td></tr></tbody></table><p> å‡è®¾è¿™æ˜¯ä¸€ä¸ªtabularæ•°æ®çš„é¢„æµ‹é—®é¢˜ï¼Œä¾‹å¦‚ï¼šç”·ç”Ÿèƒ½å¦è„±å•ã€‚</p><p> æ¯ä¸ªç»´åº¦çš„å‘é‡$x_i$ ä»£è¡¨ä¸€ç§æ•°æ®ï¼Œæ¯”å¦‚ï¼š</p><ul><li>$x_1$ ä»£è¡¨ä½ çš„å­¦å†ï¼›</li><li>$x_2$ ä»£è¡¨ä½ çš„å®¶åº­èƒŒæ™¯ï¼›</li><li>ç­‰ç­‰ï¼Œå¦‚æ­¤ç±»æ¨â€¦</li></ul><p> å½“è¿›è¡Œè¯„ä¼°æ—¶ï¼Œä½ æ‰€éœ€è¦çš„æ˜¯å†å‡ºç°ä¸€ä¸ªåŒæ ·æ ¼å¼çš„æ•°æ®ï¼Œæ¯ä¸€ç»´çš„æ•°æ®çš„æ„ä¹‰å’Œè®­ç»ƒé›†çš„ç±»ä¼¼ï¼Œæ¯”å¦‚ï¼šä½ ä¸èƒ½è¯´åœ¨è¯„ä¼°æ—¶å‡ºç°ä¸€ä¸ª $x_{i+1}$ ä»£è¡¨è¿™ä¸ªäººæ˜¯å¦ä¼šå…»çŒªï¼Œå› ä¸ºè¿™ç§ç±»å‹çš„æ•°æ®ä¸åœ¨è®­ç»ƒé›†ä¸­ã€‚</p><p> åŒæ ·çš„ï¼ŒçŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ ä¸­å­¦åˆ°çš„æ˜¯ä¸€ä¸ªå®ä½“æˆ–è€…å…³ç³»çš„ä½ç»´å‘é‡è¡¨ç¤ºï¼Œå½“è®­ç»ƒé›†ä¸­å‡ºç°çš„æ˜¯: é«˜åœ†åœ†å’ŒAlex, åœ¨è¯„ä¼°æ—¶ï¼Œä½ è®©æˆ‘è¯„ä¼° æ–°å£ç»“è¡£å’Œå°çº¦ç¿°(å‡æ²¡æœ‰å‡ºç°åœ¨è®­ç»ƒé›†ä¸­)çš„å…³ç³»ã€‚</p><p> è¿™ä¸€ç‚¹æ˜¯å’Œä¹‹å‰çš„è¯„ä¼°æ–¹æ³•æœ‰æ‰€åŒºåˆ«çš„ã€‚</p><p> é‚£ä¹ˆå¦‚ä½•å‡†å¤‡è®­ç»ƒé›†å’Œæµ‹è¯•é›†å‘¢ï¼Ÿ<strong>åœ¨è¯„ä¼°æ•°æ®å‡†å¤‡æ—¶çš„ä¸€ä¸ªåŸåˆ™ï¼šä¿è¯æµ‹è¯•é›†ä¸­å‡ºç°çš„å®ä½“å’Œå…³ç³»å‡åœ¨è®­ç»ƒé›†ä¸­å‡ºç°ã€‚</strong></p><blockquote><p>ä¸åŒæ—¶å‡ºç°ï¼Œæˆ‘è¯„ä¼°è°å»ï¼Ÿè°çŸ¥é“å°çº¦ç¿°å’Œæ–°å£ç»“è¡£åˆä¸åˆé€‚ï¼Ÿä½†æˆ‘ä»¬èƒ½è¯„ä¼°é«˜åœ†åœ†å’ŒAlexåˆä¸åˆé€‚â€¦ </p></blockquote><h1 id="è¯„ä¼°ä»»åŠ¡"><a href="#è¯„ä¼°ä»»åŠ¡" class="headerlink" title="è¯„ä¼°ä»»åŠ¡"></a>è¯„ä¼°ä»»åŠ¡</h1><p>åœ¨KGEè¯„ä¼°æ—¶ï¼Œä¸€èˆ¬é‡‡å–çš„æ˜¯<code>Link prediction</code>ä»»åŠ¡ï¼Œåœ¨å‡†å¤‡æ—¶ï¼Œå¯ä»¥é‡‡å–çš„ç­–ç•¥ï¼š</p><ul><li>åœ¨åŸå§‹çš„çŸ¥è¯†å›¾è°±ä¸Šéšæœºåˆ é™¤ä¸€äº›linkï¼Œç„¶ååœ¨è¯„ä¼°æ—¶é¢„æµ‹è¿™äº›linkæ˜¯å¦å­˜åœ¨ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦è®¡ç®—é¢„æµ‹çš„å‡†ç¡®ç‡ï¼›</li><li>è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯ï¼Œå°†<code>link prediction</code>è§†ä¸º<code>learn to rank</code>ä»»åŠ¡ï¼Œé€š<strong>è¿‡æ’åºçš„æŒ‡æ ‡è¿›è¡Œè¯„ä¼°ï¼Œè¿™ç§æ–¹å¼ç›®å‰æ˜¯ä¸»æµçš„æ–¹æ³•</strong>ï¼Œä¸‹æ–‡ä¸»è¦é˜è¿°è¿™ç§æ–¹æ³•ï¼›</li></ul><p>å¯¹äºè¿™ç§æ–¹æ³•ï¼Œé¦–å…ˆç¡®å®šéœ€è¦è¿›è¡Œè¯„ä¼°çš„æ•°æ®é›† $\mathcal{E}$ ï¼Œå› ä¸ºæœ‰æ—¶å€™è¿›è¡Œè¯„ä¼°çš„æ•°æ®é›†å¯èƒ½å¹¶ä¸æ˜¯åŸå§‹çš„å®Œæ•´çš„æ•°æ®é›†ï¼Œç„¶åé’ˆå¯¹æ•°æ®é›†ä¸­çš„ä¸‰å…ƒç»„ï¼Œè¿›è¡Œä¸¤ç§ç±»å‹çš„æ›¿æ¢ï¼Œå¦‚ä¸‹ï¼š</p><ul><li><p>$(h, r, ?)$ ï¼šå– $\mathcal{E}$ ä¸­çš„æ‰€æœ‰å®ä½“ï¼Œæ›¿æ¢ï¼Ÿï¼Œç„¶åè®¡ç®— $(h, r, t)$ åœ¨å…¶ä¸­çš„æ’åºï¼Œè¶Šé å‰è¶Šå¥½ï¼›</p></li><li><p>$(?, r, t)$ ï¼šå– $\mathcal{E}$ ä¸­çš„æ‰€æœ‰å®ä½“ï¼Œæ›¿æ¢ï¼Ÿï¼Œç„¶åè®¡ç®— $(h, r, t)$ åœ¨å…¶ä¸­çš„æ’åºï¼Œè¶Šé å‰è¶Šå¥½ï¼›</p></li></ul><h1 id="è¯„ä¼°æŒ‡æ ‡-Rank-based-method"><a href="#è¯„ä¼°æŒ‡æ ‡-Rank-based-method" class="headerlink" title="è¯„ä¼°æŒ‡æ ‡(Rank-based method)"></a>è¯„ä¼°æŒ‡æ ‡(Rank-based method)</h1><h2 id="Hits-K"><a href="#Hits-K" class="headerlink" title="Hits@K"></a>Hits@K</h2><p>hits@kæ ¹æ®å‡ºç°åœ¨æ’åºåˆ—è¡¨ä¸­çš„å‰kä¸ªå®ä½“ä¸­ï¼ŒçœŸå®å®ä½“æ’åºçš„ä½ç½®è¿›è¡Œè¯„ä¼°ã€‚</p><p>å…·ä½“è®¡ç®—æ–¹å¼å¦‚ä¸‹ï¼š</p><p>$$<br>\text{hits@}k = \frac{1}{|\mathcal{I}|} \sum \limits_{r \in \mathcal{I}} \mathbb{I}[r \leq k]<br>$$</p><ul><li>$\mathcal{I}$ è¡¨ç¤ºä¸€ç»„æ’åºçš„ç»“æœï¼›</li><li>$|\mathcal{I}|$ è¡¨ç¤ºä¸€ç»„æ’åºçš„ç»“æœçš„æ•°é‡ï¼›</li><li>$\mathbb{I}$ ä¸ºæŒ‡ç¤ºå‡½æ•°ï¼›</li><li>$k$ ä¸ºç•Œå®šçš„èŒƒå›´ï¼Œå¸¸ä¸º1, 3, 5, 10</li><li>è¯¥å€¼è¶Šæ¥è¿‘1ï¼Œè¯´æ˜å­¦ä¹ çš„æ•ˆæœè¶Šå¥½ï¼›</li><li>è¿™é‡Œçš„<code>r</code>æŒ‡çš„æ˜¯<code>rank</code>;</li></ul><p>ä¸€ä¸ªä¾‹å­è¯´æ˜ï¼š</p><p>å½“æœ‰3ä¸ªæ­£æ ·æœ¬ç”¨äºç”Ÿæˆè´Ÿæ ·æœ¬æ—¶ï¼ŒåŒæ—¶è€ƒè™‘æ›¿æ¢headå’Œtailï¼Œå¯ä»¥ç”Ÿæˆ6ä¸ªè´Ÿæ ·æœ¬ï¼Œä¹Ÿå°±å¯ä»¥å¾—åˆ°6ä¸ªæ’åç»“æœã€‚</p><table><thead><tr><th>æ­£æ ·æœ¬</th><th>headè´Ÿæ ·æœ¬</th><th>tailè´Ÿæ ·æœ¬</th><th>headè´Ÿæ ·æœ¬æ’åº</th><th>tailè´Ÿæ ·æœ¬æ’åº</th></tr></thead><tbody><tr><td>$(h_1, r_1, t_1)$</td><td>$(h_1, r_1, ?)$</td><td>$(?, r_1, t_1)$</td><td>8</td><td>4</td></tr><tr><td>$(h_2, r_2, t_2)$</td><td>$(h_2, r_2, ?)$</td><td>$(?, r_2, t_2)$</td><td>2</td><td>1</td></tr><tr><td>$(h_3, r_3, t_3)$</td><td>$(h_3, r_3, ?)$</td><td>$(?, r_3, t_3)$</td><td>90</td><td>1</td></tr></tbody></table><p>åˆ™è®¡ç®—å¦‚ä¸‹ï¼š</p><p>$$<br>hits@1 = \frac{1}{6} \times (0 + 0 + 0 + 1 + 0 + 1) = 0.3333<br>$$</p><p>$$<br>hits@3 = \frac{1}{6} \times (0 + 0 + 1 + 1 + 0 + 1) = 0.50<br>$$</p><p>$$<br>hits@5 = \frac{1}{6} \times (0 + 1 + 1 + 1 + 0 + 1) = 0.6667<br>$$</p><p>å¦‚æœä½ å®é™…è®¡ç®—æ—¶ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œæ¯”å¦‚å¯¹äº $(h_1, r_1, ?)$ï¼Œå®ƒçš„æ’åºä¸º8ï¼Œä½†æ˜¯ç”±äºæ¯”1ï¼Œ 3ï¼Œ 5éƒ½å¤§ï¼Œæ‰€ä»¥ä»ç„¶è®°ä¸º0ï¼Œä½†æ˜¯å®ƒæ¯” $(h_3, r_3, ?)$ çš„æ’åºä¸º90ï¼Œè¦å¥½å¾ˆå¤šï¼Œä½†æ˜¯å¯¹äº $rank &gt; k$ çš„ï¼Œè¯¥æŒ‡æ ‡ä¸€è§†åŒä»ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç¼ºé™·ã€‚</p><h2 id="Mean-Rank-MR"><a href="#Mean-Rank-MR" class="headerlink" title="Mean Rank(MR)"></a>Mean Rank(MR)</h2><p>æ­£å¦‚åå­—ä½“ç°çš„ï¼Œæ˜¯triplesæ‰€æœ‰æ’åºçš„ç®—æœ¯å¹³å‡å€¼ï¼Œè¿™ä¸ªå€¼çš„èŒƒå›´æ˜¯: [1, æ‰€æœ‰è´Ÿæ ·æœ¬çš„æ•°é‡]ã€‚</p><ul><li>1 è¡¨æ˜æ˜¯æœ€ç†æƒ³çš„æƒ…å†µï¼Œæ‰€æœ‰çš„triplesçš„æ’åºéƒ½æ˜¯1ï¼›</li><li>æ‰€æœ‰è´Ÿæ ·æœ¬çš„æ•°é‡ï¼šæœ€åçš„æƒ…å†µï¼Œæ‰€æœ‰çš„æ’åºéƒ½æ˜¯æœ€åä¸€ä¸ªï¼›</li><li>è¿™ä¸ªæŒ‡æ ‡è¶Šä½è¶Šå¥½ï¼›</li></ul><p>$$<br>\text{score} =\frac{1}{|\mathcal{I}|} \sum \limits_{r \in \mathcal{I}} r<br>$$</p><p>æ ¹æ®ä¸Šè¿°çš„6ä¸ªè´Ÿæ ·æœ¬ï¼Œè®¡ç®—å¦‚ä¸‹ï¼š</p><p>$$<br>\text{MR} = \frac{1}{6} \times (8 + 4 + 2 + 1 + 90 + 1) = 17.6667<br>$$</p><p>ä»è®¡ç®—æ–¹å¼ä¸Šæ¥çœ‹ï¼Œè¿™ä¸ªè¯„ä¼°æŒ‡æ ‡æ¯”<code>Hits@K</code>å¥½çš„åœ°æ–¹åœ¨äºï¼š</p><blockquote><p>it is sensitive to any model performance changes, not only what occurs under a certain cutoff and therefore reflects average performance.</p></blockquote><p>ä½†æ˜¯å®ƒçš„ç¼ºé™·ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œè™½ç„¶æœ‰ä¸€å®šçš„è§£é‡Šæ€§ï¼Œä½†æ˜¯ç”±äºå®ƒçš„è¾¹ç•Œå–å†³äºè´Ÿæ ·æœ¬çš„æ•°é‡ï¼Œä½†æ˜¯MR=10ï¼Œå¯¹äºè´Ÿæ ·æœ¬ä¸º20æˆ–è€…200000çš„æ¨¡å‹ï¼Œå…¶æ€§èƒ½æŒ‡ç¤ºå«ä¹‰å®Œå…¨ä¸åŒã€‚</p><h2 id="Mean-reciprocal-rank-MRR"><a href="#Mean-reciprocal-rank-MRR" class="headerlink" title="Mean reciprocal rank(MRR)"></a>Mean reciprocal rank(MRR)</h2><p>MRRæ˜¯æ‰€æœ‰æ’åçš„å€’æ•°çš„ç®—æœ¯å¹³å‡å€¼ï¼Œå…·ä½“è®¡ç®—å¦‚ä¸‹ï¼š</p><p>$$<br>\text{score} =\frac{1}{|\mathcal{I}|} \sum_{r \in \mathcal{I}} r^{-1}<br>$$</p><p>æ ¹æ®ä¸Šè¿°çš„6ä¸ªè´Ÿæ ·æœ¬ï¼Œè®¡ç®—å¦‚ä¸‹ï¼š</p><p>$$<br>\text{MR} = \frac{1}{6} \times (\frac{1}{8} + \frac{1}{4} + \frac{1}{2} + \frac{1}{1} + \frac{1}{90} + \frac{1}{1}) = 0.4810<br>$$</p><ul><li>è¿™ä¸ªæŒ‡æ ‡åœ¨ $[0, 1]$ ä¹‹é—´;</li><li>æ˜¯å¯¹MRçš„ä¸€ç§æ”¹è¿›ï¼Œä½¿å¾—å¯ä»¥å¯¹å¼‚å¸¸å€¼ä¸å¤ªæ•æ„Ÿï¼Œè¿™é‡ŒæŒ‡å¯¹é«˜rankçš„å¼‚å¸¸å€¼ä¸æ•æ„Ÿï¼Œä½†æ˜¯å»å¼€å§‹å¯¹ä½rankå€¼æ•æ„Ÿï¼›</li></ul><p>åŒæ ·çš„é—®é¢˜ï¼Œå¯¹äºä¸€ä¸ªæ¨¡å‹ï¼Œå¦‚æœè§‚å¯Ÿåˆ°MRRæŒ‡æ ‡ä¸º0.01ï¼Œ é‚£ä¹ˆè¿™ä¸ªæ¨¡å‹æ˜¯å¥½è¿˜æ˜¯ä¸å¥½ï¼Ÿ</p><p>è¿™ç§ç»“è®ºå¾ˆéš¾ç›´æ¥ä¸‹ï¼Œè¿™ä¸ªå€¼æ„å‘³ç€ï¼Œå½“å»æ‰outliersæ—¶ï¼Œå¹³å‡æ’åä¸º 100(1/0.01) å·¦å³ï¼Œè¿™ä¸ªç»“æœå¯èƒ½æ˜¯å¥½çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯åçš„ï¼Œè¿™å–å†³äºä½¿ç”¨çš„è´Ÿæ ·æœ¬çš„æ•°é‡ã€‚</p><ul><li>å½“ä½¿ç”¨äº†100ä¸‡çš„è´Ÿæ ·æœ¬, é‚£ä¹ˆè¿™ä¸ªç»“æœå¾ˆå¥½ï¼Œå› ä¸ºåœ¨100ä¸‡ä¸­æ’å100ï¼Œæ˜¯å¾ˆå¥½çš„ï¼›</li><li>å½“ä½¿ç”¨äº†è´Ÿæ ·æœ¬åªæœ‰100ä¸ªï¼Œè¯´æ˜test triplesåœ¨è·Ÿcorruptionsä¸€èµ·æ’åæ—¶å¾—åˆ°çš„ç»“æœå¾ˆå·®ï¼›</li></ul><p>åœ¨çœŸå®çš„æ•°æ®é›†ä¸Šï¼Œåº”è¯¥ä»”ç»†çœ‹çœ‹hits@kè¿™ä¸ªæŒ‡æ ‡ï¼Œä¹‹åå†åˆ¤æ–­æ¨¡å‹çš„å¥½åã€‚</p><p>å…¶ä¸­kçš„é€‰æ‹©ï¼Œåº”è¯¥å–å†³äºé’ˆå¯¹æ¯ä¸ªtest tripleç”Ÿæˆçš„è´Ÿæ ·æœ¬çš„æ•°é‡ã€‚</p><blockquote><p>å…¶å®ä¸»è¦çš„è¯„ä¼°æŒ‡æ ‡ï¼ŒåŒ…æ‹¬ï¼š<code>MRR</code>, <code>hits@k</code>, å·²ç»æ˜¯ç»å¸¸ä½¿ç”¨çš„äº†ï¼Œä¾‹å¦‚åœ¨ï¼š<a href="https://paperswithcode.com/task/link-prediction">paperswithcode</a>å’Œ<a href="https://www.jiqizhixin.com/sota/tech-task/90c2aa81-2fb1-4363-a379-53edc69b3898">æœºå™¨ä¹‹å¿ƒ</a>çš„SOTAä¸­éƒ½æ˜¯ä»¥è¿™å‡ ç§ç»„ä½œä¸ºbenchmarkçš„ã€‚</p></blockquote><h2 id="å…¶ä»–çš„æŒ‡æ ‡"><a href="#å…¶ä»–çš„æŒ‡æ ‡" class="headerlink" title="å…¶ä»–çš„æŒ‡æ ‡"></a>å…¶ä»–çš„æŒ‡æ ‡</h2><p>é’ˆå¯¹ä¸Šè¿°å¸¸ç”¨çš„æŒ‡æ ‡ï¼Œä¹Ÿæœ‰ä¸€äº›æ”¹è¿›çš„è¡¡é‡æŒ‡æ ‡ï¼Œæ¯”å¦‚ï¼š</p><ul><li>Inverse Geometric Mean Rank</li><li>Adjusted Mean Rank</li><li>Adjusted Mean Rank Index</li></ul><p>è¿™äº›æŒ‡æ ‡å¯ä»¥å‚è€ƒ <a href="https://pykeen.readthedocs.io/en/stable/tutorial/understanding_evaluation.html">å…¶ä»–è¡¡é‡æŒ‡æ ‡</a></p><h1 id="æ·±å…¥è¯„ä¼°ç»†èŠ‚"><a href="#æ·±å…¥è¯„ä¼°ç»†èŠ‚" class="headerlink" title="æ·±å…¥è¯„ä¼°ç»†èŠ‚"></a>æ·±å…¥è¯„ä¼°ç»†èŠ‚</h1><h2 id="å¦‚ä½•è®¡ç®—rank"><a href="#å¦‚ä½•è®¡ç®—rank" class="headerlink" title="å¦‚ä½•è®¡ç®—rank?"></a>å¦‚ä½•è®¡ç®—rank?</h2><p>ä¸Šè¾¹æˆ‘ä»¬é»˜è®¤å·²ç»çŸ¥é“rankï¼Œä½†æ˜¯rankæ˜¯å¦‚ä½•è®¡ç®—çš„ï¼Œä¸å°±æ˜¯æ’åºåˆ—è¡¨çš„ç´¢å¼•å—ï¼Ÿ</p><p>å¯¹äºä¸€ä¸ªæ¨¡å‹ï¼Œè¾“å‡ºé’ˆå¯¹triplesçš„åˆ†æ•°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>Triples</th><th>Score</th><th>Rank(optimistic)</th><th>Rank(pessimistic)</th><th>Rank(realistic)</th></tr></thead><tbody><tr><td>(é«˜åœ†åœ†ï¼Œå–œæ¬¢ï¼ŒXXX)</td><td>0.9628</td><td>1</td><td>1</td><td>1</td></tr><tr><td>(é«˜åœ†åœ†ï¼Œå–œæ¬¢ï¼ŒAlex)</td><td>0.9405</td><td>2</td><td>3</td><td>2.5</td></tr><tr><td>(é«˜åœ†åœ†ï¼Œå–œæ¬¢ï¼Œèµµåˆå»·)</td><td>0.9405</td><td>3</td><td>2</td><td>2</td></tr><tr><td>(é«˜åœ†åœ†ï¼Œå–œæ¬¢ï¼Œå°çº¦ç¿°)</td><td>0.0001</td><td>4</td><td>4</td><td>4</td></tr></tbody></table><p>ä½†æ˜¯ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæ¨¡å‹é’ˆå¯¹ä¸åŒçš„triplesè¾“å‡ºåŒæ ·çš„åˆ†æ•°æ—¶ï¼Œå¦‚ä½•è®¡ç®—rankï¼Ÿè¿™æ—¶å€™æœ‰ä¸‰ç§æ–¹å¼ï¼š</p><ul><li><code>optimistic</code>ï¼šä¹è§‚çš„æ–¹å¼ï¼Œå½“æ­£æ ·æœ¬å’Œå…¶ä»–çš„è´Ÿæ ·æœ¬æœ‰åŒæ ·çš„åˆ†æ•°æ—¶ï¼Œåˆ™æ’åå–ç¬¬ä¸€ä¸ªï¼›</li><li><code>pessimistic</code>ï¼šæ‚²è§‚çš„æ–¹å¼ï¼Œå½“æ­£æ ·æœ¬å’Œå…¶ä»–çš„è´Ÿæ ·æœ¬æœ‰åŒæ ·çš„åˆ†æ•°æ—¶ï¼Œåˆ™æ’åå–æœ€åä¸€ä¸ªï¼›</li><li><code>realistic</code>ï¼šåŠ¡å®çš„æ–¹å¼ï¼Œå½“æ­£æ ·æœ¬å’Œå…¶ä»–çš„è´Ÿæ ·æœ¬æœ‰åŒæ ·çš„åˆ†æ•°æ—¶ï¼Œåˆ™æ’åå–<code>optimistic</code>å’Œ<code>pessimistic</code>çš„å¹³å‡æ’åï¼›</li></ul><h2 id="ranké€‰è¾¹"><a href="#ranké€‰è¾¹" class="headerlink" title="ranké€‰è¾¹"></a>ranké€‰è¾¹</h2><p>ä¸Šè¿°æˆ‘ä»¬ä¸€ç›´é»˜è®¤ï¼Œå½“ç”Ÿæˆè´Ÿæ ·æœ¬æ—¶ï¼Œæ˜¯é’ˆå¯¹headå’ŒtailåŒæ—¶è¿›è¡Œçš„ï¼Œä½†æ˜¯å…¶å®å¯ä»¥ä»»é€‰ä¸€è¾¹ï¼Œå³ï¼š</p><ul><li>åªé’ˆå¯¹headç”Ÿæˆè´Ÿæ ·æœ¬ï¼›</li><li>åªé’ˆå¯¹tailç”Ÿæˆè´Ÿæ ·æœ¬ï¼›</li></ul><p>ä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯é’ˆå¯¹ä¸¤è¾¹åŒæ—¶ç”Ÿæˆè´Ÿæ ·æœ¬ã€‚</p><p>ä½†æ˜¯æŒ‡é’ˆå¯¹ä»¥ä¾¿è¿›è¡Œè´Ÿæ ·æœ¬çš„ç”Ÿæˆæ˜¯æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥è¯„ä¼°æ¨¡å‹å¯¹äºheadå’Œtailçš„é¢„æµ‹å·®å¼‚ã€‚</p><h2 id="è¿‡æ»¤å·²çŸ¥triples"><a href="#è¿‡æ»¤å·²çŸ¥triples" class="headerlink" title="è¿‡æ»¤å·²çŸ¥triples"></a>è¿‡æ»¤å·²çŸ¥triples</h2><p>è¿™ä¸ªå¾ˆæ˜æ˜¾ï¼Œå½“ç”Ÿæˆè´Ÿæ ·æœ¬æ—¶ï¼Œæˆ‘ä»¬å‘ç°ï¼Œé’ˆå¯¹(é«˜åœ†åœ†ï¼Œå–œæ¬¢ï¼ŒAlex)ï¼Œæ›¿æ¢headï¼Œå¾—åˆ°æ–°çš„è´Ÿæ ·æœ¬çš„headå¯ä»¥ä»»æ„æ›¿æ¢ï¼Œé‚£ä¹ˆï¼Œæ°å·§ç”Ÿæˆä¸€ä¸ªè´Ÿæ ·æœ¬ (å­™è‰ºçï¼Œå–œæ¬¢ï¼ŒAlex)ï¼Œè¿™å°±å°´å°¬äº†ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªæ­£æ ·æœ¬ï¼Œå½“è¯„ä¼°æ—¶å¿…ç„¶ä¼šå¾—åˆ°å¾ˆé«˜çš„åˆ†æ•°ï¼Œå¯¼è‡´å¾—åˆ°æ’åå¾ˆå‰çš„rankï¼Œè¿™å°±å¯¼è‡´(é«˜åœ†åœ†ï¼Œå–œæ¬¢ï¼ŒAlex)çš„æ’åé åäº†ï¼Œå› æ­¤ä¸ºäº†æ­£ç¡®åœ°è¡¡é‡æ¨¡å‹çš„æ€§èƒ½ï¼Œå› æ­¤éœ€è¦è¿‡æ»¤æ‰è¿™äº›æ­£ç¡®çš„æ ·æœ¬ï¼Œå› ä¸ºå®ƒä¼šå¿½ç•¥è¿™äº›ä¸€ç›´çš„tripleså¸¦æ¥çš„è´Ÿé¢å½±å“ã€‚</p><p>ä½†æ˜¯è¿™ç§filteringçš„ä½¿ç”¨æ—¶æœºæ˜¯å¾ˆé‡è¦çš„ï¼š<strong>ä¸€ä¸ªåŸåˆ™æ˜¯è¯„ä¼°çš„ç»“æœä¸ä¼šå½±å“åˆ°æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹</strong>ã€‚æ ¹æ®è¿™ä¸ªåŸåˆ™ï¼Œä¸å¯ä»¥ä½¿ç”¨filteringï¼š</p><ul><li>Early stoppingï¼šä¸ä½¿ç”¨test dataè¿›è¡Œæ­£æ ·æœ¬çš„è¿‡æ»¤ï¼Œä»¥å…æ³„éœ²ä¿¡æ¯ï¼›</li><li>hyperparameter optimizationï¼šä¸ä½¿ç”¨test dataè¿›è¡Œæ­£æ ·æœ¬çš„è¿‡æ»¤ï¼Œä»¥å…æ³„éœ²ä¿¡æ¯ï¼›</li></ul><h2 id="å®ä½“å’Œå…³ç³»é™å®š"><a href="#å®ä½“å’Œå…³ç³»é™å®š" class="headerlink" title="å®ä½“å’Œå…³ç³»é™å®š"></a>å®ä½“å’Œå…³ç³»é™å®š</h2><p>è¿™ä¸ªé—®é¢˜éœ€è¦é˜è¿°çš„æ˜¯ï¼Œä¸Šè¾¹æ ¹æ®LCWAæˆ–è€…sLCWAï¼Œå¯ä»¥ç”Ÿæˆé’ˆå¯¹æ‰€æœ‰å®ä½“æˆ–è€…å…³ç³»çš„è´Ÿæ ·æœ¬ï¼Œä½†æ˜¯ä¾èµ–äºå…·ä½“çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬ä¸æƒ³è¿™ä¹ˆåšï¼Œæ¯”å¦‚ï¼šåœ¨åŒ»ç–—çŸ¥è¯†å›¾è°±ä¸­ï¼Œæ¯ä¸ªå®ä½“ä¼šæœ‰é¢å¤–çš„å®ä½“ç±»å‹ï¼Œæ¯”å¦‚:</p><p>(æ°¯å¡æ ¼é›·ï¼Œæ²»ç–—ï¼Œè¿‡æ•)ï¼Œæ°¯å¡æ ¼é›·æ˜¯ä¸€ç§è¯ç‰©ï¼Œå¯ä»¥æ²»ç–—è¿‡æ•ï¼Œä½†æ˜¯å®ä½“ä¸­æœ‰äºŒç”²åŒèƒï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§è¯å“ï¼Œä½†æ˜¯æ ¹æ®ä¸Šè¿°çš„å‡è®¾ï¼Œåˆ™å¯ä»¥ç”Ÿæˆè´Ÿæ ·æœ¬ï¼š(æ°¯å¡æ ¼é›·ï¼Œæ²»ç–—ï¼ŒäºŒç”²åŒèƒ)ï¼Œè¿™æ˜¾ç„¶æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºåœ¨ä¸ç¬¦åˆå®é™…ï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹ï¼Œå½“ç”Ÿæˆè´Ÿæ ·æœ¬æ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬å¸Œæœ›è§„å®šï¼Œç”Ÿæˆçš„è´Ÿæ ·æœ¬æ—¶ç¬¦åˆå®é™…çš„ï¼Œæ¯”å¦‚ï¼š(æ°¯å¡æ ¼é›·ï¼Œæ²»ç–—ï¼Œè¿‡æ•æ€§é¼»ç‚)ã€‚</p><p>è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦å®Œæˆä¸¤æ­¥å·¥ä½œï¼š</p><ul><li>é‡æ–°ç”Ÿæˆè¯„ä¼°æ•°æ®ï¼›</li><li>é’ˆå¯¹é‡æ–°ç”Ÿæˆçš„è¯„ä¼°æ•°æ®ï¼Œæ¥è®¡ç®—è¡¡é‡æŒ‡æ ‡ï¼›</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç§‘å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çŸ¥è¯†å›¾è°± </tag>
            
            <tag> è¡¨ç¤ºå­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ ï¼šè®­ç»ƒæ–¹æ³•</title>
      <link href="/2021/11/17/shu-ju-ke-xue/zhi-shi-tu-pu-biao-shi-xue-xi-xun-lian-fang-fa/"/>
      <url>/2021/11/17/shu-ju-ke-xue/zhi-shi-tu-pu-biao-shi-xue-xi-xun-lian-fang-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰æå‡è®¾"><a href="#å‰æå‡è®¾" class="headerlink" title="å‰æå‡è®¾"></a>å‰æå‡è®¾</h1><h2 id="Open-World-Assumption-OWA"><a href="#Open-World-Assumption-OWA" class="headerlink" title="Open World Assumption(OWA)"></a>Open World Assumption(OWA)</h2><p>å¼€æ”¾ä¸–ç•Œå‡è®¾ï¼Œå…¶å«ä¹‰åœ¨äºæš—å«çš„å‡å®šä¸ºæ˜¯æœªçŸ¥çš„äº‹å®è€Œä¸æ˜¯å‡çš„ï¼Œè¿™ä¹Ÿæ˜¯â€œå¼€æ”¾â€è¿™ä¸ªè¯çš„å«ä¹‰ï¼Œè¿™ä¹ˆç†è§£èµ·æ¥æœ‰ç‚¹æŠ½è±¡ï¼Œä¸€ä¸ªä¾‹å­ï¼šå®‡å®™å†…æœ‰é™¤äº†äººç±»çš„å¤–æ˜Ÿäººï¼Œè¿™ä¸ªæè¿°åœ¨Open World Assumptionæ¡ä»¶ä¸‹ï¼Œä¸æ˜¯å‡çš„ï¼Œä½ åªèƒ½è¯´å®ƒæ˜¯æœªçŸ¥çš„ï¼Œè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯â€œå¼€æ”¾â€çš„ã€‚</p><h2 id="Closed-World-Assumption-CWA"><a href="#Closed-World-Assumption-CWA" class="headerlink" title="Closed World Assumption(CWA)"></a>Closed World Assumption(CWA)</h2><p>å°é—­ä¸–ç•Œå‡è®¾ï¼Œä¸å¼€æ”¾å¯¹ç«‹ï¼Œå³ï¼šæ‰€æœ‰æœªçŸ¥çš„éƒ½æ˜¯å‡çš„ã€‚åŒæ ·ä¸Šè¿°çš„ä¾‹å­ï¼šå®‡å®™å†…æœ‰é™¤äº†äººç±»çš„å¤–æ˜Ÿäººï¼Œè¿™ä¸ªæè¿°åœ¨Closed World Assumptionæ¡ä»¶ä¸‹ï¼Œæˆ‘ä»¬å‡è®¤ä¸ºå®ƒæ˜¯é”™è¯¯çš„ã€‚</p><h2 id="Local-Closed-World-Assumption-LCWA"><a href="#Local-Closed-World-Assumption-LCWA" class="headerlink" title="Local Closed World Assumption(LCWA)"></a>Local Closed World Assumption(LCWA)</h2><p>è¿™ä¸ªæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä¸Closed World Assumptionç›¸å…³ï¼Œè¿™æ¶‰åŠåˆ°å±€éƒ¨çš„æƒ…å†µã€‚åŒæ ·ä¸Šè¿°çš„ä¾‹å­ï¼šå®‡å®™å†…æœ‰é™¤äº†äººç±»çš„å¤–æ˜Ÿäººï¼Œæ¯”å¦‚ï¼šå¯¹äºä¸åŒçš„äººç±»ï¼Œè¿™ä¸ªæè¿°åœ¨Local Closed World Assumptionæ¡ä»¶ä¸‹ï¼Œä¸åŒçš„äººå¯èƒ½æœ‰ä¸åŒçš„å›ç­”ï¼Œå¯¹äºNASAæˆ–è€…å›½å®¶èˆªå¤©å±€æ¥è¯´ï¼Œä»–ä»¬å¯èƒ½çŸ¥é“ä½†æ˜¯ä¸è¯´ï¼Œå› æ­¤ä»–ä»¬å¯¹è¿™ä¸ªçš„å›ç­”å¯èƒ½æ˜¯æ­£ç¡®çš„ï¼Œè€Œå¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºä½ è‚¯å®šä¸çŸ¥é“ã€‚è¿™ç§æƒ…å†µå¯¼è‡´ä¸åŒçš„äººç¾¤å¯¹äºåŒæ ·çš„é—®é¢˜å‡ºç°è®¤çŸ¥çš„ä¸åŒï¼Œæ‰€ä»¥Closed World Assumptionå‡è®¾è¿‡äºç»å¯¹äº†ï¼Œå› æ­¤å¼•å…¥äº†Local Closed World Assumptionï¼Œå³ï¼šå¯¹äºæ‰€æœ‰æœªçŸ¥çš„çŸ¥è¯†ä¸­çš„ä¸€éƒ¨åˆ†è®¤ä¸ºæ˜¯é”™è¯¯çš„ï¼ˆå› ä¸ºæœ‰äººè®¤ä¸ºé‚£æ˜¯å¯¹çš„ï¼‰ã€‚</p><h2 id="Stochastic-Local-Closed-World-Assumption-sLCWA"><a href="#Stochastic-Local-Closed-World-Assumption-sLCWA" class="headerlink" title="Stochastic Local Closed World Assumption(sLCWA)"></a>Stochastic Local Closed World Assumption(sLCWA)</h2><p>è¿™ä¸ªå‡è®¾ï¼Œæ˜¯åœ¨Local Closed World AssumptionåŸºç¡€ä¹‹ä¸Šæ„å»ºçš„ã€‚å…¶å®è¿™ä¸ªè¯ç›¸æ¯”äºä¸Šè¿°ä¸‰è€…ä½¿ç”¨çš„è¾ƒå°‘ï¼Œ<strong>å®ƒéœ€è¦å’Œå…·ä½“çš„é‡‡æ ·ç­–ç•¥ç»“åˆæ¥çœ‹</strong>ã€‚å› ä¸ºäººç±»çš„çŸ¥è¯†æ²¡æœ‰åŠæ³•å…·ä½“çš„ç»Ÿè®¡å‡ºæ¥ï¼Œå› æ­¤æ—¥å¸¸æ¥è§¦åˆ°çš„çŸ¥è¯†å‡å¯ä»¥è§†ä¸ºLocal Knowledge, è€ŒåŸºäºLocal Closed World Assumptionï¼Œæ‰€æœ‰ä¸å±äºLocal Knowledgeçš„çŸ¥è¯†éƒ½æ˜¯é”™è¯¯çš„ã€‚Stochastic Local Closed World Assumptionåˆ™å‘Šè¯‰æˆ‘ä»¬ï¼Œå¦‚æœåœ¨è¿™äº›â€œé”™è¯¯â€çš„çŸ¥è¯†ä¸­è¿›è¡Œé‡‡æ ·ï¼Œæ¥å¸®åŠ©è®­ç»ƒã€‚</p><h1 id="ä¸åŒå‡è®¾å¯¹äºè®­ç»ƒçš„å½±å“"><a href="#ä¸åŒå‡è®¾å¯¹äºè®­ç»ƒçš„å½±å“" class="headerlink" title="ä¸åŒå‡è®¾å¯¹äºè®­ç»ƒçš„å½±å“"></a>ä¸åŒå‡è®¾å¯¹äºè®­ç»ƒçš„å½±å“</h1><p>è¿™ç§å‡è®¾æ¡ä»¶å¯¹äºçŸ¥è¯†å›¾è°±åµŒå…¥çš„å½±å“å¦‚ä¸‹ï¼š</p><table><thead><tr><th>Assumptions</th><th>å½±å“</th><th>é‡‡ç”¨æƒ…å†µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Open World Assumption</td><td>ä¼šå¯¼è‡´æ¬ æ‹Ÿåˆunder-fittingï¼Œä¹Ÿå³over-generalization)</td><td>ä¸€èˆ¬ä¸ç”¨</td><td>ç›´è§‚ç†è§£ï¼Œå½“ä¸€ä¸ªæ¨¡å‹å¯¹äºä¸€ä¸ªè‡ªå·±è®¤çŸ¥ä¹‹å¤–äº‹åŠ¡ï¼Œä¸æ˜ç¡®è¡¨è¾¾æ€åº¦æ—¶ï¼Œå…¶å®æ˜¯ä¸€ç§â€œç¼ºä¹è‡ªä¿¡â€çš„è¡¨ç°ï¼Œä¹Ÿä¼šå¯¹æ‰€æœ‰å·²çŸ¥å’ŒæœªçŸ¥çš„äº‹åŠ¡åŒæ ·ä¿æŒâ€œä¸­åº¸â€ã€‚</td></tr><tr><td>Closed World Assumption</td><td>ä¼šå¯¼è‡´over-fittingï¼Œå³æ³›åŒ–ç¨‹åº¦å¾ˆä½</td><td>ä¸€èˆ¬ä¸ç”¨</td><td>è¿™ç§å‡è®¾å¤ªè¿‡ç»å¯¹ï¼Œåªè¦æˆ‘ä¸çŸ¥é“ï¼Œå°±æ˜¯é”™è¯¯çš„ï¼Œæœ‰ç‚¹è¿‡äºâ€œè‡ªè´Ÿâ€ï¼Œè¿™ç§æ¨¡å‹é™¤äº†è‡ªå·±çŸ¥é“çš„äº‹åŠ¡ï¼Œå¯¹å…¶ä»–å‡ä¸è®¤å¯ã€‚</td></tr><tr><td>Local Closed World Assumption</td><td>æ ¹æ®å·²æœ‰çš„çŸ¥è¯†ï¼Œç”Ÿæˆä¸€éƒ¨åˆ†â€œå‡â€çŸ¥è¯†</td><td>å¯ç”¨</td><td></td></tr><tr><td>Stochastic Local Closed World Assumption</td><td>æ ¹æ®å·²æœ‰çš„çŸ¥è¯†ï¼Œç”Ÿæˆä¸€éƒ¨åˆ†â€œå‡â€çŸ¥è¯†ï¼Œä»è¿™äº›å‡çŸ¥è¯†ä¸­è¿›è¡Œé‡‡æ ·</td><td>å¯ç”¨</td><td></td></tr></tbody></table><h1 id="å¦‚ä½•ç”Ÿæˆâ€œå‡â€çŸ¥è¯†ï¼Ÿ"><a href="#å¦‚ä½•ç”Ÿæˆâ€œå‡â€çŸ¥è¯†ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç”Ÿæˆâ€œå‡â€çŸ¥è¯†ï¼Ÿ"></a>å¦‚ä½•ç”Ÿæˆâ€œå‡â€çŸ¥è¯†ï¼Ÿ</h1><h2 id="é—®é¢˜å®šä¹‰"><a href="#é—®é¢˜å®šä¹‰" class="headerlink" title="é—®é¢˜å®šä¹‰"></a>é—®é¢˜å®šä¹‰</h2><p>æ¥è‡ªäº <a href="https://pykeen.readthedocs.io/en/stable/reference/training.html">source</a>ã€‚</p><blockquote><p>Throughout the following explanations of training loops, we will assume the set of entities $\mathcal{E}$ , set of relations $\mathcal{R}$ , set of possible triples $\mathcal{T} = \mathcal{E} \times \mathcal{R} \times \mathcal{E}$. We stratify $\mathcal{T}$ into the disjoint union of positive triples $\mathcal{T^{+}} \subseteq \mathcal{T}$ and negative triples $\mathcal{T^{-}} \subseteq \mathcal{T}$ such that $\mathcal{T^{+}} \cap \mathcal{T^{-}} = \emptyset$ and $\mathcal{T^{+}} \cup \mathcal{T^{-}} = \mathcal{T}$ .</p></blockquote><h2 id="â€œæœ´ç´ â€çš„æ–¹æ³•"><a href="#â€œæœ´ç´ â€çš„æ–¹æ³•" class="headerlink" title="â€œæœ´ç´ â€çš„æ–¹æ³•"></a>â€œæœ´ç´ â€çš„æ–¹æ³•</h2><p>å¯¹äºä¸€ä¸ªå·²æœ‰çš„çŸ¥è¯†å›¾è°±è€Œè¨€ï¼Œæ ¹æ®Closed World Assumptionï¼Œä»»ä½•ä¸åœ¨è¯¥çŸ¥è¯†å›¾è°±å†…çš„çŸ¥è¯†æˆ–è€…ä¸‰å…ƒç»„éƒ½æ˜¯å‡çŸ¥è¯†ã€‚</p><p>ä¸€ç§â€œæœ´ç´ â€çš„è´Ÿæ ·æœ¬çš„ç”ŸæˆåŠæ³•æ˜¯ï¼š</p><p>å¯¹äºä¸‰å…ƒç»„ï¼Œå¯èƒ½çš„ç»„åˆæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li>N(head): ä»£è¡¨headå®ä½“çš„ç§ç±»æ•°é‡ï¼›</li><li>N(rel): ä»£è¡¨relationçš„ç§ç±»æ•°é‡ï¼›</li><li>N(tail)ï¼šä»£è¡¨tailå®ä½“çš„ç§ç±»æ•°é‡ï¼›</li></ul><p>åˆ™å¯èƒ½çš„ä¸‰å…ƒç»„çš„æ•°é‡ä¸ºï¼š</p><p>$$<br>N(head) \times N(rel) \times N(tail)<br>$$</p><p>å½“åˆ é™¤çŸ¥è¯†å›¾è°±å†…çš„ä¸‰å…ƒç»„æ—¶ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯æ‰€æœ‰çš„è´Ÿæ ·æœ¬ã€‚è¿™ç§è´Ÿæ ·æœ¬çš„æ•°é‡æ˜¯å·¨å¤§çš„ã€‚</p><p>ä¸€ç§å¯ä»¥è§£å†³æ–¹æ³•æ˜¯ï¼šé‡‡æ ·ã€‚å…·ä½“çš„é‡‡æ ·æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œä¸èµ˜è¿°äº†ã€‚</p><p>ä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬çš„æ¨¡å‹éœ€è¦<strong>æ›´å®¹æ˜“åœ°å¯¹çœŸçŸ¥è¯†è¿›è¡Œåˆ¤æ–­</strong>ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><p><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTM15gYJOEGxQqr5jBsWUzpAw6RJjvCzus8MA&usqp=CAU" alt="é«˜åœ†åœ†"></p><p>å¯¹æ¯”ï¼Œé«˜åœ†åœ†æ¯”å¨œæ‰æ¼‚äº®ï¼Œæˆ‘ä»¬å‡è®¾å®ƒæ˜¯å¯¹çš„ï¼Œå½“å‡ºç°å‡¤å§æ—¶ï¼Œæ¨¡å‹å·²ç»è®¤è¯†é«˜åœ†åœ†ï¼Œå®ƒèƒ½å¾—å‡ºé«˜åœ†åœ†æ¯”å‡¤å§æ¼‚äº®ã€‚ä½†æ˜¯å½“å¾—åˆ°çš„è´Ÿæ ·æœ¬ä¸ºï¼šæ¢…æ ¹ç¦å…‹æ–¯ä¸å…‹åŠ³é¦¥æ—¶ï¼Œä½ è§‰å¾—æ¨¡å‹å¯¹ï¼š</p><ul><li>é«˜åœ†åœ†ä¸å‡¤å§</li><li>æ¢…æ ¹ç¦å…‹æ–¯ä¸å…‹åŠ³é¦¥</li></ul><p>å“ªä¸ªå®¹æ˜“åˆ¤æ–­ã€‚</p><h2 id="LCWAä¸‹çš„è´Ÿæ ·æœ¬ç”Ÿæˆ"><a href="#LCWAä¸‹çš„è´Ÿæ ·æœ¬ç”Ÿæˆ" class="headerlink" title="LCWAä¸‹çš„è´Ÿæ ·æœ¬ç”Ÿæˆ"></a>LCWAä¸‹çš„è´Ÿæ ·æœ¬ç”Ÿæˆ</h2><p>åŸºäºä¸Šè¿°çš„æƒ…å†µï¼Œåœ¨Local Closed World Assumptionä¸‹ï¼Œ<strong>è´Ÿæ ·æœ¬çš„ç”ŸæˆåŸºäºä»¥ä¸‹åŸåˆ™ï¼šä»»æ„æ›¿æ¢ä¸‰å…ƒç»„çš„ä»»æ„ä¸€ä¸ªä½ç½®ï¼Œå¾—åˆ°çš„è´Ÿæ ·æœ¬ä¸å±äºçŸ¥è¯†å›¾è°±æœ¬èº«ï¼Œå³è®¤ä¸ºæ˜¯è´Ÿæ ·æœ¬ã€‚</strong></p><p>æ ¹æ®è¿™ä¸ªåŸåˆ™ï¼Œå¯ä»¥æœ‰ä¸‰ç§ç±»å‹çš„æ“ä½œï¼š</p><ul><li><p>head generation: $(h, r, t)$ -&gt; $(h, r, t_i)$;</p><p>   In this setting, for any triple $(h, r, t) \in \mathcal{K}$ that has been observed, a set<br>   $\mathcal{T^{-}} (h, r) $ of negative examples is created by considering all triples $(h, r, t_i) \notin \mathcal{K}$ as false.</p></li><li><p>relation generation: $(h, r, t)$ -&gt; $(h, r_i, t)$; </p><p>   In this setting, for any triple $(h, r, t) \in \mathcal{K}$ that has been observed, a set<br>   $\mathcal{T^{-}} (h, t) $ of negative examples is created by considering all triples $(h, r_i, t) \notin \mathcal{K}$ as false.</p></li><li><p>tail generation: $(h, r, t)$ -&gt; $(h_i, r, t)$;</p><p>   In this setting, for any triple $(h, r, t) \in \mathcal{K}$ that has been observed, a set<br>   $\mathcal{T^{-}} (r, t) $ of negative examples is created by considering all triples $(h_i, r, t) \notin \mathcal{K}$ as false.</p></li></ul><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨Local Closed World Assumptionä¸‹ï¼Œå¾ˆå¤šçš„å®ç°éƒ½åªä¼šè€ƒè™‘head generationå’Œrelation generationï¼Œä¸ä¼šè€ƒè™‘tail generationã€‚</p><h2 id="sLCWAä¸‹çš„è´Ÿæ ·æœ¬ç”Ÿæˆ"><a href="#sLCWAä¸‹çš„è´Ÿæ ·æœ¬ç”Ÿæˆ" class="headerlink" title="sLCWAä¸‹çš„è´Ÿæ ·æœ¬ç”Ÿæˆ"></a>sLCWAä¸‹çš„è´Ÿæ ·æœ¬ç”Ÿæˆ</h2><p>ä»Local Closed World Assumptionä¸­çš„ä¸‰ç§æƒ…å†µä¸‹è¿›è¡Œçš„é›†åˆè¿›è¡Œé‡‡æ ·ï¼Œå³ï¼š</p><ul><li>$(h, r, t)$ -&gt; $(h, r, t_i)$</li><li>$(h, r, t)$ -&gt; $(h, r_i, t)$</li><li>$(h, r, t)$ -&gt; $(h_i, r, t)$</li></ul><p>ä½†ä»å®é™…æ¥çœ‹ï¼Œæœ‰æ—¶å€™åªéœ€è¦$(h, r, t)$ -&gt; $(h, r, t_i)$å’Œ$(h, r, t)$ -&gt; $(h_i, r, t)$ï¼Œè€Œæ²¡æœ‰è€ƒè™‘å…³ç³»çš„æ›¿æ¢ï¼Œç„¶åä»è¿™ä¸¤è€…çš„é›†åˆä¸­è¿›è¡Œé‡‡æ ·ã€‚</p><table><thead><tr><th>Assumptions</th><th>Local Closed World Assumption</th><th>Stochastic Local Closed World Assumption</th></tr></thead><tbody><tr><td>è´Ÿæ ·æœ¬æ¥æº</td><td>$(h, r, t)$ -&gt; $(h, r, t_i)$ï¼Œ $(h, r, t)$ -&gt; $(h, r_i, t)$</td><td>$(h, r, t)$ -&gt; $(h, r, t_i)$ï¼Œ$(h, r, t)$ -&gt; $(h_i, r, t)$</td></tr><tr><td>æ˜¯å¦è¦é‡‡æ ·</td><td>ä¸éœ€è¦</td><td>éœ€è¦</td></tr><tr><td>è¿‡æ»¤æ­£æ ·æœ¬</td><td>éœ€è¦</td><td>éœ€è¦</td></tr></tbody></table><h2 id="ä¾‹å­è¯´æ˜"><a href="#ä¾‹å­è¯´æ˜" class="headerlink" title="ä¾‹å­è¯´æ˜"></a>ä¾‹å­è¯´æ˜</h2><p>è¿™ä¸ªå…·ä½“çš„å¸®åŠ©ç†è§£çš„ä¾‹å­æ¥è‡ªäº:<br><a href="https://arxiv.org/abs/2006.13365">Bringing Light Into the Dark: A Large-scale Evaluation of Knowledge Graph Embedding Models Under a Unified Framework</a></p><p><img src="https://pykeen.readthedocs.io/en/stable/_images/training_approaches.png"></p><p>è¯¥å›¾å¯¹æ¯”äº†è´Ÿæ ·æœ¬åœ¨ï¼š</p><ul><li>Local Closed World Assumption</li><li>Stochastic Local Closed World Assumption<br>ä¸¤ç§ç”Ÿæˆç­–ç•¥ã€‚</li></ul><p>å¯¹äºåŒä¸€ç§å…³ç³» <code>works_at</code>, çº¢è‰²éƒ¨åˆ†æ˜¯true triplesã€‚</p><ul><li>åœ¨LCWAç”Ÿæˆçš„æ˜¯æ·±è“è‰²å¯¹åº”çš„è´Ÿæ ·æœ¬ï¼Œå®ƒä»¬éƒ½æ²¡åœ¨åŸå§‹çš„çŸ¥è¯†å›¾è°±ä¸Šã€‚</li><li>åœ¨sLCWAç”Ÿæˆçš„æ˜¯æµ…è“è‰²å¯¹åº”çš„è´Ÿæ ·æœ¬ï¼Œå¹¶ä»å…¶ä¸­é‡‡æ ·ï¼Œå®ƒä»¬éƒ½æ²¡åœ¨åŸå§‹çš„çŸ¥è¯†å›¾è°±ä¸Šã€‚</li><li>é»„è‰²éƒ¨åˆ†åˆ™ä¸åœ¨è´Ÿæ ·æœ¬çš„è€ƒè™‘ä¹‹åˆ—ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç§‘å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çŸ¥è¯†å›¾è°± </tag>
            
            <tag> è¡¨ç¤ºå­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®ºæ–‡é˜…è¯» - Convolutional 2D Knowledge Graph Embeddings</title>
      <link href="/2021/11/14/shu-ju-ke-xue/convkb/"/>
      <url>/2021/11/14/shu-ju-ke-xue/convkb/</url>
      
        <content type="html"><![CDATA[<h1 id="1-é—®é¢˜æè¿°"><a href="#1-é—®é¢˜æè¿°" class="headerlink" title="1. é—®é¢˜æè¿°"></a>1. é—®é¢˜æè¿°</h1><p>Link predictionæ˜¯åœ¨çŸ¥è¯†å›¾è°±ä¸­é¢„æµ‹å®ä½“ä¹‹é—´çš„å…³ç³»çš„ä»»åŠ¡ï¼Œåœ¨æŸ¥è¯¢æ‰©å±•å’Œè¯­ä¹‰å…³ç³»é¢„æµ‹ä¸­éœ€è¦è§£å†³çš„ï¼Œä¹Ÿæ˜¯æœ¬è®ºæ–‡è‡´åŠ›äºè§£å†³çš„ã€‚</p><p>åœ¨è§£å†³Link prediction, å…¶æ ¸å¿ƒè€ƒè™‘å› ç´ åœ¨äºï¼š</p><blockquote><p>link predictors should scale in a manageable way with respect to <strong>both the number of parameters and computational costs</strong> to be applicable in real-world scenarios.</p></blockquote><p>åŒæ—¶éœ€è¦è€ƒè™‘è®¡ç®—æˆæœ¬ï¼Œè¿˜æ˜¯è€ƒè™‘æ¨¡å‹æœ¬èº«çš„é¢„æµ‹æ€§èƒ½ï¼Œè€Œå‚æ•°æ•°é‡æ˜¯æ¨¡å‹æ€§èƒ½çš„ä¸€ä¸ªæŒ‡æ ‡ã€‚</p><p>ä¹‹å‰æ–¹æ³•çš„é—®é¢˜åœ¨äºï¼š</p><blockquote><p>Previous work on link prediction has <strong>focused on shallow, fast models</strong> which can scale to large knowledge graphs. However, these models <strong>learn less expressive features</strong> than deep, multi-layer models which potentially limits performance.</p></blockquote><p>ç®€å•æ¥è®²ï¼Œä¹‹å‰çš„æ–¹æ³•è¿‡äºå…³æ³¨åœ¨å¤§å‹çŸ¥è¯†å›¾è°±ä¸Šè¿›è¡Œå¿«é€Ÿçš„å­¦ä¹ ï¼Œè¿™éœ€è¦ç½‘ç»œä¸å¤ªå¤æ‚ã€‚ä½†æ˜¯å…¶æ¶æ„å­¦ä¹ åˆ°çš„ç‰¹å¾ä¸å¤Ÿä¸°å¯Œï¼Œæ€§èƒ½ä¸å¤Ÿå¼ºã€‚</p><p>ä¸ºäº†æé«˜çŸ¥è¯†å›¾è°±ä¸Šçš„é¢„æµ‹æ€§èƒ½ï¼Œä»è€Œæé«˜è¡¨ç°åŠ›ï¼Œåœ¨ä¸ä½¿ç”¨æ·±å±‚æ¨¡å‹çš„å‰æä¸‹ï¼Œåªèƒ½æé«˜embedding sizeï¼Œä½†æ˜¯éš¾ä»¥åº”ç”¨åˆ°å¤§å‹çŸ¥è¯†å›¾è°±ä¸Šã€‚</p><p>æ¢ä¸€ç§æ€è·¯ï¼Œä½¿ç”¨æ·±åº¦æ¨¡å‹ï¼Œå°±å¯ä»¥å‡å°‘embedding sizeï¼Œå› ä¸ºå¯ä»¥å­¦åˆ°é«˜å±‚ç‰¹å¾ï¼Œä½†æ˜¯åœ¨è¿‡å¾€çš„æ¨¡å‹ä¸­ï¼Œæ·±åº¦æ¨¡å‹ä¸­çš„ä½¿ç”¨çš„æ¶æ„éƒ½æ˜¯å…¨è¿æ¥å±‚ï¼Œå› æ­¤ä¼šé€ æˆè¿‡æ‹Ÿåˆé—®é¢˜ã€‚</p><p>ä»¥ä¸Šé—®é¢˜çš„ä¸€ç§è§£å†³åŠæ³•æ˜¯ï¼š</p><blockquote><p>use parameter efï¬cient, fast operators which can be composed into deep networks.</p></blockquote><p>å› æ­¤ï¼Œè‡ªç„¶è€Œç„¶ï¼Œå·ç§¯çš„æ“ä½œå°±è¢«å¼•å…¥äº†ï¼Œå› ä¸ºä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>parameter efï¬cient</li><li>fast to compute: highly optimised GPU implementations</li></ul><p>æœ¬æ–‡æå‡ºæ¥çš„æ¨¡å‹ï¼šConvE, a multi-layer convolutional network model for link predictionï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºäºå·ç§¯çš„å¤šå±‚æ¶æ„ã€‚å®ƒçš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š</p><ul><li><strong>highly parameter efï¬cient</strong>: yielding the same performance as <strong>DistMult</strong> and <strong>R-GCN</strong> with 8x and 17x fewer parameters;</li><li><strong>particularly effective at modelling nodes with high indegree</strong>: common in highlyconnected, complex knowledge graphs such as Freebase and YAGO3;</li></ul><h1 id="2-æ–¹æ³•"><a href="#2-æ–¹æ³•" class="headerlink" title="2. æ–¹æ³•"></a>2. æ–¹æ³•</h1><h2 id="2-1-1D-vs-2D-Convolutions"><a href="#2-1-1D-vs-2D-Convolutions" class="headerlink" title="2.1 1D vs 2D Convolutions"></a>2.1 1D vs 2D Convolutions</h2><p>NLPä»»åŠ¡ä¸­ï¼Œå¤šæ•°ä½¿ç”¨1Då·ç§¯è¿›è¡Œæ“ä½œï¼Œå³åœ¨æ–‡æœ¬çš„åºåˆ—æ–¹å‘ä¸Šè¿›è¡Œå·ç§¯æ“ä½œï¼Œæœ¬æ–‡ä½¿ç”¨2Då·ç§¯ï¼Œä¸ä»…åœ¨æ–‡æœ¬åºåˆ—æ–¹å‘è¿›è¡Œæ“ä½œï¼ŒåŒæ—¶è¿˜åœ¨embeddingçš„çºµå‘ä¸Šè¿›è¡Œæ“ä½œï¼Œè¿™ä½¿ç”¨å·ç§¯æ“ä½œæ•æ‰åˆ°çš„äº¤äº’ä¿¡æ¯æ›´ä¸°å¯Œã€‚</p><p>è¿™ç§æ“ä½œçš„ä¼˜ç‚¹åœ¨äºï¼š increases the expressiveness of our model through additional points of interaction between embeddings.</p><p>è¿™ç§æ“ä½œå¦‚ä½•ç†è§£ï¼Ÿ</p><p>å½“æŠŠ1Dçš„embedding è¿›è¡Œæ‹¼æ¥æ—¶ï¼Œä½ ä»ç„¶éœ€è¦å¾—åˆ°1Dçš„embeddingï¼Œé‚£ä¹ˆæ‹¼æ¥çš„æ–¹æ³•åªèƒ½æ˜¯åœ¨ä¸€ç»´ä¸Šï¼Œå¦‚ä¸‹ä¾‹ï¼š</p><p><img src="/images/conve/lex0.png"></p><p>å…¶ä¸­å‡å¦‚ä½ çš„å·ç§¯æ ¸k=3, é‚£ä¹ˆèƒ½æ•æ‰åˆ°çš„äº¤äº’åªæœ‰æœ€ä¸´è¿‘çš„aå’Œb, é™¤éä½ è®²å·ç§¯æ ¸çš„å°ºå¯¸å¢åŠ ï¼Œè¿™æ ·æ‰èƒ½æ•æ‰åˆ°æ›´å¤šçš„äº¤äº’ã€‚</p><p>å½“æ¢åˆ°2Dæ—¶ï¼Œç”±äºæ˜¯åœ¨äºŒç»´çš„æ–¹å‘ä¸Šè¿›è¡Œæ‹¼æ¥å’Œå †å ï¼Œå› æ­¤å…¶æ–¹å¼å¯ä»¥æœ‰å¤šç§ï¼Œå› æ­¤å½“å·ç§¯è¿›è¡Œæ“ä½œæ—¶ï¼Œå¯ä»¥æ•æ‰çš„ä¿¡æ¯å¯ä»¥æ˜¯å·¦å³æ–¹å‘çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸Šä¸‹æ–¹å‘çš„ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="/images/conve/lex1.png"></p><p>å¦‚æœä¸¤ç§å…ƒç´ ä»£è¡¨çš„æ„ä¹‰ä¸åŒ, é‚£ä¹ˆäº¤æ¢å®ƒä»¬çš„æ‹¼æ¥æ–¹å¼è¿˜èƒ½è¿›ä¸€æ­¥çš„æå‡äº¤äº’æ¬¡æ•°:</p><p><img src="/images/conve/lex2.png"></p><p>å› æ­¤åœ¨2Dæ¡ä»¶ä¸‹ï¼Œæ•æ‰åˆ°çš„äº¤äº’ä¿¡æ¯æ•°é‡æ˜¯ä¸å•å•ä¸å·ç§¯æ ¸æœ‰å…³ï¼Œè€Œä¸”è¿˜ä¸çŸ©é˜µçš„å°ºå¯¸æœ‰å…³ã€‚</p><h2 id="2-2-é—®é¢˜å½¢å¼åŒ–"><a href="#2-2-é—®é¢˜å½¢å¼åŒ–" class="headerlink" title="2.2 é—®é¢˜å½¢å¼åŒ–"></a>2.2 é—®é¢˜å½¢å¼åŒ–</h2><p>link prediction å¯ä»¥è®¤ä¸ºæ˜¯ a pointwise learning to rank problemã€‚å…·ä½“è€Œè¨€ï¼Œå¯¹æ¯ä¸ªè¾“å…¥çš„ä¸‰å…ƒç»„ triples: $x = (s, r, o)$, ç›®æ ‡æ˜¯ learning a scoring function $\psi(x)$, å…¶ç»“æœæ­£æ¯”äºxä¸ºtrueçš„likelihoodã€‚</p><h2 id="2-3-Neural-Link-Predictors"><a href="#2-3-Neural-Link-Predictors" class="headerlink" title="2.3 Neural Link Predictors"></a>2.3 Neural Link Predictors</h2><p>è¿™ä¸ªç»„ä»¶æ˜¯å¹²å˜›çš„ï¼Œæ·±åº¦å­¦ä¹ ä¸­æ€»æœ‰ä¸€äº›ä¸ºäº†å”¬äººæå‡ºçš„åè¯ï¼Œå…¶å®è¿™ä¸ªpredictorså°±æ˜¯ä¸€ä¸ªå¤šå±‚ç¥ç»ç½‘ç»œï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>encoding component: å¯¹ $x = (s, r, o)$, è¯¥éƒ¨åˆ†å°†subjectå’Œobjectæ˜ å°„ä¸ºembeddings, $e_s$, $e_o$; </li><li>scoring component: ä½¿ç”¨ $\psi_r$ å¯¹embeddingsè¯„åˆ†ï¼Œå³: $\psi(s, r, o) = \psi_r(e_s, e_o)$ </li></ul><p>ä¸€äº›ç»å¸¸ä½¿ç”¨çš„å…¸å‹predictorså¦‚ä¸‹: </p><p><img src="/images/conve/1.png" alt="ç»å¸¸ä½¿ç”¨çš„å…¸å‹predictors"></p><h2 id="2-4-æ¨¡å‹ä¸»è¦å†…å®¹"><a href="#2-4-æ¨¡å‹ä¸»è¦å†…å®¹" class="headerlink" title="2.4 æ¨¡å‹ä¸»è¦å†…å®¹"></a>2.4 æ¨¡å‹ä¸»è¦å†…å®¹</h2><h3 id="2-4-1-Scoring-function"><a href="#2-4-1-Scoring-function" class="headerlink" title="2.4.1 Scoring function"></a>2.4.1 Scoring function</h3><p>scoring functionå®šä¹‰å¦‚ä¸‹:<br>$$<br>\psi_{r}\left(\mathbf{e}_s, \mathbf{e}_o\right)=f\left(\operatorname{vec}\left(f\left(\left[\overline{\mathbf{e}_s} ; \overline{\mathbf{r}_r}\right] \ast \omega\right)\right) \mathbf{W}\right) \mathbf{e}_o<br>$$</p><p>ä¸€äº›ç¬¦å·å¦‚ä¸‹:</p><ul><li><p>$\mathbf{e}_s, \mathbf{e}_o$ åˆ†åˆ«ä»£è¡¨å¤´å®ä½“å’Œå°¾å®ä½“çš„Embeddingï¼›</p></li><li><p>$\overline{\mathbf{e}_s}, \overline{\mathbf{r}_r}$ åˆ†åˆ«ä»£è¡¨Reshapeåçš„å¤´å®ä½“å’Œå…³ç³»å‘é‡ï¼Œè¿™ç§æ“ä½œå¦‚ä¸‹ï¼šå¦‚æœ $\mathbf{e}_s, \mathbf{r}_r \in \mathbb{R}^k$, é‚£ä¹ˆ $\overline{\mathbf{e}_s}, \overline{\mathbf{r}_r} \in \mathbb{R}^{k_w \times k_h} $, åˆ™ $k = k_w  k_h$</p></li><li><p>$\omega$ ä»£è¡¨å·ç§¯æ ¸ï¼›</p></li><li><p>$\mathbf{W}$ ä»£è¡¨æŠ•å½±çŸ©é˜µï¼›</p></li></ul><h3 id="2-4-2-æ¨¡å‹æ¶æ„"><a href="#2-4-2-æ¨¡å‹æ¶æ„" class="headerlink" title="2.4.2 æ¨¡å‹æ¶æ„"></a>2.4.2 æ¨¡å‹æ¶æ„</h3><p><img src="/images/conve/2.png" alt="ConvE"></p><p><code>ConvE</code>çš„æ•´ä¸ªè®­ç»ƒè¿‡ç¨‹å¦‚ä¸‹.</p><ul><li>å…ˆé€šè¿‡Embeddingçš„æ–¹å¼åˆ†åˆ«è·å¾—å¤´å®ä½“è¡¨ç¤º $\mathbf{e}_s$ å’Œå…³ç³»è¡¨ç¤º $\mathbf{r}_r$ ï¼›</li><li>å°†å¤´å®ä½“å’Œå…³ç³»è¡¨ç¤ºå…ˆ<code>Concat</code>èµ·æ¥, ç„¶åå°†å…¶<code>Reshape</code>åˆ°æŸä¸€ç§å°ºå¯¸, æ­¤æ—¶å¤´å®ä½“å’Œå…³ç³»çš„è¡¨ç¤ºè®°ä¸º $\left[ \overline{\mathbf{e}_s} ; \overline{\mathbf{r}_r} \right]$ï¼›</li><li>æ¥ç€åˆ©ç”¨å·ç§¯æŠ½å–Reshapeåçš„äºŒç»´å‘é‡, ä¹Ÿå°±æ˜¯å¯¹å¤´å®ä½“å’Œå…³ç³»çš„äº¤äº’ä¿¡æ¯è¿›è¡Œæ•æ‰ï¼›</li><li>åˆ©ç”¨å·ç§¯(å¯ä»¥æ˜¯ä»»æ„æ•°é‡çš„å·ç§¯æ ¸)æŠ½å–å®Œä¿¡æ¯å, å°†æ‰€æœ‰çš„ç‰¹å¾æ‰“å¹³æˆä¸€ä¸ªä¸€ç»´å‘é‡ï¼›</li><li>é€šè¿‡æŠ•å½±çŸ©é˜µ $\mathbf{W}$ æŠ•å½±åˆ°ä¸€ä¸ªä¸­é—´å±‚ä¸­ï¼Œè¾“å‡ºçš„å°ºå¯¸ä¸embedding sizeç›¸åŒï¼Œä»¥ä¾¿ä¸å°¾å®ä½“è¡¨ç¤º $\mathbf{e}_o$ åšå†…ç§¯, è·å¾—ç›¸ä¼¼åº¦, å³Logitsï¼›</li><li>è¿™ç§æ–¹å¼é€šè¿‡å†…ç§¯æ¥æ¯”è¾ƒæ‰€è·å‘é‡ä¸å°¾å®ä½“çš„ç›¸ä¼¼åº¦, è¶Šç›¸ä¼¼å¾—åˆ†è¶Šé«˜.</li><li>ç„¶åå°†Logitsç»è¿‡ $\sigma$ å‡½æ•°, å¾—åˆ°æ¯ä¸ªå®ä½“çš„æ¦‚ç‡ï¼š  $$p=\sigma(\psi_r\left(\mathbf{e}_s, \mathbf{e}_o \right))$$</li></ul><p>ä¼˜åŒ–æ—¶çš„æŸå¤±å‡½æ•°é‡‡ç”¨BCE(binary cross-entropy loss)ï¼š</p><p>$$\mathcal{L}(p, t)=-\frac{1}{N} \sum_i\left(t_i \cdot \log \left(p_i \right)+\left(1-t_i \right) \cdot \log \left(1-p_i \right)\right)$$</p><p>$t$ æ˜¯å°¾å®ä½“çš„one-hot vector. å¯¹äºå’Œè¾“å…¥çš„ $(s, r, ?)$ åŒ¹é…çš„ä½ç½®ä¸º1ï¼Œå…¶ä½™ä¸º0.</p><h3 id="2-4-3-è®­ç»ƒtips"><a href="#2-4-3-è®­ç»ƒtips" class="headerlink" title="2.4.3 è®­ç»ƒtips"></a>2.4.3 è®­ç»ƒtips</h3><h4 id="2-4-3-1-åŸºæœ¬tips"><a href="#2-4-3-1-åŸºæœ¬tips" class="headerlink" title="2.4.3.1 åŸºæœ¬tips"></a>2.4.3.1 åŸºæœ¬tips</h4><ul><li>rectiï¬ed linear units: as the non-linearity $f$, åŠ å¿«è®­ç»ƒï¼›</li><li>batch normalization: after each layer to stabilise</li><li>regularise: dropout</li><li>optimiser: Adam</li><li>label smoothing: to lessen overï¬tting due to saturation of output non-linearities at the labels</li></ul><h4 id="2-4-3-2-åŠ é€Ÿè¯„ä¼°tips"><a href="#2-4-3-2-åŠ é€Ÿè¯„ä¼°tips" class="headerlink" title="2.4.3.2 åŠ é€Ÿè¯„ä¼°tips"></a>2.4.3.2 åŠ é€Ÿè¯„ä¼°tips</h4><p>å·ç§¯æ“ä½œæ¶ˆè€—å¤§é‡æ—¶é—´</p><blockquote><p>convolution consumes about 75-90% of the total computation time, thus it is important to minimise the number of convolution operations to speed up computation</p></blockquote><p>æ€è·¯1ï¼šå¢åŠ batch sizeåŠ é€Ÿï¼Œä½†æ˜¯CNNä¼šä½¿å¾—GPUçš„å†…å­˜è¶…è¿‡é™åˆ¶ï¼›</p><p>è§£å†³åŠæ³•ï¼š1-N scoring</p><p>ConvEæœ€åçš„è¾“å‡º, èƒ½è·å¾—å¯¹æ‰€æœ‰å®ä½“ç›¸å…³çš„Logits, è¿™æ ·å°±èƒ½<strong>å¯¹æ‰€æœ‰çš„å°¾å®ä½“åŒæ—¶æ‰“åˆ†</strong>,Â <strong>è€Œä¸ç”¨è€ƒè™‘é‡‡æ ·çš„é—®é¢˜</strong>. åœ¨åŸæ–‡ä¸­è¿™ç§æ‰“åˆ†æ–¹å¼è¢«ç§°ä¸º<strong>1-N Scoring</strong>.</p><p>è¿‡å»è¯„ä¼°æ—¶ï¼Œéœ€è¦é‡‡æ ·è´Ÿæ ·æœ¬ï¼Œè¿›è¡Œ1-1è¯„ä¼°ã€‚ç°åœ¨è¿™ç§æ–¹å¼èƒ½æå¤§åœ°åŠ å¿«Evaluationçš„é€Ÿåº¦, å› ä¸ºè´Ÿé‡‡æ ·åªèƒ½å¯¹å•ä¸€çš„ä¸‰å…ƒç»„æ‰“åˆ†, è€Œè¿™ç§æ–¹å¼èƒ½åŒæ—¶å¯¹æ‰€æœ‰çš„å°¾å®ä½“åŒæ—¶æ‰“åˆ†ã€‚è¿™ç§æ€æƒ³èƒ½å¤Ÿåº”ç”¨äºæ‰€æœ‰çš„1-1 scoring Model.</p><p>è¿™ç§æ–¹å¼å…¶å®æœ¬è´¨ä¸Šåˆ©ç”¨GPUå¹¶è¡Œæ‰§è¡Œçš„ç‰¹ç‚¹ï¼Œåœ¨æ¶æ„ä¸Šå°†è®­ç»ƒå’Œè¯„ä¼°åŒæ—¶è€ƒè™‘ï¼Œé€šè¿‡å°†å¹³è¡¡è®¡ç®—æ€§èƒ½å’Œæ”¶æ•›é€Ÿåº¦ï¼Œæ¥ä½¿å¾—è¯„ä¼°è¿‡ç¨‹åŠ å¿«ã€‚</p><h1 id="3-å®éªŒè¯„ä¼°"><a href="#3-å®éªŒè¯„ä¼°" class="headerlink" title="3. å®éªŒè¯„ä¼°"></a>3. å®éªŒè¯„ä¼°</h1><h2 id="3-1-æ•°æ®é›†"><a href="#3-1-æ•°æ®é›†" class="headerlink" title="3.1 æ•°æ®é›†"></a>3.1 æ•°æ®é›†</h2><table><thead><tr><th>æ•°æ®é›†</th><th>æ¥æº</th><th>å…³ç³»</th><th>å®ä½“</th><th>ä¸‰å…ƒç»„</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>WN18</td><td>a subset of WordNet</td><td>18</td><td>40943</td><td>151442</td><td>consist of hyponym and hypernym relations and, for such a reason, WN18 tends to follow a strictly hierarchical structure. ç”¨WN18RRæ›¿ä»£ã€‚</td></tr><tr><td>FB15k</td><td>a subset of Freebase</td><td>1345</td><td>14951</td><td>â€”â€”</td><td>A large fraction of content in this knowledge graph describes facts about movies, actors, awards, sports, and sport teams. ç”¨FB15k-237æ›¿ä»£ã€‚</td></tr><tr><td>YAGO3-10</td><td>a subset of YAGO3</td><td>37</td><td>123182</td><td>entities which have a minimum of 10 relations each</td><td>Most of the triples deal with descriptive attributes of people, such as citizenship, gender, and profession.</td></tr><tr><td>Countries</td><td></td><td></td><td></td><td></td><td>a benchmark dataset that is useful to evaluate a modelâ€™s ability to learn long-range dependencies between entities and relations. It consists of three sub-tasks which increase in difï¬culty in a step-wise fashion, where the minimum pathlength to ï¬nd a solution increases from 2 to 4.</td></tr></tbody></table><h2 id="3-2-è¶…å‚"><a href="#3-2-è¶…å‚" class="headerlink" title="3.2 è¶…å‚"></a>3.2 è¶…å‚</h2><ul><li><p>é€‰æ‹©æ–¹æ³•: <code>grid search</code> according to the <code>mean reciprocal rank (MRR)</code> on the validation set</p></li><li><p>é€‰å®šèŒƒå›´:</p><ul><li><code>embedding dropout</code>: 0.0, 0.1, 0.2</li><li><code>feature map dropout</code>: 0.0, 0.1, 0.2, 0.3</li><li><code>projection layer dropout</code>: 0.0, 0.1, 0.3, 0.5</li><li><code>embedding size</code>: 100, 200</li><li><code>batch size</code>: 64, 128, 256</li><li><code>learning rate</code>: 0.001, 0.003</li><li><code>label smoothing</code>: 0.0, 0.1, 0.2, 0.3</li></ul></li><li><p>æœ€ä½³å‚æ•°:</p><ul><li>WN18, YAGO3-10 and FB15k<ul><li><code>embedding dropout</code>: 0.2</li><li><code>feature map dropout</code>: 0.2</li><li><code>projection layer dropout</code>: 0.3</li><li><code>embedding size</code>: 200</li><li><code>batch size</code>: 128</li><li><code>learning rate</code>: 0.001</li><li><code>label smoothing</code>: 0.1</li></ul></li><li>Countries dataset<ul><li><code>embedding dropout</code>: 0.3</li><li><code>hidden dropout</code>: 0.5</li><li><code>label smoothing</code>: 0</li></ul></li><li><code>early stopping</code> according to the <code>mean reciprocal rank</code> (WN18, FB15k, YAGO3-10) and <code>AUC-PR</code> (Countries) statistics on the validation set</li></ul></li></ul><h2 id="3-3-ç»“æœ"><a href="#3-3-ç»“æœ" class="headerlink" title="3.3 ç»“æœ"></a>3.3 ç»“æœ</h2><p>å®éªŒä¸­è¿›è¡Œè¯„ä¼°æ—¶ï¼Œæœ‰å‡ ä»¶æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><p>ç”±äºæ•°æ®å‡ºç°leakageï¼Œå› æ­¤ä½¿ç”¨äº†rule-based methodæ¥è¯†åˆ«é€†å‘å…³ç³»ä½œä¸ºå¯¹ç…§ï¼ŒåŒæ—¶åœ¨æ•°æ®é›†åŒ…æ‹¬æœ‰æ— é€†å‘å…³ç³»)ä¸­è¿›è¡Œè¯„ä¼°ï¼›</p></li><li><p>ä½¿ç”¨äº†<code>filtered setting</code>;</p><blockquote><p>Rank test triples against all other candidate triples not appearing in the training, validation, or test set.</p></blockquote><blockquote><p>Candidates are obtained by permuting either the subject or the object of a test triple with all entities in the knowledge graph.</p></blockquote></li></ul><h3 id="3-3-1-ä»å‚æ•°æ•ˆç‡çœ‹"><a href="#3-3-1-ä»å‚æ•°æ•ˆç‡çœ‹" class="headerlink" title="3.3.1 ä»å‚æ•°æ•ˆç‡çœ‹"></a>3.3.1 ä»å‚æ•°æ•ˆç‡çœ‹</h3><p><img src="/images/conve/3.png" alt="å‚æ•°æ•°é‡å’Œæ€§èƒ½(ConvE vs. DistMult)"></p><h3 id="3-3-2-ç»“æœ-å«æœ‰é€†å‘å…³ç³»"><a href="#3-3-2-ç»“æœ-å«æœ‰é€†å‘å…³ç³»" class="headerlink" title="3.3.2 ç»“æœ(å«æœ‰é€†å‘å…³ç³»)"></a>3.3.2 ç»“æœ(å«æœ‰é€†å‘å…³ç³»)</h3><p><img src="/images/conve/4.png" alt="ç»“æœ(å«æœ‰é€†å‘å…³ç³»)"></p><h3 id="3-3-3-ç»“æœ-ä¸å«é€†å‘å…³ç³»"><a href="#3-3-3-ç»“æœ-ä¸å«é€†å‘å…³ç³»" class="headerlink" title="3.3.3 ç»“æœ(ä¸å«é€†å‘å…³ç³»)"></a>3.3.3 ç»“æœ(ä¸å«é€†å‘å…³ç³»)</h3><p>è¿™é‡Œå°†æ•°æ®é›†ä¸­å­˜åœ¨é€†å‘å…³ç³»çš„ä¸‰å…ƒç»„å…¨éƒ¨åˆ é™¤äº†ï¼Œæ¥é¿å…leakageé€ æˆçš„è´Ÿé¢å½±å“ã€‚</p><p><img src="/images/conve/5.png" alt="ç»“æœ(ä¸å«é€†å‘å…³ç³»)1"></p><p><img src="/images/conve/6.png" alt="ç»“æœ(ä¸å«é€†å‘å…³ç³»)2"></p><h2 id="3-4-åˆ†æ"><a href="#3-4-åˆ†æ" class="headerlink" title="3.4 åˆ†æ"></a>3.4 åˆ†æ</h2><h3 id="3-4-1-æ¶ˆèå®éªŒ"><a href="#3-4-1-æ¶ˆèå®éªŒ" class="headerlink" title="3.4.1 æ¶ˆèå®éªŒ"></a>3.4.1 æ¶ˆèå®éªŒ</h3><p>ä¸ºäº†æŸ¥çœ‹ï¼Œå“ªéƒ¨åˆ†ç»„ä»¶åœ¨æ•´ä¸ªæ¶æ„ä¸­çš„ä½œç”¨æœ€é‡è¦ï¼Œæ¶ˆèå®éªŒæ˜¾ç¤ºï¼š</p><p><img src="/images/conve/7.png" alt="æ¶ˆèå®éªŒç»“æœ"></p><ul><li>hidden dropoutçš„å½±å“æœ€å¤§;</li><li>ä½†æ˜¯label smoothingçš„å½±å“å‡ ä¹å¯ä»¥å¿½ç•¥ï¼›</li></ul><h3 id="3-4-2-ä»å›¾çš„ç»“æ„åˆ†æä¼˜ç‚¹"><a href="#3-4-2-ä»å›¾çš„ç»“æ„åˆ†æä¼˜ç‚¹" class="headerlink" title="3.4.2 ä»å›¾çš„ç»“æ„åˆ†æä¼˜ç‚¹"></a>3.4.2 ä»å›¾çš„ç»“æ„åˆ†æä¼˜ç‚¹</h3><h4 id="3-4-2-1-å‡è®¾1"><a href="#3-4-2-1-å‡è®¾1" class="headerlink" title="3.4.2.1 å‡è®¾1"></a>3.4.2.1 å‡è®¾1</h4><p>datasets contain nodes with very high relation-speciï¬c indegreeæ—¶ï¼Œ<code>ConvE</code>æ•ˆæœæ›´å¥½ï¼Œè€Œindegreeè¾ƒå°æ—¶ï¼Œä¸€äº›æ¨¡å‹è¶³ä»¥åº”å¯¹<code>DistMult</code>ã€‚</p><blockquote><p>Our hypothesis is that deeper models, that is, models that learn multiple layers of features, like ConvE, have an advantage over shallow models, like DistMult, to capture all these constraints.</p></blockquote><ul><li>éªŒè¯ï¼šé€šè¿‡å°†æ•°æ®ä¸­indegreeä¸­çš„è¿‡å¤§æˆ–è€…è¿‡å°çš„nodeåˆ é™¤ï¼Œç„¶ååˆ†åˆ«ä½¿ç”¨ConvEå’ŒDistMultè¿›è¡Œå®éªŒï¼ŒéªŒè¯äº†ä¸Šè¿°å‡è®¾ã€‚</li></ul><h4 id="3-4-2-2-å‡è®¾2"><a href="#3-4-2-2-å‡è®¾2" class="headerlink" title="3.4.2.2 å‡è®¾2"></a>3.4.2.2 å‡è®¾2</h4><p>å¹³å‡PageRankè¶Šé«˜çš„graphï¼ŒConvEçš„æ€§èƒ½ç›¸æ¯”äº<code>DistMult</code>è¶Šå¥½ï¼›</p><blockquote><p>This gives additional evidence that models that are deeper have an advantage when modelling nodes with high (recursive) indegree.</p></blockquote><ul><li>éªŒè¯ï¼šé€šè¿‡è®¡ç®—å„ä¸ªæ•°æ®é›†çš„å¹³å‡pagerankå€¼ï¼Œç„¶åè®¡ç®—pagerankå€¼ä¸(convE - DistMult)å·®å€¼è®¡ç®—ç›¸å…³æ€§ï¼ŒéªŒè¯äº†ä¸Šè¿°å‡è®¾ï¼Œè¿™ä¸ªå‡è®¾2ä¸å‡è®¾1å…¶å®å¯ä»¥çœ‹æˆç­‰ä»·ã€‚</li></ul><h1 id="4-ä»£ç å®ç°"><a href="#4-ä»£ç å®ç°" class="headerlink" title="4. ä»£ç å®ç°"></a>4. ä»£ç å®ç°</h1><ul><li><p><a href="https://github.com/TimDettmers/ConvE">åŸæ–‡å®ç°</a></p></li><li><p><a href="https://github.com/Accenture/AmpliGraph">AmpliGraph</a></p></li></ul><h1 id="5-é—®é¢˜"><a href="#5-é—®é¢˜" class="headerlink" title="5. é—®é¢˜"></a>5. é—®é¢˜</h1><ol><li>ä¸CVä¸­CNNçš„åº”ç”¨å¯¹æ¯”ï¼Œæ¨¡å‹ä»æ˜¯æµ…å±‚ï¼Œæœªæ¥ä¼šå¢åŠ æ·±åº¦çš„å·ç§¯æ¨¡å‹ã€‚</li><li>2Då·ç§¯çš„è§£é‡Šï¼›</li><li>å¦‚ä½•æ›´å¤šåœ°æ•æ‰embeddingä¹‹é—´çš„äº¤äº’ï¼Œä¾‹å¦‚é€šè¿‡å¢åŠ å¤§å‹ç»“æ„ï¼›</li></ol>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç§‘å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çŸ¥è¯†å›¾è°± </tag>
            
            <tag> è¡¨ç¤ºå­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šç¾å›½é™·é˜±ã€‹ä¸­é˜¿å°”æ–¯é€šè¢«è‚¢è§£èƒŒåçš„ç»æµæˆ˜</title>
      <link href="/2021/11/13/du-shu-gan-wu/mei-guo-xian-jing-zhong-a-er-si-tong-bei-zhi-jie-bei-hou-de-jing-ji-zhan/"/>
      <url>/2021/11/13/du-shu-gan-wu/mei-guo-xian-jing-zhong-a-er-si-tong-bei-zhi-jie-bei-hou-de-jing-ji-zhan/</url>
      
        <content type="html"><![CDATA[<p>ç–«æƒ…åœ¨å®¶ï¼Œé™¤äº†å®Œæˆæ­£å¸¸çš„å·¥ä½œå­¦ä¹ å¤–ï¼Œç”±äºæ²¡å•¥å¥½çš„å¨±ä¹é¡¹ç›®ï¼Œè¯»ä¹¦æ˜¯ä¸€ç§å»‰ä»·çš„æ¶ˆé£æ–¹å¼ã€‚æ­£å·§é‡åˆ°ä¸€æœ¬ä¹¦ã€Šç¾å›½é™·é˜±ã€‹ï¼Œå…¶ä¸­çš„æƒ…èŠ‚å’Œé˜´è°‹è®ºææ€•ç”µå½±éƒ½æ‹ä¸å‡ºæ¥ï¼Œç”šè‡³å¯ä»¥å½“æˆæ‚¬ç–‘å°è¯´æ¥è¯»ã€‚</p><p><img src="/images/%E7%BE%8E%E5%9B%BD%E9%99%B7%E9%98%B1/1.png" alt="ã€Šç¾å›½é™·é˜±ã€‹"></p><h1 id="1-èƒŒæ™¯ä»‹ç»"><a href="#1-èƒŒæ™¯ä»‹ç»" class="headerlink" title="1. èƒŒæ™¯ä»‹ç»"></a>1. èƒŒæ™¯ä»‹ç»</h1><p>æœ€è¿‘å‡ å¹´ï¼Œç¾å›½åŠ å¤§å¯¹ä¸­å›½çš„æ‰“å‹åŠ›åº¦ï¼Œå°¤å…¶æ˜¯ç§‘æŠ€é¢†åŸŸï¼Œå…¶ä¸­ä»¥åä¸ºæœ€ä¸ºå¤§å®¶æ‰€ç†Ÿæ‚‰ã€‚é‚£ä¹ˆæœ€ä¸ºäººæ‰€çŸ¥ä¼ä¿©å³ï¼Œæ‰£æŠ¼å­Ÿæ™šèˆŸï¼ˆä»»æ­£éçš„å¥³å„¿å’Œåä¸ºçš„é«˜ç®¡ï¼‰ã€‚å¤§å®¶è‚¯å®šè·Œç ´çœ¼é•œï¼Œè¿™ç§æµæ°“å¼çš„æ‰‹æ®µï¼Œå¯¹äºè¢«ç§°ä¸ºâ€œä¸–ç•Œæœ€å¤§çš„æ°‘ä¸»å›½å®¶â€çš„ç¾å›½ï¼Œæ€ä¹ˆå¹²å¾—å‡ºæ¥ï¼Ÿ</p><p>å½“ç„¶ï¼Œç†ç”±è¿˜æ˜¯è¦æœ‰çš„ï¼Œä¸ç„¶æ— æ³•è¯´æœä¸–ç•Œèˆ†è®ºï¼Œå…¶å®ä¼°è®¡ä¹Ÿæ²¡äººä¿¡ã€‚å› ä¸ºè¿™ç§å¥—è·¯ä¹Ÿä¸æ˜¯ç¬¬ä¸€æ¬¡äº†ï¼Œæœ¬ä¹¦è®²å¾—å°±æ˜¯åŒæ ·çš„å¥—è·¯ï¼Œåº”ç”¨åˆ°å¦ä¸€ä¸ªå…¬å¸çš„å¦ä¸€ä¸ªäººèº«ä¸Šã€‚</p><p><img src="/images/%E7%BE%8E%E5%9B%BD%E9%99%B7%E9%98%B1/2.png" alt="ä¸¤èµ·äº‹ä»¶çš„å¯¹æ¯”"></p><p>è€Œæœ¬ä¹¦ï¼Œè®²å¾—å°±æ˜¯é˜¿å°”æ–¯é€šçš„æ•…äº‹ï¼Œè€Œä¸”æ˜¯ç”±å½“äº‹äººå¼—é›·å¾·é‡Œå…‹-çš®è€¶é²é½è‡ªå·±é™ˆè¿°çš„ã€‚å› æ­¤å¯¹äºæˆ‘ä»¬å…·æœ‰æå¤§çš„å‚è€ƒä»·å€¼ã€‚</p><p><img src="/images/%E7%BE%8E%E5%9B%BD%E9%99%B7%E9%98%B1/3.png" alt="è¿™ä½è€å“¥æ¯”å­Ÿæ™šèˆŸæƒ¨å¾—å¤š"></p><h1 id="2-é˜¿å°”æ–¯é€šä¸ä¸­å›½"><a href="#2-é˜¿å°”æ–¯é€šä¸ä¸­å›½" class="headerlink" title="2. é˜¿å°”æ–¯é€šä¸ä¸­å›½"></a>2. é˜¿å°”æ–¯é€šä¸ä¸­å›½</h1><p>é˜¿å°”æ–¯é€šæ˜¯æ³•å›½ä¸€å®¶æœ‰æˆ˜ç•¥æ„ä¹‰çš„å·¥ä¸šå·¨å¤´ï¼Œå…³äºå®ƒçš„å†…å®¹ï¼Œå¤§å®¶å¯ä»¥åœ¨ç½‘ä¸Šæœç´¢ï¼Œæˆ‘è¿™é‡Œä¸è¿‡å¤šé˜è¿°ï¼Œå¤§å®¶è®¤è¯†åˆ°è¿™æ˜¯ä¸€å®¶å·¥ä¸šå·¨å¤´å°±å¯ä»¥äº†ï¼Œæ³•å›½çš„æ ¸ç”µç«™éƒ½æ˜¯å®ƒæ¥ç»´æŠ¤çš„ï¼Œèˆ°è‰‡çš„ç‡ƒæ°”è½®æœºä¹Ÿæ˜¯å®ƒæä¾›çš„ã€‚</p><p>è€Œä»–ä¸ä¸­å›½çš„æ¸Šæºä¹Ÿæ˜¯é¢‡æ·±ï¼Œä¸‰å³¡æ°´åˆ©å·¥ç¨‹ã€å‘å®¶åæ°´åˆ©å·¥ç¨‹ç­‰å¥½å¤šé¡¹ç›®ï¼Œéƒ½æœ‰å®ƒçš„å‚ä¸ï¼Œ<strong>ç”šè‡³ä¹¦ä¸­è¿˜æŠ«éœ²ï¼Œå½“ç„¶æ˜¯é˜¿å°”æ–¯é€šçš„è®¤ç½ªåè®®ä¸­ï¼Œé˜¿å°”æ–¯é€šæ›¾ç»ä¸ºå‚ä¸å°åŒ—åœ°é“é¡¹ç›®ï¼Œè€Œè´¿èµ‚ç›¸å…³è´Ÿè´£äººã€‚</strong></p><p><img src="/images/%E7%BE%8E%E5%9B%BD%E9%99%B7%E9%98%B1/4.png" alt="é˜¿å°”æ–¯é€š"></p><h1 id="3-ä¹¦ä¸­ä¸»è¦å†…å®¹"><a href="#3-ä¹¦ä¸­ä¸»è¦å†…å®¹" class="headerlink" title="3. ä¹¦ä¸­ä¸»è¦å†…å®¹"></a>3. ä¹¦ä¸­ä¸»è¦å†…å®¹</h1><p>ä¸ºäº†å¤§å®¶èƒ½å¤Ÿæ˜ç™½ä¹¦ä¸­çš„ä¸»è¦çº¿ç´¢ï¼Œæˆ‘é¦–å…ˆç”¨å›¾çš„æ–¹å¼è¡¨è¾¾å…¶ä¸­æ¶‰åŠåˆ°çš„å‚ä¸äººå’Œæœºæ„ã€‚</p><p><img src="/images/%E7%BE%8E%E5%9B%BD%E9%99%B7%E9%98%B1/5.png" alt="å½“äº‹äººå’Œç›¸å…³å…³ç³»"></p><ol><li>é¦–å…ˆï¼Œç¾å›½å¸æ³•éƒ¨è´¨æ§é˜¿å°”æ–¯é€šè¿åã€Šåè…è´¥æ³•ã€‹ï¼Œé€®æ•ä½œè€…ï¼Œä¹Ÿå°±æ˜¯çš®è€¶é²é½ï¼Œå¸Œæœ›ä»–è®¤ç½ªï¼Œåœ¨é˜¿å°”æ–¯é€šå†…éƒ¨å……å½“â€œé—´è°â€ï¼Œä»¥ä¾¿æŒæ§è¯¥ä¼ä¸šçš„å†…éƒ¨ä¿¡æ¯ï¼Œä½œè€…æ‹’ç»ï¼Œè¢«ç›‘ç¦ï¼›</li><li>é™†ç»­æœ‰å…¶ä»–é˜¿å°”æ–¯é€šçš„é«˜ç®¡è¢«é€®æ•ï¼Œå…¬å¸CEOæƒ¶æï¼Œå¸Œæœ›æ‘†è„±è¯‰è®¼å’Œå…¥ç‹±ï¼›</li><li>é€šç”¨ç”µæ°”ä»‹å…¥ï¼Œæ‘†å‡ºäº†å¯ä»¥å¸®åŠ©é˜¿å°”æ–¯é€šæ‘†è„±å½“å‰å›°å±€çš„æ…ˆå–„é¢ç›®ï¼Œå…¬å¸CEOä¸ºè„±ç½ªï¼Œè¾¾æˆç§˜å¯†åè®®ï¼ˆæ¨æµ‹ï¼Œå½“äº‹äººéƒ½çŸ¢å£å¦è®¤ï¼Œä½†ä½œè€…å¼ºçƒˆæš—ç¤ºè¿™ç§è¡Œä¸ºï¼‰ï¼Œå°†é˜¿å°”æ–¯é€šèƒ½æºéƒ¨é—¨å‡ºå”®ç»™é€šç”¨ç”µæ°”ï¼ˆæ˜¯è¯¥å…¬å¸æœ€æœ‰ä»·å€¼çš„èµ„äº§ï¼‰ï¼›</li><li>æ³•å›½æ”¿åºœå¯¹è¿™ç§è¡Œä¸ºä¿æŒæš§æ˜§æ€åº¦ï¼Œåæ¥çŸ¥æ™“ï¼Œé€šç”¨ç”µæ°”å’Œé˜¿å°”æ–¯é€šèŠ±è´¹å°†è¿‘3äº¿æ¬§å…ƒè¿›è¡Œå…¬å…³ï¼Œè¿˜æœ‰ä¸€å±‚åŸå› ï¼Œé©¬å…‹é¾™ï¼ˆç°ä»»æ³•å›½æ€»ç»Ÿï¼Œæ—¶ä»»ç»æµéƒ¨é•¿ï¼‰ç›¸ä¿¡é˜¿å°”æ–¯é€šCEOä¸ç¾å›½å¸æ³•éƒ¨ã€é€šç”¨ç”µæ°”æœ‰äº¤æ˜“ï¼Œä½†æ˜¯æ²¡æœ‰è¯æ®ï¼›åŒæ—¶å—é™äºå¤§è¥¿æ´‹ä¸»ä¹‰ä»¥åŠå¯¹ç¾å›½å¼ºå¤§å®åŠ›çš„æ·±æ·±ææƒ§ï¼›</li><li>â€œè‚¢è§£â€äº¤æ˜“è¾¾æˆï¼Œä½œè€…è¢«åˆ¤å…¥ç‹±30ä¸ªæœˆã€‚</li></ol><p>ä»ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼Œä»å¤´åˆ°å°¾ï¼Œ<strong>ä½œè€…çš„è§’è‰²å’Œæ‰€å¤„çš„åœ°ä½ï¼Œç›¸è¾ƒäºæ•´ä¸ªäº‹ä»¶ï¼Œç®€ç›´å¾®ä¸è¶³é“ï¼æ‰€ä»¥ï¼Œå®é™…ä¸Šä»–å½“äº†ä¸€ä¸ªèƒŒé”…ä¾ å’Œæ›¿ç½ªç¾Šï¼</strong></p><h1 id="4-å¸¦ç»™æˆ‘ä»¬çš„æ€è€ƒå’Œå¯ç¤º"><a href="#4-å¸¦ç»™æˆ‘ä»¬çš„æ€è€ƒå’Œå¯ç¤º" class="headerlink" title="4. å¸¦ç»™æˆ‘ä»¬çš„æ€è€ƒå’Œå¯ç¤º"></a>4. å¸¦ç»™æˆ‘ä»¬çš„æ€è€ƒå’Œå¯ç¤º</h1><p><strong>ç¬¬ä¸€ç‚¹</strong>ï¼Œæˆ˜äº‰çš„å½¢å¼å·²ç»å‘ç”Ÿå˜åŒ–äº†ï¼Œä»ä¹‹å‰æªç‚®ç›¸åŠ ï¼Œè¡€è‚‰æ¨ªé£åˆ°ç½‘ç»œä¸–ç•Œçš„æ”»é˜²ï¼Œå¯èƒ½å¹¶æ²¡æœ‰äººæ­»äº¡ï¼Œä½†æ˜¯æŸå¤±å¯èƒ½æ›´å¤§ã€‚<strong>è¿™æœ¬ä¹¦ä¸­æåˆ°çš„æœ‰ä¸¤ç‚¹å¾ˆå€¼å¾—æ³¨æ„ï¼Œä¸€ä¸ªæ˜¯èˆ†è®ºå…¬å…³æˆ˜ï¼Œä¸€ä¸ªå°±æ˜¯æ³•å¾‹æˆ˜ã€‚</strong></p><p>é€šç”¨ç”µæ°”å’Œé˜¿å°”æ–¯é€šä¸ºä¿ƒæˆæ”¶è´­ï¼Œåœ¨åª’ä½“å’Œç½‘ç»œä¸Šï¼Œå¤§è‚†è¯´æ˜è¯¥æ”¶è´­å¸¦æ¥çš„å¥½å¤„ï¼Œæ¯”å¦‚å¢åŠ å°±ä¸šå²—ä½ï¼Œå¸®åŠ©é˜¿å°”æ–¯é€šæ‘†è„±è¯‰è®¼ï¼ŒåŒæ—¶æ¸¸è¯´æ³•å›½æ”¿ç•Œå’Œä¼ä¸šç•Œçš„ç²¾è‹±ã€‚ç»“æœï¼Œä¸€ä¸ªæ›¾ç»åœ¨æˆ´é«˜ä¹å°†å†›é¢†å¯¼ä¸‹è‡´åŠ›äºç‹¬ç«‹è‡ªä¸»çš„æ³•å›½å±…ç„¶åœ¨å¤–äººæ”¶è´­è‡ªå·±çš„æ ¸å¿ƒèµ„äº§æ—¶ï¼Œå±…ç„¶æ²‰é»˜æ˜¯â€œé‡‘â€ï¼Œç®€ç›´å¯æ€•ï¼æƒ³æƒ³æˆ‘ä»¬è¿™ä¸ªç¤¾ä¼šï¼Œè¿™æ ·çš„äººä¼šåœ¨å°‘æ•°å—ï¼Ÿ</p><p>æ³•å¾‹æˆ˜ï¼Œä¹Ÿå³æœ¬äº‹ä»¶çš„èµ·å› ï¼Œè¿åã€Šåæµ·å¤–è…è´¥æ³•ã€‹ã€‚è¿™ä¸ªæ³•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œç¾å›½ä¹‹å¤–å›½å®¶çš„å…¬å¸ï¼Œå¦‚æœä½¿ç”¨äº†ä¸ç¾å›½ç›¸å…³çš„å·¥å…·ï¼Œåˆ™å…¨éƒ¨æ”¶å—åˆ°è¯¥æ³•å¾‹çš„ç®¡è¾–ã€‚æ˜¯ä¸æ˜¯ï¼Œæœ‰ç‚¹æ²»å¤–æ³•æƒçš„æ„å‘³å‘¢ï¼æ¯”å¦‚ï¼Œåœ¨æˆ‘ä»¬å›½å®¶çŠ¯ç½ªï¼Œå´ç”¨ç¾å›½çš„æ³•å¾‹è¯‰è®¼ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹æ»‘ç¨½ï¼Œè¿™ç§åŸŸå¤–æ³•çš„è¡Œä½¿ï¼Œä½¿å¾—ç¾å›½çš„â€œå…¨çƒè­¦å¯Ÿâ€åœ°ä½åå®äº†ã€‚è€Œä¸”ï¼Œè¿˜è®©äººäº§ç”Ÿé”™è§‰ï¼Œå¥½åƒæ˜¯æˆ‘é”™äº†ï¼ˆè™½ç„¶åœ¨æœ¬ä¹¦ä¸­æåˆ°çš„é˜¿å°”æ–¯é€šç¡®å®æœ‰è…è´¥è¡Œä¸ºï¼‰ï¼</p><p><img src="/images/%E7%BE%8E%E5%9B%BD%E9%99%B7%E9%98%B1/6.png" alt="ã€Šåæµ·å¤–è…è´¥æ³•ã€‹"></p><p><strong>ç¬¬äºŒç‚¹</strong>ï¼Œæˆ‘æƒ³å¼•è¿°ä¹¦ä¸­çš„ä¸€å¥è¯ï¼Œ</p><blockquote><p>æˆ‘ä»¬ä¸èƒ½ä¸Šå½“å—éª—ã€‚ä¸ç®¡è°å½“ç¾å›½æ€»ç»Ÿï¼Œæ— è®ºä»–æ˜¯æ°‘ä¸»å…šäººè¿˜æ˜¯å…±å’Œå…šäººï¼Œåç››é¡¿éƒ½ä¼šç»´æŠ¤å°‘æ•°å·¥ä¸šå·¨å¤´çš„åˆ©ç›Š</p></blockquote><p>æœ‰äººæ›¾ç»ï¼Œè§‰å¾—ç¾å›½æ°‘ä¸»å…šä¸Šå°ï¼Œå¯¹æˆ‘ä»¬å¯èƒ½ä¼šæ¸©å’Œä¸€ç‚¹ï¼ˆå¯èƒ½æ³•å›½äººä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ï¼‰ï¼Œè¿˜æ˜¯æ”¾å¼ƒè¿™ç§å¹»æƒ³å§ï¼è¿™æ˜¯ä½“åˆ¶å†³å®šçš„ï¼Œä¸æ˜¯ç®€å•çš„äººäº‹å˜åŠ¨èƒ½å¤Ÿæ”¹å˜çš„ï¼Œç¾å›½æ”¿åºœå’Œä¼ä¸šå·¨å¤´çš„çº ç¼ ä¸æ–­çš„è”ç³»å¯¼è‡´â€œæ—‹è½¬é—¨â€çš„ä¸æ–­ä¸Šæ¼”ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯åšå¥½å‡†å¤‡å§ï¼</p><p><strong>ç¬¬ä¸‰ç‚¹</strong>ï¼Œâ€œäººæƒâ€å’Œâ€œè‡ªç”±â€è¿™ç§è¿‡äºæŠ½è±¡çš„ä¸œè¥¿ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„ç†è§£ï¼Œæ¯”å¦‚è¯´é‚£ä¸ªåªå–çŸ¿æ³‰æ°´çš„å½’å›½äººå‘˜ï¼Œå®ƒçš„è§£é‡Šå°±ä¸ºâ€œç‰¹æƒâ€ã€‚<strong>è€Œä¸”æ¯ä¸ªäººçš„ç†è§£éƒ½ä¼šå€¾å‘äºè‡ªå·±çš„åˆ©ç›Š</strong>ï¼Œæ¯”å¦‚ä½œè€…åœ¨ç‹±ä¸­çš„é­é‡ï¼Œç¾å›½çš„ç›‘ç‹±çš„ç¡®æ˜¯æ²¡æœ‰â€œäººæƒâ€ï¼Œä½ èƒ½ç›¸ä¿¡ç›‘ç‹±æ˜¯ç§äººçš„ï¼Œæ‰€ä»¥å½“ç„¶æ˜¯éœ€è¦ç›ˆåˆ©çš„ï¼Œâ€œäººæƒâ€å¤šè´¹é’±å•Šï¼Œä¸èµ„æœ¬ä¸»ä¹‰çš„æ ¸å¿ƒç›®æ ‡â€”â€”æ”«å–åˆ©ç›Šä¸ç¬¦å•Šï¼Œå½“äº‹æƒ…ä¸ä»–ä»¬çš„åˆ©ç›Šä¸ç¬¦æ—¶ï¼Œå°±ä¼šæœ‰è¿™æ ·çš„è®ºè°ƒã€‚å½“äººæƒåœ¨æ•Œå¯¹å›½å®¶é­åˆ°å¨èƒæ—¶ï¼Œè¿™æ—¶å€™ç¾å›½è¿™ä¸ªé“å¾·æ¥·æ¨¡å°±å‡ºæ¥äº†ã€‚</p><p><img src="/images/%E7%BE%8E%E5%9B%BD%E9%99%B7%E9%98%B1/7.png" alt="ä½ å“ï¼Œä½ ç»†å“ï¼"></p><p>ç¬¬å››ç‚¹ï¼Œçˆ±å›½ä¸»ä¹‰ï¼Œè¿™ç§ä¸œè¥¿åœ¨äººä»¬çš„è„‘æµ·ä¸­æ˜¯æ­£é¢çš„ä¸œè¥¿ï¼Œæˆ‘ä¹Ÿå€¾å‘äºè¿™æ ·è®¤ä¸ºã€‚ä½†æ˜¯æœ‰ä¸€ç‚¹åœ¨ä¹¦ä¸­æåŠï¼Œå£°ç§°â€œè‡ªå·±ç”Ÿäºæ–¯ï¼Œé•¿äºæ–¯â€çš„äººï¼Œå‘å¤§å®¶å½°æ˜¾è‡ªå·±çš„çˆ±å›½ä¸¾åŠ¨ï¼ŒçœŸæ˜¯æ˜¯æ‰€è°“çš„â€œçˆ±å›½äººå£«â€å—ï¼Œæˆ–è®¸é˜¿å°”æ–¯é€šCEOæŸç‚é¾™çš„è¯æœ‰åŠ©äºæˆ‘ä»¬æ€è€ƒï¼Œ</p><blockquote><p>æˆ‘æ˜¯æ³•å›½æ‹©ä¼˜é€‰æ‹”äººæ‰ä½“åˆ¶çš„äº§ç‰©ã€‚å€Ÿæ­¤æœºä¼šï¼Œæˆ‘æƒ³è¯´ï¼Œæˆ‘çš„çˆ¶æ¯éƒ½æ˜¯ç§»æ°‘ã€‚è‡ªä»åœ¨é˜¿å°”æ–¯é€šä»»èŒåï¼Œæˆ‘åœ¨æ³•å›½åˆ›é€ äº†å°†è¿‘1.5ä¸‡ä¸ªå°±ä¸šå²—ä½ï¼Œå¯¹æ­¤æˆ‘æ„Ÿåˆ°éå¸¸è‡ªè±ªã€‚æ¯ä¸ªäººéƒ½å¿…é¡»ä¸ºæ³•å›½å°±ä¸šåšå‡ºä¸€ä»½è´¡çŒ®ã€‚æˆ‘å·²ç»åŠªåŠ›åšå‡ºäº†å¾®è–„çš„è´¡çŒ®ã€‚</p></blockquote><p>ä¸è¦å¿˜è®°ï¼Œå°±æ˜¯ä»–ç§ä¸‹ä¸é€šç”¨ç”µæ°”å¯†è°‹ï¼Œè‚¢è§£äº†è‡ªå·±æœåŠ¡çš„â€œå·¥ä¸šæ˜ç â€ï¼</p><p>åœ¨è¿™æœ¬ä¹¦ä¸­ï¼Œè¿˜æœ‰å¾ˆå¤šå€¼å¾—äººä»¬æ€è€ƒçš„ä¸œè¥¿ï¼ŒåŒ…æ‹¬å‹æƒ…ã€çˆ±æƒ…ã€åŠ³èµ„å…³ç³»ã€ç³–è¡£ç‚®å¼¹ã€çˆ±å›½ä¸»ä¹‰ç­‰ç­‰ï¼Œå»ºè®®å¤§å®¶å»çœ‹ä¸€ä¸‹ï¼Œä¼šæ”¶è·ä¸ä¸€æ ·çš„ä¸œè¥¿ï¼å…¶ä¸­ï¼Œå¯¹ä¸ªäººæ¥è¯´ï¼Œæœ€æƒ³æåŠçš„ä¸€ç‚¹æ˜¯ï¼Œæ‰¾ä¸€ä¸ªå¥½å¦»å­çœŸçš„æ˜¯å¾ˆé‡è¦çš„äº‹æƒ…ï¼Œå°¤å…¶æ˜¯åƒè¿™ä½è€å“¥é­é‡ç›‘ç¦è¿™æ ·çš„é­é‡æ—¶ï¼Œæ›´èƒ½ä½“ç°è¿™ä¸€ç‚¹ã€‚</p><h1 id="5-Q-amp-A"><a href="#5-Q-amp-A" class="headerlink" title="5. Q&amp;A"></a>5. Q&amp;A</h1><p>çœ‹æœ¬ä¹¦æ—¶ï¼Œæˆ‘ä¸€ç›´ä¸æ˜ç™½çš„æœ‰å‡ ä¸ªé—®é¢˜ï¼Œåæ¥å¼„æ˜ç™½äº†ï¼Œåœ¨è¿™é‡Œåˆ—å‡ºæ¥åŒå¤§å®¶åˆ†äº«ã€‚</p><p><strong>1) ç¾å›½ä¸ºå•¥å¯ä»¥ç®¡ç†å›½å¤–çš„çŠ¯ç½ªï¼Ÿæ€ä¹ˆç®¡ï¼Ÿ</strong></p><p>è¿™ä¸ç¾å›½åœ¨å›½é™…ä¸Šå·¨å¤§çš„å½±å“åŠ›å’Œè¶…å¼ºçš„å®åŠ›æœ‰å…³ï¼Œæ¯”å¦‚ï¼šåšå›½é™…è´¸æ˜“éœ€è¦ç¾å…ƒç»“ç®—ï¼Œæ²¡æœ‰ç¾å…ƒçš„è¯æ²¡åŠæ³•è¿›è¡Œäº¤æ˜“ï¼Œå¤§å®¶ä¼™éƒ½ä¸è®¤ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸€ç›´æ¨è¿›äººæ°‘å¸å›½é™…åŒ–çš„åŸå› ä¹‹ä¸€ã€‚å› æ­¤ï¼Œä½ åªè¦æ¶‰åŠåˆ°ç¾å…ƒäº¤æ˜“ï¼Œå°±å½’ç¾å›½ç®¡ï¼Œå› ä¸ºç¾å…ƒæ˜¯ç¾å›½å‘è¡Œçš„ï¼Œå…·ä½“æ€ä¹ˆç®¡ï¼Œå›½é™…è´¸æ˜“ä¼šæœ‰æ¸…ç®—ï¼Œä¸»è¦çš„æ¸…ç®—ä¸­å¿ƒåœ¨ç¾å›½ï¼Œé€šä¿—ç‚¹è®²ï¼Œä¸å¬è¯çš„è¯ï¼Œä½ å°±æ²¡åŠæ³•æ”¶åˆ°è´§æ¬¾ï¼Œä¹Ÿæ²¡åŠæ³•è¿›å£ã€‚è¿™é‡Œï¼Œé¡ºä¾¿æä¸€å¥ï¼Œä½ è§‰å¾—Facebookçš„Libraèƒ½æˆåŠŸå—ï¼Ÿ</p><p>è¿˜æœ‰ä¸€ç‚¹ï¼Œé™¤äº†ä¸­å›½å¤–ï¼Œä¸–ç•Œä¸»è¦çš„ä¿¡æ¯æŠ€æœ¯å…¬å¸éƒ½æ˜¯ç¾å›½å…¬å¸ï¼Œæ‰€ä»¥åªè¦ä½ ç”¨äº†Gmailã€Facebookç­‰å°±éƒ½å’Œç¾å›½æœ‰å…³ç³»äº†ã€‚</p><p>å…¶å®ï¼Œç«‹ä»€ä¹ˆæ³•ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯è¦æœ‰æ‰§è¡Œèƒ½åŠ›ï¼Œè¿™æ˜¯ç¾å›½å‰å®³çš„åœ°æ–¹ã€‚æ¯”å¦‚ï¼Œæœ‰ä¸€å¤©ï¼Œä½ è¯´å…¨ä¸–ç•Œéƒ½å¾—å¬æˆ‘çš„ï¼Œäººå®¶ä»¥ä¸ºä½ æœ‰ç—…å‘¢ï¼Œä½†æ˜¯æœ‰äººä¸å¬æ—¶ï¼Œä½ æœ‰åŠæ³•æ²»äººå®¶ï¼Œè¿™æ—¶å¤§å®¶æ‰æœä½ ï¼Œæœ€èµ·ç è¡¨é¢ä¸Šæœä½ ï¼</p><p><strong>2) å¤§è¥¿æ´‹ä¸»ä¹‰ VS äº²æ¬§æ´²ä¸»ä¹‰</strong></p><p>ç®€å•æ¥è®²ï¼Œå¤§è¥¿æ´‹ä¸»ä¹‰ï¼Œå°±æ˜¯è¥¿æ¬§å’ŒåŒ—ç¾äº’ç›¸åˆä½œï¼Œä¿æŠ¤å…±åŒçš„å®‰å…¨å’Œä»·å€¼è§‚ï¼Œä½†æ˜¯è¢«è®¤ä¸ºæ˜¯ç¾å›½æ“çºµæ¬§æ´²çš„å·¥å…·ï¼Œå°¤å…¶æ˜¯å¯¹äºç›Ÿå‹ï¼Œç¾å›½çš„å°åŠ¨ä½œä¹Ÿåœ¨ä¸æ–­çš„æƒ…å†µä¸‹ã€‚äº²æ¬§æ´²ä¸»ä¹‰ï¼Œå¼ºè°ƒæ¬§æ´²ä¸€ä½“åŒ–ï¼Œæ‘†è„±ç¾å›½çš„å½±å“ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è¯»ä¹¦æ„Ÿæ‚Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç»æµ </tag>
            
            <tag> æ”¿æ²» </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
